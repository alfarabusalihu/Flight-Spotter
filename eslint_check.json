[{"filePath":"D:\\Projects\\flight-spotter\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\app\\actions\\flight.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":62,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":62,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2376,2379],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2376,2379],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":100,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":100,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3948,3951],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3948,3951],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":124,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":124,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4924,4927],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4924,4927],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":137,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":137,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5342,5345],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5342,5345],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":152,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":152,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5836,5839],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5836,5839],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":167,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":167,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6323,6326],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6323,6326],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":182,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":182,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6957,6960],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6957,6960],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use server\";\r\n\r\nimport Amadeus from \"amadeus\";\r\n\r\nconsole.log(\"Amadeus Server: Verifying credentials...\");\r\nif (!process.env.amadeus_api_key) console.error(\"Missing amadeus_api_key\");\r\nif (!process.env.amadeus_api_secret) console.error(\"Missing amadeus_api_secret\");\r\n\r\nconst amadeus = new Amadeus({\r\n    clientId: process.env.amadeus_api_key,\r\n    clientSecret: process.env.amadeus_api_secret,\r\n});\r\n\r\nexport async function searchLocationsAction(keyword: string) {\r\n    console.log(\"Amadeus Search Locations Request:\", keyword);\r\n    try {\r\n        const response = await amadeus.referenceData.locations.get({\r\n            keyword: keyword.toUpperCase(),\r\n            subType: Amadeus.location.city,\r\n        });\r\n        console.log(`[AMADEUS] Search Success for \"${keyword.toUpperCase()}\":`, response.data.length, \"results\");\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error(\"Amadeus Location Search Error:\", error);\r\n        return [];\r\n    }\r\n}\r\n\r\nexport async function getNearestAirportAction(lat: number, lon: number) {\r\n    try {\r\n        const response = await amadeus.referenceData.locations.airports.get({\r\n            latitude: lat,\r\n            longitude: lon,\r\n            sort: \"distance\",\r\n        });\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error(\"Amadeus Nearest Airport Error:\", error);\r\n        return [];\r\n    }\r\n}\r\n\r\nconst SUPPORTED_SANDBOX_ORIGINS = ['MAD', 'PAR', 'LON', 'BER', 'FRA', 'MUC'];\r\n\r\nexport async function getFlightInspirationAction(origin: string) {\r\n    const originCode = origin.includes(\" - \") ? origin.split(\" - \")[0] : origin;\r\n\r\n    const isSandbox = (process.env.AMADEUS_ENVIRONMENT || 'sandbox').toLowerCase() === 'sandbox';\r\n\r\n    // In sandbox mode, we proactively skip unsupported origins to avoid 500 errors\r\n    if (isSandbox && !SUPPORTED_SANDBOX_ORIGINS.includes(originCode.toUpperCase())) {\r\n        console.warn(`[Amadeus] [Sandbox] Skipping inspiration call for ${originCode}. User will see tip/fallback.`);\r\n        return [];\r\n    }\r\n\r\n    try {\r\n        const response = await amadeus.shopping.flightDestinations.get({\r\n            origin: originCode.toUpperCase(),\r\n        });\r\n        console.log(`[AMADEUS] Inspiration Success for \"${originCode.toUpperCase()}\":`, response.data?.length || 0, \"deals\");\r\n        return response.data;\r\n    } catch (error: any) {\r\n        console.error(\"--- Amadeus Flight Inspiration ERROR ---\");\r\n        console.error(\"Status Code:\", error.response?.statusCode);\r\n\r\n        if (error.response?.statusCode === 500 || error.response?.statusCode === 400) {\r\n            console.warn(\"DIAGNOSIS: Unexpected Amadeus Test Tier restriction.\");\r\n        }\r\n\r\n        return [];\r\n    }\r\n}\r\n\r\nexport async function searchFlightsAction(params: {\r\n    originLocationCode: string;\r\n    destinationLocationCode: string;\r\n    departureDate: string;\r\n    returnDate?: string;\r\n    adults: string;\r\n}) {\r\n    console.log(\"--- Amadeus Search Flights Initiation ---\");\r\n    console.log(\"Parameters:\", JSON.stringify(params, null, 2));\r\n\r\n    try {\r\n        const normalizedParams = {\r\n            ...params,\r\n            originLocationCode: params.originLocationCode.toUpperCase(),\r\n            destinationLocationCode: params.destinationLocationCode.toUpperCase(),\r\n        };\r\n        const response = await amadeus.shopping.flightOffersSearch.get(normalizedParams);\r\n        console.log(`[AMADEUS] Search Success: ${response.statusCode} - Found ${response.data?.length || 0} results`);\r\n\r\n        if (response.data && response.data.length > 0) {\r\n            // console.log(\"First Result Sample:\", JSON.stringify(response.data[0], null, 2).slice(0, 200) + \"...\");\r\n        } else {\r\n            console.warn(`[AMADEUS] Search returned 0 results for ${params.originLocationCode}->${params.destinationLocationCode} on ${params.departureDate}`);\r\n        }\r\n\r\n        return response.data;\r\n    } catch (error: any) {\r\n        console.error(\"--- Amadeus Search ERROR ---\");\r\n        console.error(\"Error Code:\", error.code);\r\n        console.error(\"Error Message:\", error.message || \"Unknown Error\");\r\n        if (error.response) {\r\n            console.error(\"Error Response Status:\", error.response.statusCode);\r\n            console.error(\"Error Response Data:\", JSON.stringify(error.response.data, null, 2));\r\n        }\r\n        return [];\r\n    }\r\n}\r\n\r\nexport async function getPriceTrendsAction(params: {\r\n    originIataCode: string;\r\n    destinationIataCode: string;\r\n}) {\r\n    console.log(\"Amadeus Price Trends Request:\", params);\r\n    try {\r\n        const response = await amadeus.analytics.itineraryPriceMetrics.get({\r\n            originIataCode: params.originIataCode,\r\n            destinationIataCode: params.destinationIataCode,\r\n        });\r\n        console.log(\"Amadeus Price Trends Success:\", response.data?.length || 0);\r\n        return response.data;\r\n    } catch (error: any) {\r\n        console.error(\"Amadeus Price Trends Error:\", error.message);\r\n        return [];\r\n    }\r\n}\r\n\r\nexport async function getAirlinesAction(carrierCodes: string) {\r\n    console.log(\"Amadeus Airline Lookup:\", carrierCodes);\r\n    try {\r\n        const response = await amadeus.referenceData.airlines.get({\r\n            airlineCodes: carrierCodes\r\n        });\r\n        return response.data;\r\n    } catch (error: any) {\r\n        console.error(\"Amadeus Airline Lookup Error:\", error.message);\r\n        return [];\r\n    }\r\n}\r\n\r\nexport async function getNearbyAirportsAction(lat: number, lon: number) {\r\n    console.log(\"Amadeus Nearby Airports Discovery:\", lat, lon);\r\n    try {\r\n        const response = await amadeus.referenceData.locations.airports.get({\r\n            latitude: lat,\r\n            longitude: lon,\r\n            sort: \"distance\"\r\n        });\r\n        return response.data;\r\n    } catch (error: any) {\r\n        console.error(\"Amadeus Nearby Discovery Error:\", error.message);\r\n        return [];\r\n    }\r\n}\r\n\r\nexport async function getPointsOfInterestAction(lat: number, lon: number) {\r\n    console.log(\"Amadeus POI Discovery:\", lat, lon);\r\n    try {\r\n        const response = await amadeus.referenceData.locations.pointsOfInterest.get({\r\n            latitude: lat,\r\n            longitude: lon,\r\n            radius: 5\r\n        });\r\n        return response.data;\r\n    } catch (error: any) {\r\n        console.error(\"--- Amadeus POI Error ---\");\r\n        console.error(\"Status:\", error.response?.statusCode || \"N/A\");\r\n        console.error(\"Details:\", error.response?.data?.errors?.[0]?.detail || error.message || \"Unknown error\");\r\n        return [];\r\n    }\r\n}\r\nexport async function getLocationDetailsAction(iataCode: string) {\r\n    console.log(\"Amadeus Location Detail Lookup:\", iataCode);\r\n    try {\r\n        const response = await amadeus.referenceData.locations.get({\r\n            keyword: iataCode,\r\n            subType: Amadeus.location.airport,\r\n        });\r\n        return response.data;\r\n    } catch (error: any) {\r\n        console.error(\"Amadeus Location Detail Error:\", error.message);\r\n        return [];\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\app\\actions\\localization.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":25,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":25,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":49,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":49,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":66,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":66,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use server\";\r\n\r\nimport { GoogleGenerativeAI } from \"@google/generative-ai\";\r\n\r\nimport { FALLBACK_RATES } from \"@/constants/localizationData\";\r\n\r\nlet genAI: GoogleGenerativeAI | null = null;\r\nfunction getGenAI() {\r\n    if (!genAI) {\r\n        genAI = new GoogleGenerativeAI(process.env.GEMINI_API_KEY || \"\");\r\n    }\r\n    return genAI;\r\n}\r\n\r\n/**\r\n * Fetches real-time currency rates relative to USD\r\n * Uses a zero-auth public API for reliability\r\n */\r\nexport async function getCurrencyRatesAction() {\r\n    try {\r\n        const response = await fetch(\"https://open.er-api.com/v6/latest/USD\");\r\n        if (!response.ok) throw new Error(\"API Limit reached\");\r\n        const data = await response.json();\r\n        return data.rates || FALLBACK_RATES;\r\n    } catch (e) {\r\n        console.warn(\"[Localization] Falling back to hardcoded currency rates.\");\r\n        return FALLBACK_RATES;\r\n    }\r\n}\r\n\r\n/**\r\n * AI-powered translation for main headings and navigation\r\n */\r\nexport async function translateContentAction(lang: string, keys: string[]): Promise<Record<string, string>> {\r\n    if (lang === \"en\") return Object.fromEntries(keys.map(k => [k, k]));\r\n\r\n    try {\r\n        const model = getGenAI().getGenerativeModel({ model: \"gemini-2.0-flash-exp\" });\r\n        const prompt = `Translate the following travel website navigation and heading keys into ${lang}. \r\n        Return ONLY a JSON object where the key is the original English and the value is the translation. \r\n        Do NOT translate brand names like \"Flight Spotter\".\r\n        \r\n        Keys: ${JSON.stringify(keys)}`;\r\n\r\n        const result = await model.generateContent(prompt);\r\n        const text = result.response.text();\r\n        const jsonMatch = text.match(/\\{[\\s\\S]*\\}/);\r\n        return jsonMatch ? JSON.parse(jsonMatch[0]) : {};\r\n    } catch (e) {\r\n        return {};\r\n    }\r\n}\r\n\r\n/**\r\n * Get a list of top global airlines for the marquee using AI context\r\n */\r\nexport async function getGlobalAirlinesAction(): Promise<string[]> {\r\n    try {\r\n        const model = getGenAI().getGenerativeModel({ model: \"gemini-2.0-flash-exp\" });\r\n        const prompt = `Return a list of the top 30 most famous global airlines as dynamic IATA 2-letter codes. Return ONLY a JSON array of strings. Example: [\"LH\", \"BA\", \"EK\"]`;\r\n\r\n        const result = await model.generateContent(prompt);\r\n        const text = result.response.text();\r\n        const jsonMatch = text.match(/\\[[\\s\\S]*\\]/);\r\n        return jsonMatch ? JSON.parse(jsonMatch[0]) : [\"LH\", \"BA\", \"EK\", \"QR\", \"SQ\", \"AF\", \"KL\", \"UA\", \"DL\", \"AA\"];\r\n    } catch (e) {\r\n        return [\"LH\", \"BA\", \"EK\", \"QR\", \"SQ\", \"AF\", \"KL\", \"UA\", \"DL\", \"AA\"];\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\app\\actions\\predict.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":78,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":78,"endColumn":19},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":124,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":124,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4849,4852],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4849,4852],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":218,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":218,"endColumn":15}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use server\";\r\n\r\nimport { GoogleGenerativeAI } from \"@google/generative-ai\";\r\n\r\n// Initialize lazily to ensure environment variables are loaded\r\nlet genAI: GoogleGenerativeAI | null = null;\r\n\r\nfunction getGenAI() {\r\n    if (!genAI) {\r\n        genAI = new GoogleGenerativeAI(process.env.GEMINI_API_KEY || \"\");\r\n    }\r\n    return genAI;\r\n}\r\n\r\ninterface PredictionContext {\r\n    origin: string;\r\n    month?: string;\r\n    dayOfWeek?: string;\r\n}\r\n\r\n/**\r\n * Predicts likely destinations based on origin and context using Gemini\r\n * This helps pre-fetch likely destination data for the autocomplete\r\n */\r\nexport async function predictDestinationsAction(context: PredictionContext): Promise<string[]> {\r\n    if (!process.env.GEMINI_API_KEY) {\r\n        console.warn(\"[GEMINI] API Key missing (GEMINI_API_KEY), skipping prediction\");\r\n        return [];\r\n    }\r\n\r\n    console.log(\"[GEMINI] Predicting destinations for:\", context.origin);\r\n    console.log(\"[GEMINI] API Key starts with:\", process.env.GEMINI_API_KEY.substring(0, 5) + \"...\");\r\n\r\n    try {\r\n        const model = getGenAI().getGenerativeModel({ model: \"gemini-2.0-flash-exp\" });\r\n\r\n        const prompt = `\r\n        As a travel expert AI, predict the top 5 most popular and likely flight destinations from the origin airport/city: ${context.origin}.\r\n        \r\n        Context:\r\n        - Origin: ${context.origin}\r\n        - Current Month: ${context.month || 'Current'}\r\n        - Day: ${context.dayOfWeek || 'Weekday'}\r\n        \r\n        Rules:\r\n        1. Return ONLY a valid JSON array of 5 IATA codes (3-letter uppercase strings).\r\n        2. Do not include any text, markdown formatting, or explanations.\r\n        3. Prioritize major hubs and popular business/leisure routes.\r\n        4. If the origin is obscure, provide 5 major global hubs.\r\n        \r\n        Example Output: [\"LHR\", \"JFK\", \"DXB\", \"SIN\", \"CDG\"]\r\n        `;\r\n\r\n        const result = await model.generateContent(prompt);\r\n        const response = result.response;\r\n        const text = response.text();\r\n\r\n        console.log(\"[GEMINI] Prompt Origin:\", context.origin);\r\n        console.log(\"[GEMINI] Raw Response Content:\", text);\r\n\r\n        // More flexible regex: Match anything that looks like a 3-letter uppercase code inside an array\r\n        // Handles single quotes, double quotes, varying spaces, etc.\r\n        const arrayMatch = text.match(/\\[\\s*(?:['\"]?[A-Z]{3}[']?\\s*,\\s*)*['\"]?[A-Z]{3}[']?\\s*\\]/i);\r\n\r\n        if (!arrayMatch) {\r\n            console.warn(\"[GEMINI] No IATA array found in AI response.\");\r\n            return [];\r\n        }\r\n\r\n        // Clean and parse\r\n        const cleanJson = arrayMatch[0].replace(/'/g, '\"').toUpperCase();\r\n        try {\r\n            const predictions = JSON.parse(cleanJson);\r\n            if (Array.isArray(predictions)) {\r\n                console.log(\"[GEMINI] Successfully predicted:\", predictions);\r\n                return predictions.map(s => String(s).toUpperCase()).slice(0, 5);\r\n            }\r\n        } catch (e) {\r\n            console.error(\"[GEMINI] JSON parse error on:\", cleanJson);\r\n        }\r\n\r\n        return [];\r\n    } catch (error) {\r\n        console.error(\"[GEMINI] API Error:\", error);\r\n        return [];\r\n    }\r\n}\r\n\r\nexport async function predictPriceTrendsAction(\r\n    origin: string,\r\n    destination: string,\r\n    currentPrice: number\r\n): Promise<{ date: string; price: number }[]> {\r\n    if (!process.env.GEMINI_API_KEY) return [];\r\n\r\n    try {\r\n        const model = getGenAI().getGenerativeModel({ model: \"gemini-2.0-flash-exp\" });\r\n\r\n        const prompt = `\r\n        As a flight pricing analyst, predict a realistic 14-day price trend for a flight from the origin airport (${origin}) to the destination airport (${destination}).\r\n        Ground the prediction starting with today's price of ${currentPrice}.\r\n        \r\n        CRITICAL CONTEXT:\r\n        - Route: ${origin} ➝ ${destination}\r\n        - Base Price: ${currentPrice}\r\n        - Start Date: ${new Date().toISOString().split('T')[0]}\r\n        \r\n        Rules:\r\n        1. Return ONLY a valid JSON array of 14 objects.\r\n        2. Format: { \"date\": \"YYYY-MM-DD\", \"price\": number }\r\n        3. The first item MUST be for today (${new Date().toISOString().split('T')[0]}) and match the base price of ${currentPrice}.\r\n        4. Prices should fluctuate realistically (+/- 20%) based on typical airline logic, holidays, and route popularity.\r\n        5. Ignore any other geographical context; ONLY predict for the provided ${origin} to ${destination} route.\r\n        6. No text or markdown formatting.\r\n        \r\n        Example: [{\"date\": \"2024-03-01\", \"price\": 450}, ...]\r\n        `;\r\n\r\n        const result = await model.generateContent(prompt);\r\n        const text = result.response.text();\r\n\r\n        console.log(`[GEMINI] Price Trend Raw Output:`, text);\r\n\r\n        let trends: any[] = [];\r\n        try {\r\n            // Find the outermost [ ] to handle potential markdown or conversational noise\r\n            const startIndex = text.indexOf('[');\r\n            const endIndex = text.lastIndexOf(']');\r\n\r\n            if (startIndex !== -1 && endIndex !== -1 && endIndex > startIndex) {\r\n                const jsonStr = text.substring(startIndex, endIndex + 1);\r\n                trends = JSON.parse(jsonStr);\r\n                console.log(`[GEMINI] ✅ Parsed ${trends.length} items from boundary extraction`);\r\n            } else {\r\n                // Regex fallback\r\n                const arrayMatch = text.match(/\\[\\s*\\{[\\s\\S]*\\}\\s*\\]/);\r\n                if (arrayMatch) {\r\n                    trends = JSON.parse(arrayMatch[0]);\r\n                    console.log(`[GEMINI] ✅ Parsed ${trends.length} items from regex fallback`);\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.error(\"[GEMINI] Price Trend Parse Error:\", e);\r\n            return [];\r\n        }\r\n\r\n        if (Array.isArray(trends) && trends.length > 0) {\r\n            return trends;\r\n        }\r\n        return [];\r\n    } catch (error) {\r\n        console.error(\"[GEMINI] Price Trend Critical Error:\", error);\r\n        return [];\r\n    }\r\n}\r\n\r\n/**\r\n * Generates popular tourist places using Gemini (AI Knowledge)\r\n * Uses location name as primary identifier for better reliability\r\n */\r\nexport async function getAIInsightsAction(locationName: string, iataCode?: string) {\r\n    if (!process.env.GEMINI_API_KEY) return [];\r\n\r\n    console.log(`[GEMINI] Generating Tourist Insights for: ${locationName} (${iataCode || 'N/A'})`);\r\n\r\n    try {\r\n        const model = getGenAI().getGenerativeModel({ model: \"gemini-2.0-flash-exp\" });\r\n\r\n        const prompt = `\r\n        As a local travel guide, list 20 of the most popular tourist attractions or hidden gems in or near \"${locationName}\"${iataCode ? ` (IATA: ${iataCode})` : ''}.\r\n        \r\n        Rules:\r\n        1. Return ONLY a valid JSON array.\r\n        2. Format: [{ \"id\": \"unique_id\", \"name\": \"Place Name\", \"category\": \"Category\", \"rank\": \"4.x\", \"tags\": [\"tag1\", \"tag2\"], \"intro\": \"Detailed 2-sentence intro about why this place is special.\" }]\r\n        3. Sort by popularity (most popular first).\r\n        4. Category examples: \"Historic_Site\", \"Nature\", \"Museum\", \"Shopping\", \"Beach\".\r\n        5. \"id\" should be a random numeric string.\r\n        6. \"rank\" should be a string between \"4.0\" and \"5.0\".\r\n        7. Ensure the places are actually in or very close to \"${locationName}\".\r\n        \r\n        Example for Paris:\r\n        [{\"id\": \"101\", \"name\": \"Eiffel Tower\", \"category\": \"Landmark\", \"rank\": \"4.9\", \"tags\": [\"Romance\", \"View\"], \"intro\": \"The iron lady of Paris, offering breathtaking views of the city. A must-visit for any traveler.\"}]\r\n        `;\r\n\r\n        const result = await model.generateContent(prompt);\r\n        const text = result.response.text();\r\n        const cleanJson = text.replace(/```json/g, '').replace(/```/g, '').trim();\r\n        const arrayMatch = cleanJson.match(/\\[[\\s\\S]*\\]/);\r\n        const finalJson = arrayMatch ? arrayMatch[0] : cleanJson;\r\n\r\n        try {\r\n            const data = JSON.parse(finalJson);\r\n            console.log(`[GEMINI] Generated ${data.length} insights for ${locationName}`);\r\n            return data;\r\n        } catch (e) {\r\n            console.error(\"[GEMINI] JSON Parse Error for Insights:\", e);\r\n            return [];\r\n        }\r\n    } catch (error) {\r\n        console.error(\"[GEMINI] Insight Generation Error:\", error);\r\n        return [];\r\n    }\r\n}\r\n\r\n/**\r\n * Generates human-like descriptions for Points of Interest\r\n * (Kept for compatibility if used elsewhere, or could be deprecated)\r\n */\r\nexport async function getPOIIntroAction(poiName: string, category: string): Promise<string> {\r\n    if (!process.env.GEMINI_API_KEY) return \"A must-visit landmark known for its cultural significance and breathtaking views.\";\r\n\r\n    try {\r\n        const model = getGenAI().getGenerativeModel({ model: \"gemini-2.0-flash-exp\" });\r\n        const prompt = `Write a very short (max 15 words) catchy introduction/description for a tourist attraction called \"${poiName}\" which is categorized as ${category}. Make it sound like a premium travel guide. Return ONLY the description.`;\r\n\r\n        const result = await model.generateContent(prompt);\r\n        return result.response.text().trim();\r\n    } catch (e) {\r\n        return \"Experience the unique charm and history of this highly-rated destination.\";\r\n    }\r\n}\r\n\r\n/**\r\n * Returns a list of associated airlines for the navbar display\r\n */\r\nexport async function getAssociatedAirlinesAction() {\r\n    // In a real app, this might come from a DB or specific partnership list\r\n    return [\r\n        { name: \"Lufthansa\", code: \"LH\", logo: \"https://www.lufthansa.com/etc.clientlibs/lufthansa/clientlibs/clientlib-resources/resources/img/logo/lh_logo.svg\" },\r\n        { name: \"Delta Air Lines\", code: \"DL\", logo: \"\" },\r\n        { name: \"Emirates\", code: \"EK\", logo: \"\" },\r\n        { name: \"British Airways\", code: \"BA\", logo: \"\" },\r\n        { name: \"Singapore Airlines\", code: \"SQ\", logo: \"\" },\r\n        { name: \"Qatar Airways\", code: \"QR\", logo: \"\" },\r\n        { name: \"Air France\", code: \"AF\", logo: \"\" }\r\n    ];\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\app\\auth\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'LogIn' is defined but never used.","line":7,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":15,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"LogIn"},"fix":{"range":[175,181],"text":""},"desc":"Remove unused variable \"LogIn\"."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":50,"column":25,"nodeType":"JSXOpeningElement","endLine":50,"endColumn":106}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\n\"use client\";\r\n\r\nimport { auth, googleProvider } from \"@/lib/firebase\";\r\nimport { signInWithPopup } from \"firebase/auth\";\r\nimport { motion } from \"framer-motion\";\r\nimport { LogIn, Plane } from \"lucide-react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nexport default function AuthPage() {\r\n    const router = useRouter();\r\n\r\n    const handleSignIn = async () => {\r\n        try {\r\n            await signInWithPopup(auth, googleProvider);\r\n            router.push(\"/\");\r\n        } catch (error) {\r\n            console.error(\"Error signing in:\", error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen flex items-center justify-center px-4 relative\">\r\n            <motion.div\r\n                initial={{ opacity: 0, scale: 0.9 }}\r\n                animate={{ opacity: 1, scale: 1 }}\r\n                transition={{ duration: 0.5 }}\r\n                className=\"max-w-md w-full backdrop-blur-xl bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/5 rounded-[2rem] p-10 shadow-2xl relative z-10 overflow-hidden\"\r\n            >\r\n                {/* Decorative Elements */}\r\n                <div className=\"absolute -top-10 -right-10 w-32 h-32 bg-dark-cyan/20 blur-3xl rounded-full\" />\r\n                <div className=\"absolute -bottom-10 -left-10 w-32 h-32 bg-dark-cyan-light/20 blur-3xl rounded-full\" />\r\n\r\n                <div className=\"flex flex-col items-center text-center\">\r\n                    <div className=\"w-16 h-16 bg-dark-cyan rounded-2xl flex items-center justify-center text-white mb-6 shadow-xl shadow-dark-cyan/20\">\r\n                        <Plane className=\"w-8 h-8 rotate-45\" />\r\n                    </div>\r\n\r\n                    <h1 className=\"text-3xl font-display font-bold text-foreground mb-4\">\r\n                        Welcome Back\r\n                    </h1>\r\n                    <p className=\"text-foreground/60 mb-10 text-sm leading-relaxed\">\r\n                        Sign in to access real-time flight trends, save your favorite routes, and unlock personalized travel insights.\r\n                    </p>\r\n\r\n                    <button\r\n                        onClick={handleSignIn}\r\n                        className=\"w-full flex items-center justify-center gap-3 px-8 py-4 bg-white dark:bg-foreground/5 text-foreground hover:bg-foreground/5 dark:hover:bg-foreground/10 border border-foreground/10 rounded-2xl transition-all font-semibold group\"\r\n                    >\r\n                        <img src=\"https://www.google.com/favicon.ico\" alt=\"Google\" className=\"w-5 h-5\" />\r\n                        Continue with Google\r\n                    </button>\r\n\r\n                    <p className=\"mt-8 text-xs text-foreground/40\">\r\n                        By continuing, you agree to our Terms of Service <br /> and Privacy Policy.\r\n                    </p>\r\n                </div>\r\n            </motion.div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\app\\flights\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Metadata' is defined but never used.","line":3,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":18,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Metadata"},"fix":{"range":[17,49],"text":""},"desc":"Remove unused import declaration."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { Metadata } from \"next\";\r\nimport { Suspense } from \"react\";\r\nimport ErrorBoundary from \"@/components/ErrorBoundary\";\r\nimport SearchSection from \"@/components/SearchSection\";\r\nimport ResultsDashboardWrapper from \"@/components/ResultsDashboardWrapper\";\r\nimport SearchFiltersBar from \"@/components/SearchFiltersBar\";\r\nimport LocationOnboardingBanner from \"@/components/LocationOnboardingBanner\";\r\nimport { useAuth } from \"@/lib/firebase\";\r\n\r\n// Server Component - Static parts render on server\r\nexport default function FlightsPage() {\r\n    const { isAuthenticated } = useAuth();\r\n\r\n    return (\r\n        <ErrorBoundary>\r\n            <div className=\"min-h-screen flex flex-col relative bg-background transition-colors duration-1000\">\r\n\r\n                <main className=\"flex-1 w-full flex flex-col items-center relative z-10\">\r\n                    {/* Onboarding Banner */}\r\n                    <LocationOnboardingBanner isAuthenticated={isAuthenticated} />\r\n\r\n                    {/* Page Title - SSR */}\r\n                    <div className=\"w-full max-w-[1600px] mx-auto px-4 md:px-6 pt-10 pb-10\">\r\n                        <div>\r\n                            <h1 className=\"text-4xl md:text-5xl font-display font-black tracking-tighter text-foreground mb-3\">\r\n                                Find Your Perfect{\" \"}\r\n                                <span className=\"text-dark-cyan-light\">Flight</span>\r\n                            </h1>\r\n                            <p className=\"text-foreground/60 text-lg\">\r\n                                Search and compare flights from hundreds of airlines\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <SearchFiltersBar />\r\n                    <SearchSection />\r\n\r\n                    {/* Results - Conditionally rendered */}\r\n                    <Suspense fallback={<div />}>\r\n                        <ResultsDashboardWrapper />\r\n                    </Suspense>\r\n\r\n                </main>\r\n\r\n\r\n            </div>\r\n        </ErrorBoundary >\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\app\\layout.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Auth' is defined but never used.","line":4,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":12,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Auth"},"fix":{"range":[112,156],"text":""},"desc":"Remove unused import declaration."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { Metadata } from \"next\";\nimport { Inter, Outfit } from \"next/font/google\";\nimport \"./globals.css\";\nimport Auth from \"@/components/layout/Auth\";\nimport Header from \"@/components/layout/Header\";\nimport Footer from \"@/components/layout/Footer\";\n\nconst inter = Inter({\n  variable: \"--font-inter\",\n  subsets: [\"latin\"],\n});\n\nconst outfit = Outfit({\n  variable: \"--font-outfit\",\n  subsets: [\"latin\"],\n});\n\nexport const metadata: Metadata = {\n  title: \"Flight Spotter\",\n  description: \"A modern flight search engine featuring real-time price intelligence, complex filtering, and premium design.\",\n  keywords: [\"flights\", \"travel\", \"price trends\", \"cheap flights\", \"flight search\"],\n  icons: {\n    icon: \"/icon.svg\",\n  },\n};\n\nexport default function RootLayout({\n  children,\n}: Readonly<{\n  children: React.ReactNode;\n}>) {\n  return (\n    <html lang=\"en\" className={`${inter.variable} ${outfit.variable} scroll-smooth`}>\n      <body\n        className=\"antialiased min-h-screen relative bg-background text-foreground transition-colors duration-1000\"\n      >\n        <Header />\n        <main className=\"relative z-0 flex-1\">\n          {children}\n        </main>\n        <Footer />\n      </body>\n    </html>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\app\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\app\\privacy\\page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":21,"column":173,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[1054,1263],"text":" policy. We do not save your search history, personal details, or preferences in your browser&apos;s Local Storage or Cookies. All session data is ephemeral and cleared when you close the tab.\r\n                    "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[1054,1263],"text":" policy. We do not save your search history, personal details, or preferences in your browser&lsquo;s Local Storage or Cookies. All session data is ephemeral and cleared when you close the tab.\r\n                    "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[1054,1263],"text":" policy. We do not save your search history, personal details, or preferences in your browser&#39;s Local Storage or Cookies. All session data is ephemeral and cleared when you close the tab.\r\n                    "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[1054,1263],"text":" policy. We do not save your search history, personal details, or preferences in your browser&rsquo;s Local Storage or Cookies. All session data is ephemeral and cleared when you close the tab.\r\n                    "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Metadata } from 'next';\r\n\r\nexport const metadata: Metadata = {\r\n    title: 'Privacy Policy | Flight Spotter',\r\n    description: 'Read our strict privacy policy. We do not use local storage or trackers.',\r\n};\r\n\r\nexport default function PrivacyPage() {\r\n    return (\r\n        <div className=\"min-h-screen pt-32 pb-20 px-4 md:px-8 max-w-4xl mx-auto\">\r\n            <div className=\"glass-card p-8 md:p-12 space-y-8\">\r\n                <h1 className=\"text-4xl font-display font-black text-foreground tracking-tighter\">\r\n                    Privacy <span className=\"text-dark-cyan-light\">Policy</span>\r\n                </h1>\r\n\r\n                <p className=\"text-sm font-bold text-foreground/40 uppercase tracking-widest\">Last Updated: February 2026</p>\r\n\r\n                <section className=\"space-y-4\">\r\n                    <h2 className=\"text-xl font-bold text-foreground\">1. No Local Storage</h2>\r\n                    <p className=\"text-foreground/70 leading-relaxed\">\r\n                        We adhere to a strict <strong>No Local Storage</strong> policy. We do not save your search history, personal details, or preferences in your browser's Local Storage or Cookies. All session data is ephemeral and cleared when you close the tab.\r\n                    </p>\r\n                </section>\r\n\r\n                <section className=\"space-y-4\">\r\n                    <h2 className=\"text-xl font-bold text-foreground\">2. Data Collection</h2>\r\n                    <p className=\"text-foreground/70 leading-relaxed\">\r\n                        We only process data necessary to fulfill your flight search request (e.g., Origin, Destination, Dates). This data is transmitted securely to our providers (Amadeus) and is not retained by our servers after the session ends.\r\n                    </p>\r\n                </section>\r\n\r\n                <section className=\"space-y-4\">\r\n                    <h2 className=\"text-xl font-bold text-foreground\">3. Third-Party Services</h2>\r\n                    <p className=\"text-foreground/70 leading-relaxed\">\r\n                        We use Google Gemini for price predictions and Amadeus for flight inventory. Please refer to their respective privacy policies for how they handle transient data processing.\r\n                    </p>\r\n                </section>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\app\\sitemap.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\app\\terms\\page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":19,"column":141,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[823,1034],"text":"\r\n                        By accessing Flight Spotter, you agree to be bound by these Terms of Service. If you do not agree, you certainly don&apos;t have to use our awesome flight finding tool.\r\n                    "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[823,1034],"text":"\r\n                        By accessing Flight Spotter, you agree to be bound by these Terms of Service. If you do not agree, you certainly don&lsquo;t have to use our awesome flight finding tool.\r\n                    "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[823,1034],"text":"\r\n                        By accessing Flight Spotter, you agree to be bound by these Terms of Service. If you do not agree, you certainly don&#39;t have to use our awesome flight finding tool.\r\n                    "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[823,1034],"text":"\r\n                        By accessing Flight Spotter, you agree to be bound by these Terms of Service. If you do not agree, you certainly don&rsquo;t have to use our awesome flight finding tool.\r\n                    "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":26,"column":140,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[1280,1507],"text":"\r\n                        Permission is granted to temporarily download one copy of the materials (information or software) on Flight Spotter&apos;s website for personal, non-commercial transitory viewing only.\r\n                    "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[1280,1507],"text":"\r\n                        Permission is granted to temporarily download one copy of the materials (information or software) on Flight Spotter&lsquo;s website for personal, non-commercial transitory viewing only.\r\n                    "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[1280,1507],"text":"\r\n                        Permission is granted to temporarily download one copy of the materials (information or software) on Flight Spotter&#39;s website for personal, non-commercial transitory viewing only.\r\n                    "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[1280,1507],"text":"\r\n                        Permission is granted to temporarily download one copy of the materials (information or software) on Flight Spotter&rsquo;s website for personal, non-commercial transitory viewing only.\r\n                    "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":33,"column":56,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[1752,1951],"text":"\r\n                        The materials on Flight Spotter&apos;s website are provided on an 'as is' basis. flight prices are dynamic and subject to change by airlines without notice.\r\n                    "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[1752,1951],"text":"\r\n                        The materials on Flight Spotter&lsquo;s website are provided on an 'as is' basis. flight prices are dynamic and subject to change by airlines without notice.\r\n                    "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[1752,1951],"text":"\r\n                        The materials on Flight Spotter&#39;s website are provided on an 'as is' basis. flight prices are dynamic and subject to change by airlines without notice.\r\n                    "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[1752,1951],"text":"\r\n                        The materials on Flight Spotter&rsquo;s website are provided on an 'as is' basis. flight prices are dynamic and subject to change by airlines without notice.\r\n                    "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":33,"column":86,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[1752,1951],"text":"\r\n                        The materials on Flight Spotter's website are provided on an &apos;as is' basis. flight prices are dynamic and subject to change by airlines without notice.\r\n                    "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[1752,1951],"text":"\r\n                        The materials on Flight Spotter's website are provided on an &lsquo;as is' basis. flight prices are dynamic and subject to change by airlines without notice.\r\n                    "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[1752,1951],"text":"\r\n                        The materials on Flight Spotter's website are provided on an &#39;as is' basis. flight prices are dynamic and subject to change by airlines without notice.\r\n                    "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[1752,1951],"text":"\r\n                        The materials on Flight Spotter's website are provided on an &rsquo;as is' basis. flight prices are dynamic and subject to change by airlines without notice.\r\n                    "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":33,"column":92,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[1752,1951],"text":"\r\n                        The materials on Flight Spotter's website are provided on an 'as is&apos; basis. flight prices are dynamic and subject to change by airlines without notice.\r\n                    "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[1752,1951],"text":"\r\n                        The materials on Flight Spotter's website are provided on an 'as is&lsquo; basis. flight prices are dynamic and subject to change by airlines without notice.\r\n                    "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[1752,1951],"text":"\r\n                        The materials on Flight Spotter's website are provided on an 'as is&#39; basis. flight prices are dynamic and subject to change by airlines without notice.\r\n                    "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[1752,1951],"text":"\r\n                        The materials on Flight Spotter's website are provided on an 'as is&rsquo; basis. flight prices are dynamic and subject to change by airlines without notice.\r\n                    "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Metadata } from 'next';\r\n\r\nexport const metadata: Metadata = {\r\n    title: 'Terms of Service | Flight Spotter',\r\n    description: 'Terms and conditions for using Flight Spotter.',\r\n};\r\n\r\nexport default function TermsPage() {\r\n    return (\r\n        <div className=\"min-h-screen pt-32 pb-20 px-4 md:px-8 max-w-4xl mx-auto\">\r\n            <div className=\"glass-card p-8 md:p-12 space-y-8\">\r\n                <h1 className=\"text-4xl font-display font-black text-foreground tracking-tighter\">\r\n                    Terms of <span className=\"text-dark-cyan-light\">Service</span>\r\n                </h1>\r\n\r\n                <section className=\"space-y-4\">\r\n                    <h2 className=\"text-xl font-bold text-foreground\">1. Acceptance of Terms</h2>\r\n                    <p className=\"text-foreground/70 leading-relaxed\">\r\n                        By accessing Flight Spotter, you agree to be bound by these Terms of Service. If you do not agree, you certainly don't have to use our awesome flight finding tool.\r\n                    </p>\r\n                </section>\r\n\r\n                <section className=\"space-y-4\">\r\n                    <h2 className=\"text-xl font-bold text-foreground\">2. Use License</h2>\r\n                    <p className=\"text-foreground/70 leading-relaxed\">\r\n                        Permission is granted to temporarily download one copy of the materials (information or software) on Flight Spotter's website for personal, non-commercial transitory viewing only.\r\n                    </p>\r\n                </section>\r\n\r\n                <section className=\"space-y-4\">\r\n                    <h2 className=\"text-xl font-bold text-foreground\">3. Disclaimer</h2>\r\n                    <p className=\"text-foreground/70 leading-relaxed\">\r\n                        The materials on Flight Spotter's website are provided on an 'as is' basis. flight prices are dynamic and subject to change by airlines without notice.\r\n                    </p>\r\n                </section>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\AboutSection.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":44,"column":25,"nodeType":"JSXOpeningElement","endLine":48,"endColumn":27}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { motion } from \"framer-motion\";\r\nimport { Plane, ABOUT_STATS, MISSION_CONTENT } from \"@/constants/landingData\";\r\n\r\nexport default function AboutSection() {\r\n    const { tag, title, description, insightTag, insightText, image } = MISSION_CONTENT;\r\n\r\n    return (\r\n        <section className=\"relative w-full py-20 overflow-hidden\">\r\n            <div className=\"absolute inset-0 bg-white/50 dark:bg-black/20 backdrop-blur-sm z-0\" />\r\n\r\n            <div className=\"max-w-[1600px] mx-auto px-4 md:px-6 relative z-10\">\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center\">\r\n\r\n                    <div className=\"space-y-8\">\r\n                        <div>\r\n                            <div className=\"flex items-center gap-2 mb-4\">\r\n                                <div className=\"h-[2px] w-8 bg-dark-cyan rounded-full\" />\r\n                                <span className=\"text-[10px] font-black text-dark-cyan uppercase tracking-[0.3em]\">{tag}</span>\r\n                            </div>\r\n                            <h2 className=\"text-4xl md:text-5xl font-display font-black text-foreground tracking-tighter leading-tight\">\r\n                                {title.split(' Discovery.')[0]} <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-dark-cyan to-dark-cyan-light\">Discovery.</span>\r\n                            </h2>\r\n                        </div>\r\n\r\n                        <p className=\"text-lg text-foreground/60 leading-relaxed font-medium max-w-xl\">\r\n                            {description}\r\n                        </p>\r\n\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                            {ABOUT_STATS.map((stat, i) => (\r\n                                <div key={i} className=\"p-4 rounded-2xl bg-white/40 dark:bg-white/5 border border-white/20 dark:border-white/10 backdrop-blur-md\">\r\n                                    <stat.icon className={`w-8 h-8 ${stat.iconColor} mb-3`} />\r\n                                    <h4 className=\"font-bold text-foreground mb-1\">{stat.title}</h4>\r\n                                    <p className=\"text-xs text-foreground/50 leading-relaxed\">{stat.desc}</p>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"relative h-[500px] w-full rounded-[3rem] overflow-hidden border border-white/20 shadow-2xl group\">\r\n                        <div className=\"absolute inset-0 bg-dark-cyan/10 group-hover:bg-dark-cyan/0 transition-colors duration-700 z-10\" />\r\n                        <img\r\n                            src={image}\r\n                            alt=\"Airplane wing view\"\r\n                            className=\"absolute inset-0 w-full h-full object-cover scale-105 group-hover:scale-100 transition-transform duration-1000\"\r\n                        />\r\n\r\n                        <motion.div\r\n                            initial={{ y: 20, opacity: 0 }}\r\n                            whileInView={{ y: 0, opacity: 1 }}\r\n                            transition={{ duration: 0.8 }}\r\n                            className=\"absolute bottom-8 left-8 right-8 p-6 rounded-2xl bg-white/10 backdrop-blur-xl border border-white/20 shadow-xl\"\r\n                        >\r\n                            <div className=\"flex justify-between items-end\">\r\n                                <div>\r\n                                    <p className=\"text-xs font-bold text-white/60 uppercase tracking-widest mb-1\">{insightTag}</p>\r\n                                    <p className=\"text-xl font-black text-white tracking-tight\">{insightText}</p>\r\n                                </div>\r\n                                <div className=\"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center backdrop-blur-sm border border-white/10\">\r\n                                    <Plane className=\"w-5 h-5 text-white\" />\r\n                                </div>\r\n                            </div>\r\n                        </motion.div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\AirlinesMarquee.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":16,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[638,641],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[638,641],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":76,"column":37,"nodeType":"JSXOpeningElement","endLine":83,"endColumn":39}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { motion } from \"framer-motion\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { getGlobalAirlinesAction } from \"@/app/actions/localization\";\r\nimport { getAirlinesAction } from \"@/app/actions/flight\";\r\n\r\nexport default function AirlinesMarquee() {\r\n    const [airlines, setAirlines] = useState<{ name: string; code: string }[]>([]);\r\n\r\n    useEffect(() => {\r\n        const loadAirlines = async () => {\r\n            const codes = await getGlobalAirlinesAction();\r\n            const details = await getAirlinesAction(codes.join(','));\r\n            if (details) {\r\n                setAirlines(details.map((a: any) => ({\r\n                    code: a.iataCode,\r\n                    name: a.commonName || a.businessName || a.iataCode\r\n                })));\r\n            }\r\n        };\r\n        loadAirlines();\r\n    }, []);\r\n\r\n    if (airlines.length === 0) return null;\r\n\r\n    // Triple the array for seamless loop\r\n    const displayList = [...airlines, ...airlines, ...airlines];\r\n\r\n    return (\r\n        <section className=\"w-full pt-10 pb-24 bg-background border-t border-silver/10 overflow-hidden relative z-20\">\r\n            <div className=\"max-w-7xl mx-auto p-8 my-0 text-center\">\r\n                <span className=\"text-[10px] font-black text-foreground/30 uppercase tracking-[0.4em] block mb-2\">Partner Network</span>\r\n                <span className=\"text-xs font-black text-foreground/40 uppercase tracking-[0.3em]\">Trusted by Industry Leaders</span>\r\n            </div>\r\n\r\n            <div className=\"flex relative overflow-hidden group\">\r\n                {/* Animated gradient background that merges with footer - Fixed white tint in dark mode */}\r\n                <motion.div\r\n                    className=\"absolute inset-0 bg-gradient-to-b from-background via-foreground/[0.02] to-transparent dark:via-white/[0.01] dark:to-transparent\"\r\n                    animate={{\r\n                        backgroundPosition: ['0% 0%', '0% 100%', '0% 0%'],\r\n                    }}\r\n                    transition={{\r\n                        duration: 20,\r\n                        repeat: Infinity,\r\n                        ease: \"linear\"\r\n                    }}\r\n                    style={{\r\n                        backgroundSize: '100% 200%'\r\n                    }}\r\n                />\r\n\r\n                {/* Subtle animated overlay - Removed hard from-white/30 */}\r\n                <div className=\"absolute inset-0 bg-gradient-to-t from-foreground/[0.05] dark:from-black/40 via-transparent to-transparent pointer-events-none\" />\r\n\r\n                <div className=\"relative z-10\">\r\n                    <motion.div\r\n                        className=\"flex gap-8 whitespace-nowrap p-4\"\r\n                        animate={{ x: [0, -2400] }}\r\n                        transition={{\r\n                            duration: 80,\r\n                            repeat: Infinity,\r\n                            ease: \"linear\"\r\n                        }}\r\n                    >\r\n                        {displayList.map((airline, i) => (\r\n                            <motion.div\r\n                                key={`${airline.code}-${i}`}\r\n                                className=\"flex flex-col items-center gap-3 group/card cursor-default\"\r\n                                whileHover={{ scale: 1.05 }}\r\n                                transition={{ duration: 0.2 }}\r\n                            >\r\n                                {/* Square card with airline logo */}\r\n                                <div className=\"w-[120px] h-[120px] rounded-2xl bg-white dark:bg-white/95 backdrop-blur-md border border-slate-200 dark:border-white/10 shadow-lg hover:shadow-2xl hover:shadow-dark-cyan/10 transition-all duration-300 flex items-center justify-center p-6 group-hover/card:border-dark-cyan/30\">\r\n                                    <img\r\n                                        src={`https://www.gstatic.com/flights/airline_logos/70px/${airline.code}.png`}\r\n                                        alt={airline.name}\r\n                                        className=\"w-full h-full object-contain group-hover/card:scale-110 transition-transform duration-300\"\r\n                                        onError={(e) => {\r\n                                            (e.target as HTMLImageElement).src = `https://ui-avatars.com/api/?name=${airline.name}&background=06B6D4&color=fff&bold=true&size=70`;\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n\r\n                                {/* Airline name below */}\r\n                                <span className=\"text-xs font-black uppercase tracking-wider text-foreground/50 group-hover/card:text-dark-cyan-light transition-colors duration-300 max-w-[120px] text-center leading-tight\">\r\n                                    {airline.name}\r\n                                </span>\r\n                            </motion.div>\r\n                        ))}\r\n                    </motion.div>\r\n                </div>\r\n\r\n                {/* Edge fades */}\r\n                <div className=\"absolute inset-y-0 left-0 w-40 bg-gradient-to-r from-background to-transparent z-20 pointer-events-none\" />\r\n                <div className=\"absolute inset-y-0 right-0 w-40 bg-gradient-to-l from-background to-transparent z-20 pointer-events-none\" />\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\DetailedAbout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\ErrorBoundary.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":31,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[637,640],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[637,640],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { Component, ReactNode } from \"react\";\r\n\r\ninterface Props {\r\n    children: ReactNode;\r\n    fallback?: ReactNode;\r\n}\r\n\r\ninterface State {\r\n    hasError: boolean;\r\n    error: Error | null;\r\n}\r\n\r\nexport default class ErrorBoundary extends Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n        this.state = {\r\n            hasError: false,\r\n            error: null\r\n        };\r\n    }\r\n\r\n    static getDerivedStateFromError(error: Error): State {\r\n        return {\r\n            hasError: true,\r\n            error\r\n        };\r\n    }\r\n\r\n    componentDidCatch(error: Error, errorInfo: any) {\r\n        console.error(\"ErrorBoundary caught an error:\", error, errorInfo);\r\n    }\r\n\r\n    handleReset = () => {\r\n        this.setState({\r\n            hasError: false,\r\n            error: null\r\n        });\r\n    };\r\n\r\n    handleGoHome = () => {\r\n        window.location.href = '/';\r\n    };\r\n\r\n    render() {\r\n        if (this.state.hasError) {\r\n            if (this.props.fallback) {\r\n                return this.props.fallback;\r\n            }\r\n\r\n            return (\r\n                <div className=\"min-h-[400px] flex items-center justify-center p-6\">\r\n                    <div className=\"glass-card max-w-md w-full p-8 text-center space-y-6\">\r\n                        <div className=\"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mx-auto\">\r\n                            <span className=\"text-2xl\">⚠️</span>\r\n                        </div>\r\n                        <h2 className=\"text-2xl font-display font-bold text-foreground\">Something went wrong</h2>\r\n                        <p className=\"text-silver text-sm leading-relaxed\">\r\n                            {this.state.error?.message || \"An unexpected error occurred. Please try again or go back home.\"}\r\n                        </p>\r\n                        <div className=\"flex flex-col gap-3\">\r\n                            <button\r\n                                onClick={this.handleReset}\r\n                                className=\"w-full py-3 bg-dark-cyan text-white rounded-xl font-bold hover:bg-dark-cyan-light transition-all shadow-lg shadow-dark-cyan/20\"\r\n                            >\r\n                                Try Again\r\n                            </button>\r\n                            <button\r\n                                onClick={this.handleGoHome}\r\n                                className=\"w-full py-3 bg-silver/10 text-foreground rounded-xl font-bold hover:bg-silver/20 transition-all font-sans\"\r\n                            >\r\n                                Go Home\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return this.props.children;\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\FlightCard.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Button' is defined but never used.","line":7,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":16,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Button"},"fix":{"range":[222,270],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":21,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[825,828],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[825,828],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":72,"column":29,"nodeType":"JSXOpeningElement","endLine":79,"endColumn":31},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":173,"column":83,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":173,"endColumn":86,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9542,9545],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9542,9545],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { ChevronDown, PlaneTakeoff, Info } from \"lucide-react\";\r\nimport { useState } from \"react\";\r\nimport { useFlightStore } from \"@/lib/store\";\r\nimport { Button } from \"@/components/ui/Button\";\r\n\r\n// Comprehensive IATA Map for common cities\r\nconst IATA_MAP: Record<string, string> = {\r\n    'PAR': 'Paris', 'LON': 'London', 'MAD': 'Madrid', 'BER': 'Berlin',\r\n    'FRA': 'Frankfurt', 'AMS': 'Amsterdam', 'CDG': 'Paris-CDG',\r\n    'LHR': 'London-Heathrow', 'JFK': 'New York', 'DXB': 'Dubai',\r\n    'HND': 'Tokyo', 'BCN': 'Barcelona', 'FCO': 'Rome', 'IST': 'Istanbul',\r\n    'MUC': 'Munich', 'DUB': 'Dublin', 'VIE': 'Vienna', 'ZRH': 'Zurich'\r\n};\r\n\r\nconst getCityName = (code: string) => IATA_MAP[code] || code;\r\n\r\ninterface FlightCardProps {\r\n    flight: any;\r\n    index: number;\r\n    isInspiration?: boolean;\r\n}\r\n\r\nexport default function FlightCard({ flight, index, isInspiration }: FlightCardProps) {\r\n    const [isExpanded, setIsExpanded] = useState(false);\r\n    const { topAirlines, formatPrice } = useFlightStore();\r\n\r\n    const price = flight.price?.total || flight.price?.amount || flight.price;\r\n    const airlineCode = flight.validatingAirlineCodes?.[0] || flight.airline || \"Discovery\";\r\n    const airlineName = topAirlines.find(a => a.code === airlineCode)?.name || airlineCode;\r\n\r\n    // Derived Flight Data\r\n    const isSearchRes = !!flight.itineraries;\r\n    const duration = isSearchRes\r\n        ? flight.itineraries[0]?.duration?.replace(\"PT\", \"\").toLowerCase()\r\n        : \"Varies\";\r\n    const stopsCount = isSearchRes\r\n        ? flight.itineraries[0]?.segments?.length - 1\r\n        : 0;\r\n    const stopsLabel = isInspiration ? \"Round trip\" : stopsCount === 0 ? \"Non-stop\" : `${stopsCount} stop${stopsCount > 1 ? \"s\" : \"\"}`;\r\n\r\n    const depTime = isSearchRes\r\n        ? flight.itineraries[0]?.segments[0]?.departure?.at?.split(\"T\")[1]?.slice(0, 5)\r\n        : \"Flexible\";\r\n    const arrTime = isSearchRes\r\n        ? flight.itineraries[0]?.segments?.slice(-1)[0]?.arrival?.at?.split(\"T\")[1]?.slice(0, 5)\r\n        : \"Flexible\";\r\n\r\n    const destinationName = isInspiration\r\n        ? getCityName(flight.destination)\r\n        : airlineName;\r\n\r\n    return (\r\n        <motion.div\r\n            layout\r\n            initial={{ opacity: 0, y: 10 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: index * 0.05 }}\r\n            className=\"group glass-card hover:shadow-xl transition-all overflow-hidden\"\r\n        >\r\n            {/* Main Card Content */}\r\n            <div\r\n                className=\"p-6 flex flex-col md:flex-row items-center gap-4 md:gap-8 cursor-pointer\"\r\n                onClick={() => setIsExpanded(!isExpanded)}\r\n            >\r\n                {/* Airline Branding */}\r\n                <div className=\"flex flex-col items-center gap-2 shrink-0 md:min-w-[84px] w-full md:w-auto\">\r\n                    <div className=\"w-14 h-14 bg-white/50 dark:bg-white/5 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform shadow-sm overflow-hidden border border-silver/10\">\r\n                        {airlineCode !== \"Discovery\" ? (\r\n                            <img\r\n                                src={`https://www.gstatic.com/flights/airline_logos/70px/${airlineCode}.png`}\r\n                                alt={airlineName}\r\n                                className=\"w-10 h-10 object-contain brightness-110 contrast-125\"\r\n                                onError={(e) => {\r\n                                    (e.target as HTMLImageElement).parentElement!.innerHTML = \"✈️\";\r\n                                }}\r\n                            />\r\n                        ) : (\r\n                            <span className=\"text-2xl\">🌍</span>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Time & Duration */}\r\n                <div className=\"flex-1 w-full grid grid-cols-2 md:grid-cols-3 gap-4 items-center\">\r\n                    <div className=\"flex flex-col\">\r\n                        <div className=\"flex items-center gap-2 mb-1\">\r\n                            <span className=\"text-[10px] font-black text-dark-cyan uppercase tracking-widest\">{airlineName}</span>\r\n                        </div>\r\n                        <span className=\"text-xl font-black text-foreground font-sans tracking-tighter\">\r\n                            {isSearchRes ? `${depTime} – ${arrTime}` : `To ${destinationName}`}\r\n                        </span>\r\n                        <div className=\"flex items-center gap-3 mt-1 underline-offset-4 decoration-dark-cyan-light/30\">\r\n                            <span className=\"text-xs text-silver font-bold uppercase tracking-wider font-sans\">\r\n                                {isInspiration && !isSearchRes ? `Economy` : \"Economy Class\"}\r\n                            </span>\r\n                            <span className=\"md:hidden text-[10px] font-black text-amber-500 uppercase tracking-widest\">\r\n                                • {stopsLabel}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"hidden md:flex flex-col items-center gap-1\">\r\n                        <span className=\"text-[10px] font-black text-dark-cyan/40 uppercase tracking-[0.2em]\">{duration}</span>\r\n                        <div className=\"w-24 h-[3px] bg-silver/10 relative rounded-full overflow-hidden\">\r\n                            <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-2 h-2 rounded-full bg-dark-cyan shadow-[0_0_10px_var(--color-dark-cyan-light)]\" />\r\n                        </div>\r\n                        <div className=\"flex items-center gap-1 mt-1 font-black text-[9px] uppercase tracking-widest\">\r\n                            {stopsCount === 0 ? (\r\n                                <span className=\"text-emerald-500 flex items-center gap-1\">\r\n                                    <PlaneTakeoff className=\"w-3 h-3\" /> Non-stop\r\n                                </span>\r\n                            ) : (\r\n                                <span className=\"text-amber-500\">\r\n                                    {stopsCount} Stop{stopsCount > 1 ? \"s\" : \"\"}\r\n                                </span>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex flex-col md:items-end gap-1\">\r\n                        {isSearchRes && (\r\n                            <div className=\"flex flex-col items-end gap-0.5\">\r\n                                {stopsCount > 0 && flight.itineraries?.[0]?.segments?.[0]?.arrival?.iataCode && (\r\n                                    <span className=\"text-[9px] font-bold text-foreground/40 uppercase tracking-tight\">\r\n                                        {stopsCount === 1 ? `Layover in ${getCityName(flight.itineraries[0].segments[0].arrival.iataCode)}` : \"Multiple stops\"}\r\n                                    </span>\r\n                                )}\r\n                                {flight.itineraries?.[0]?.segments?.[0]?.aircraft?.code && (\r\n                                    <span className=\"text-[9px] font-bold text-foreground/30 uppercase tracking-tight\">\r\n                                        Jet: {flight.itineraries[0].segments[0].aircraft.code}\r\n                                    </span>\r\n                                )}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Price & Action */}\r\n                <div className=\"flex items-center justify-between w-full md:w-auto gap-6 shrink-0\">\r\n                    <div className=\"text-right\">\r\n                        <span className=\"text-2xl font-display font-bold text-foreground font-sans\">\r\n                            {formatPrice(price)}\r\n                        </span>\r\n                    </div>\r\n                    <div className={`w-10 h-10 rounded-full flex items-center justify-center transition-all shadow-sm ${isExpanded\r\n                        ? 'bg-dark-cyan text-white rotate-180'\r\n                        : 'bg-silver/10 group-hover:bg-dark-cyan-light group-hover:text-white'\r\n                        }`}>\r\n                        <ChevronDown className=\"w-6 h-6\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Expanded Detail View */}\r\n            <AnimatePresence>\r\n                {isExpanded && (\r\n                    <motion.div\r\n                        initial={{ height: 0, opacity: 0 }}\r\n                        animate={{ height: \"auto\", opacity: 1 }}\r\n                        exit={{ height: 0, opacity: 0 }}\r\n                        className=\"overflow-hidden border-t border-dashed border-foreground/10 bg-foreground/[0.02]\"\r\n                    >\r\n                        <div className=\"p-6 grid grid-cols-1 md:grid-cols-2 gap-8 text-xs font-sans\">\r\n                            {/* Left: Itinerary Details */}\r\n                            <div className=\"space-y-4\">\r\n                                <h4 className=\"font-bold text-dark-cyan uppercase tracking-widest flex items-center gap-2\">\r\n                                    <PlaneTakeoff className=\"w-3 h-3\" /> Itinerary\r\n                                </h4>\r\n                                <div className=\"space-y-4\">\r\n                                    {flight.itineraries?.[0]?.segments?.map((seg: any, i: number) => (\r\n                                        <div key={i} className=\"relative pl-6 border-l-2 border-foreground/10 space-y-1\">\r\n                                            <div className=\"absolute -left-[5px] top-0 w-2 h-2 rounded-full bg-dark-cyan ring-4 ring-background\" />\r\n\r\n                                            <div className=\"flex justify-between items-start\">\r\n                                                <span className=\"font-black text-sm text-foreground\">\r\n                                                    {getCityName(seg.departure?.iataCode)}\r\n                                                    <span className=\"mx-2 text-foreground/30\">→</span>\r\n                                                    {getCityName(seg.arrival?.iataCode)}\r\n                                                </span>\r\n                                                <span className=\"font-bold text-foreground/60\">\r\n                                                    {seg.duration?.replace('PT', '').toLowerCase()}\r\n                                                </span>\r\n                                            </div>\r\n\r\n                                            <div className=\"flex justify-between text-foreground/50 font-medium\">\r\n                                                <span>{seg.carrierCode} {seg.number}</span>\r\n                                                <span>{seg.departure?.at?.split('T')[1]?.slice(0, 5)} - {seg.arrival?.at?.split('T')[1]?.slice(0, 5)}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Right: Flight Features & Price */}\r\n                            <div className=\"flex flex-col gap-6\">\r\n                                <h4 className=\"font-bold text-dark-cyan uppercase tracking-widest flex items-center gap-2\">\r\n                                    <Info className=\"w-3 h-3\" /> Details & Fare\r\n                                </h4>\r\n\r\n                                {/* Features Grid */}\r\n                                <div className=\"grid grid-cols-2 gap-3\">\r\n                                    <div className=\"bg-background/50 border border-foreground/5 rounded-xl p-3 flex flex-col justify-center items-center text-center gap-1 shadow-sm\">\r\n                                        <span className=\"text-xl\">🧳</span>\r\n                                        <span className=\"font-bold text-foreground/70 uppercase tracking-tight text-[10px]\">\r\n                                            {flight.travelerPricings?.[0]?.fareDetailsBySegment?.[0]?.includedCheckedBags?.quantity || '0'} Bags\r\n                                        </span>\r\n                                    </div>\r\n                                    <div className=\"bg-background/50 border border-foreground/5 rounded-xl p-3 flex flex-col justify-center items-center text-center gap-1 shadow-sm\">\r\n                                        <span className=\"text-xl\">💺</span>\r\n                                        <span className=\"font-bold text-foreground/70 uppercase tracking-tight text-[10px]\">\r\n                                            {flight.numberOfBookableSeats || 0} Seats\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Price Breakdown */}\r\n                                <div className=\"bg-foreground/5 p-5 rounded-2xl border border-foreground/5 space-y-3\">\r\n                                    <div className=\"flex justify-between items-center text-sm\">\r\n                                        <span className=\"text-foreground/50 font-bold\">Base Fare</span>\r\n                                        <span className=\"font-black\">{formatPrice(flight.price?.base || 0)}</span>\r\n                                    </div>\r\n                                    <div className=\"flex justify-between items-center text-sm\">\r\n                                        <span className=\"text-foreground/50 font-bold\">Taxes & Fees</span>\r\n                                        <span className=\"font-black\">{formatPrice(parseFloat(flight.price?.total || \"0\") - parseFloat(flight.price?.base || \"0\"))}</span>\r\n                                    </div>\r\n                                    <div className=\"h-px bg-foreground/10 my-1\"></div>\r\n                                    <div className=\"flex justify-between items-center text-base\">\r\n                                        <span className=\"font-black uppercase tracking-tighter text-dark-cyan\">Total</span>\r\n                                        <span className=\"font-black text-2xl text-foreground\">{formatPrice(flight.price?.total || 0)}</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </motion.div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\FlightDeals.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\FlightResults.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":8,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[189,192],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[189,192],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":41,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1523,1526],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1523,1526],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'IATA_MAP' is assigned a value but never used.","line":65,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":65,"endColumn":15}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { Info } from \"lucide-react\";\r\nimport { FlightSkeleton } from \"./Skeleton\";\r\nimport FlightCard from \"./FlightCard\";\r\n\r\ninterface FlightResultsProps {\r\n    results?: any[];\r\n    isLoading?: boolean;\r\n    isInspiration?: boolean;\r\n}\r\n\r\nexport default function FlightResults({ results = [], isLoading, isInspiration }: FlightResultsProps) {\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"space-y-3\">\r\n                <div className=\"h-8 w-48 mb-4\">\r\n                    <div className=\"bg-silver-light dark:bg-dark-cyan/20 animate-pulse rounded-lg h-full w-full\" />\r\n                </div>\r\n                {[1, 2, 3, 4, 5].map((i) => (\r\n                    <FlightSkeleton key={i} />\r\n                ))}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-3\">\r\n            <div className=\"flex items-center justify-between mb-4 px-2\">\r\n                <h3 className=\"text-xl font-display font-semibold text-foreground\">\r\n                    {isInspiration ? \"Deals you might like\" : results.length > 0 ? \"Flights found\" : \"Explore popular routes\"}\r\n                </h3>\r\n                <div className=\"flex items-center gap-2 text-xs text-silver\">\r\n                    <Info className=\"w-3 h-3\" />\r\n                    <span>Prices include taxes & fees</span>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex flex-col gap-4\">\r\n                {results.length > 0 ? (\r\n                    results.map((flight: any, index: number) => (\r\n                        <FlightCard\r\n                            key={flight.id || index}\r\n                            flight={flight}\r\n                            index={index}\r\n                            isInspiration={isInspiration}\r\n                        />\r\n                    ))\r\n                ) : (\r\n                    <div className=\"p-16 text-center glass-card\">\r\n                        <p className=\"text-silver font-bold font-sans\">No flights found for this selection.</p>\r\n                        {isInspiration && (\r\n                            <p className=\"text-[10px] text-amber-500/60 mt-2 font-bold uppercase tracking-widest\">\r\n                                Tip: Discovery deals are currently limited to MAD, PAR, LON, and BER hubs in sandbox mode.\r\n                            </p>\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Comprehensive IATA Map for common cities\r\nconst IATA_MAP: Record<string, string> = {\r\n    'PAR': 'Paris',\r\n    'LON': 'London',\r\n    'MAD': 'Madrid',\r\n    'BER': 'Berlin',\r\n    'FRA': 'Frankfurt',\r\n    'AMS': 'Amsterdam',\r\n    'CDG': 'Paris-CDG',\r\n    'LHR': 'London-Heathrow',\r\n    'JFK': 'New York',\r\n    'DXB': 'Dubai',\r\n    'HND': 'Tokyo',\r\n    'BCN': 'Barcelona',\r\n    'FCO': 'Rome',\r\n    'IST': 'Istanbul',\r\n    'MUC': 'Munich',\r\n    'DUB': 'Dublin',\r\n    'VIE': 'Vienna',\r\n    'ZRH': 'Zurich',\r\n    'CPH': 'Copenhagen',\r\n    'OSL': 'Oslo',\r\n    'ARN': 'Stockholm',\r\n    'HEL': 'Helsinki',\r\n    'ATH': 'Athens',\r\n    'LIS': 'Lisbon',\r\n    'PRG': 'Prague',\r\n    'WAW': 'Warsaw',\r\n    'BRU': 'Brussels'\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\Hero.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'buttonLabel' is assigned a value but never used.","line":13,"column":43,"nodeType":"Identifier","messageId":"unusedVar","endLine":13,"endColumn":54}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { motion, useScroll, useTransform } from \"framer-motion\";\r\nimport { Plane } from \"lucide-react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { HERO_CONTENT } from \"@/constants/landingData\";\r\n\r\nexport default function Hero() {\r\n    const { scrollY } = useScroll();\r\n    const opacity = useTransform(scrollY, [0, 500], [1, 0]);\r\n    const scale = useTransform(scrollY, [0, 500], [1, 1.05]);\r\n    const router = useRouter();\r\n    const { title, subtitle, description, buttonLabel } = HERO_CONTENT;\r\n\r\n    const handleSearchClick = () => {\r\n        router.push('/flights');\r\n    };\r\n\r\n    return (\r\n        <motion.section\r\n            id=\"hero\"\r\n            style={{ opacity }}\r\n            className=\"relative h-screen w-full overflow-hidden bg-background p-0 m-0\"\r\n        >\r\n            {/* Radiant Background Layer */}\r\n            <motion.div\r\n                style={{ scale }}\r\n                className=\"absolute inset-0 z-0 bg-background\"\r\n            >\r\n                <div className=\"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,var(--color-dark-cyan-light)_0%,transparent_70%)] opacity-20 dark:opacity-30\" />\r\n                <div className=\"absolute inset-0 bg-[radial-gradient(circle_at_20%_30%,var(--color-dark-cyan)_0%,transparent_50%)] opacity-10\" />\r\n                <div className=\"absolute inset-0 backdrop-blur-[120px]\" />\r\n            </motion.div>\r\n\r\n            {/* Branding Content */}\r\n            <div className=\"relative z-20 flex flex-col items-center justify-center h-full px-4 text-center\">\r\n                <motion.div\r\n                    initial={{ opacity: 0, scale: 0.9 }}\r\n                    animate={{ opacity: 1, scale: 1 }}\r\n                    transition={{ duration: 1, ease: [0.16, 1, 0.3, 1] }}\r\n                    className=\"relative w-full max-w-[1600px] flex flex-col items-center\"\r\n                >\r\n                    <div className=\"relative inline-block\">\r\n                        {/* Animated Plane SVG - Decoupled from centering */}\r\n                        <motion.div\r\n                            layoutId=\"nav-logo-icon\"\r\n                            initial={{ x: -20, opacity: 0 }}\r\n                            animate={{ x: 0, opacity: 1 }}\r\n                            transition={{ duration: 1.2, delay: 0.2, ease: \"circOut\" }}\r\n                            className=\"hidden xl:block absolute -left-48 top-1/2 -translate-y-1/2 w-40 h-40\"\r\n                        >\r\n                            <svg viewBox=\"0 0 200 200\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className=\"w-full h-auto drop-shadow-2xl\">\r\n                                <path d=\"M98.5 160L100 190L101.5 160Z\" fill=\"black\" fillOpacity=\"0.2\" className=\"blur-sm\" />\r\n                                <path d=\"M100 20C95 20 90 25 90 40V140C90 155 95 160 100 160C105 160 110 155 110 140V40C110 25 105 20 100 20Z\" fill=\"currentColor\" className=\"text-foreground\" />\r\n                                <path d=\"M100 60L20 100V120L100 90L180 120V100L100 60Z\" fill=\"currentColor\" className=\"text-foreground/90\" />\r\n                                <path d=\"M100 140L70 160V170L100 155L130 170V160L100 140Z\" fill=\"currentColor\" className=\"text-foreground/90\" />\r\n                                <path d=\"M96 35H104V40H96V35Z\" fill=\"#38bdf8\" />\r\n                                <circle cx=\"20\" cy=\"110\" r=\"4\" fill=\"#ef4444\" className=\"opacity-0 dark:opacity-100 animate-[flicker_2s_infinite]\" />\r\n                                <circle cx=\"20\" cy=\"110\" r=\"8\" fill=\"#ef4444\" className=\"opacity-0 dark:opacity-30 animate-[flicker_2s_infinite_0.1s] blur-md\" />\r\n                                <circle cx=\"180\" cy=\"110\" r=\"4\" fill=\"#10b981\" className=\"opacity-0 dark:opacity-100 animate-[flicker_2.5s_infinite_0.5s]\" />\r\n                                <circle cx=\"180\" cy=\"110\" r=\"8\" fill=\"#10b981\" className=\"opacity-0 dark:opacity-30 animate-[flicker_2.5s_infinite_0.6s] blur-md\" />\r\n                                <circle cx=\"100\" cy=\"170\" r=\"3\" fill=\"white\" className=\"opacity-0 dark:opacity-100 animate-[pulse_1s_infinite]\" />\r\n                            </svg>\r\n                        </motion.div>\r\n\r\n                        <motion.h1\r\n                            layoutId=\"nav-logo-text\"\r\n                            className=\"text-6xl md:text-[10rem] font-display font-black tracking-tighter text-foreground leading-[0.85] text-center\"\r\n                        >\r\n                            {title}<br />\r\n                            <span className=\"text-dark-cyan-light transition-colors duration-700\">{subtitle}</span>\r\n                        </motion.h1>\r\n                    </div>\r\n\r\n                    <p className=\"text-lg md:text-2xl text-foreground/60 font-medium mt-12 tracking-wide max-w-2xl text-center\">\r\n                        {description}\r\n                    </p>\r\n                </motion.div>\r\n\r\n                {/* Search Button */}\r\n                <motion.button\r\n                    layoutId=\"hero-search-button\"\r\n                    initial={{ opacity: 0, y: 30 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    transition={{ duration: 0.8, delay: 0.2, ease: [0.16, 1, 0.3, 1] }}\r\n                    onClick={handleSearchClick}\r\n                    className=\"group relative px-12 py-5 bg-dark-cyan hover:bg-dark-cyan-light text-white font-bold rounded-2xl shadow-2xl shadow-dark-cyan/30 hover:shadow-dark-cyan-light/40 transition-all duration-300 hover:scale-105 flex items-center gap-3 text-lg\"\r\n                >\r\n                    Search Flights\r\n                    <Plane className=\"w-6 h-6 group-hover:rotate-12 transition-transform\" />\r\n                    <div className=\"absolute inset-0 rounded-2xl bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity blur-xl\" />\r\n                </motion.button>\r\n            </div>\r\n\r\n            {/* Bottom SVG Curvature */}\r\n            <div className=\"absolute bottom-0 left-0 w-full z-30 pointer-events-none\">\r\n                <svg\r\n                    viewBox=\"0 0 1440 120\"\r\n                    fill=\"none\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    className=\"w-full h-auto text-background fill-current transition-colors duration-1000\"\r\n                    preserveAspectRatio=\"none\"\r\n                >\r\n                    <path d=\"M0 120H1440V0.5C1440 0.5 1200 40 720 40C240 40 0 0.5 0 0.5V120Z\" />\r\n                </svg>\r\n            </div>\r\n        </motion.section>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\LocationOnboardingBanner.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\Projects\\flight-spotter\\src\\components\\LocationOnboardingBanner.tsx:16:13\n  14 |     useEffect(() => {\n  15 |         if (!isAuthenticated) {\n> 16 |             setIsVisible(false);\n     |             ^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  17 |             return;\n  18 |         }\n  19 |","line":16,"column":13,"nodeType":null,"endLine":16,"endColumn":25}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Navigation, X } from \"lucide-react\";\r\n\r\ninterface LocationOnboardingBannerProps {\r\n    isAuthenticated: boolean;\r\n}\r\n\r\nexport default function LocationOnboardingBanner({ isAuthenticated }: LocationOnboardingBannerProps) {\r\n    const [isVisible, setIsVisible] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!isAuthenticated) {\r\n            setIsVisible(false);\r\n            return;\r\n        }\r\n\r\n        // Check if banner was previously dismissed\r\n        const dismissed = sessionStorage.getItem('location-banner-dismissed');\r\n        if (!dismissed) {\r\n            setIsVisible(true);\r\n        }\r\n    }, [isAuthenticated]);\r\n\r\n    const handleDismiss = () => {\r\n        setIsVisible(false);\r\n        sessionStorage.setItem('location-banner-dismissed', 'true');\r\n    };\r\n\r\n    return (\r\n        <AnimatePresence>\r\n            {isVisible && (\r\n                <motion.div\r\n                    initial={{ opacity: 0, y: -20, height: 0 }}\r\n                    animate={{ opacity: 1, y: 0, height: 'auto' }}\r\n                    exit={{ opacity: 0, y: -20, height: 0 }}\r\n                    transition={{ duration: 0.4, ease: \"circOut\" }}\r\n                    className=\"w-full overflow-hidden\"\r\n                >\r\n                    <div className=\"w-full max-w-[1600px] mx-auto px-4 md:px-6 py-4\">\r\n                        <div className=\"relative glass-card p-4 rounded-2xl border border-dark-cyan/20 bg-dark-cyan/5 backdrop-blur-xl shadow-lg\">\r\n                            {/* Close Button */}\r\n                            <button\r\n                                onClick={handleDismiss}\r\n                                className=\"absolute top-3 right-3 w-6 h-6 rounded-full bg-foreground/5 hover:bg-foreground/10 flex items-center justify-center transition-all group\"\r\n                            >\r\n                                <X className=\"w-3 h-3 text-foreground/40 group-hover:text-foreground\" />\r\n                            </button>\r\n\r\n                            <div className=\"flex items-start gap-4 pr-8\">\r\n                                {/* Icon */}\r\n                                <div className=\"w-10 h-10 rounded-xl bg-gradient-to-br from-dark-cyan to-dark-cyan-light flex items-center justify-center shrink-0 shadow-md shadow-dark-cyan/20\">\r\n                                    <Navigation className=\"w-5 h-5 text-white\" />\r\n                                </div>\r\n\r\n                                {/* Content */}\r\n                                <div className=\"flex-1\">\r\n                                    <h3 className=\"text-sm font-black text-foreground mb-1 tracking-tight\">\r\n                                        🌍 Unlock Location-Based Features\r\n                                    </h3>\r\n                                    <p className=\"text-xs text-foreground/60 leading-relaxed font-medium\">\r\n                                        Click the <span className=\"inline-flex items-center gap-1 px-2 py-0.5 bg-dark-cyan/10 rounded-md text-dark-cyan font-bold\">\r\n                                            <Navigation className=\"w-3 h-3\" /> compass icon\r\n                                        </span> in the Origin field to auto-detect your location and discover personalized flight deals!\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </motion.div>\r\n            )}\r\n        </AnimatePresence>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\LocationPermissionDialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\PremiumCalendar.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'X' is defined but never used.","line":5,"column":37,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":38,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"X"},"fix":{"range":[251,254],"text":""},"desc":"Remove unused variable \"X\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AnimatePresence' is defined but never used.","line":6,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":33,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"AnimatePresence"},"fix":{"range":[294,311],"text":""},"desc":"Remove unused variable \"AnimatePresence\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { format, addMonths, subMonths, startOfMonth, endOfMonth, startOfWeek, endOfWeek, isSameMonth, isSameDay, addDays, isBefore, startOfToday } from \"date-fns\";\r\nimport { ChevronLeft, ChevronRight, X } from \"lucide-react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\ninterface PremiumCalendarProps {\r\n    selectedDate: string;\r\n    onSelect: (date: string) => void;\r\n    onClose: () => void;\r\n}\r\n\r\nexport default function PremiumCalendar({ selectedDate, onSelect, onClose }: PremiumCalendarProps) {\r\n    const today = startOfToday();\r\n    const initialDate = selectedDate ? new Date(selectedDate) : today;\r\n    const [currentMonth, setCurrentMonth] = useState(isNaN(initialDate.getTime()) ? today : initialDate);\r\n    const selected = selectedDate ? new Date(selectedDate) : null;\r\n\r\n    const renderHeader = () => {\r\n        return (\r\n            <div className=\"flex items-center justify-between px-6 py-4 border-b border-foreground/5\">\r\n                <button\r\n                    onClick={() => setCurrentMonth(subMonths(currentMonth, 1))}\r\n                    className=\"p-2 hover:bg-foreground/5 rounded-full transition-colors\"\r\n                >\r\n                    <ChevronLeft className=\"w-5 h-5 text-dark-cyan-light\" />\r\n                </button>\r\n                <h2 className=\"text-sm font-black uppercase tracking-widest text-foreground/80\">\r\n                    {format(currentMonth, \"MMMM yyyy\")}\r\n                </h2>\r\n                <button\r\n                    onClick={() => setCurrentMonth(addMonths(currentMonth, 1))}\r\n                    className=\"p-2 hover:bg-foreground/5 rounded-full transition-colors\"\r\n                >\r\n                    <ChevronRight className=\"w-5 h-5 text-dark-cyan-light\" />\r\n                </button>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const renderDays = () => {\r\n        const days = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\n        return (\r\n            <div className=\"grid grid-cols-7 mb-2 px-4\">\r\n                {days.map((day) => (\r\n                    <div key={day} className=\"text-center text-[10px] font-black uppercase tracking-tighter text-foreground/30 py-2\">\r\n                        {day}\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const renderCells = () => {\r\n        const monthStart = startOfMonth(currentMonth);\r\n        const monthEnd = endOfMonth(monthStart);\r\n        const startDate = startOfWeek(monthStart);\r\n        const endDate = endOfWeek(monthEnd);\r\n\r\n        const rows = [];\r\n        let days = [];\r\n        let day = startDate;\r\n        let formattedDate = \"\";\r\n\r\n        while (day <= endDate) {\r\n            for (let i = 0; i < 7; i++) {\r\n                formattedDate = format(day, \"d\");\r\n                const cloneDay = day;\r\n                const isSelected = selected && isSameDay(day, selected);\r\n                const isCurrentMonth = isSameMonth(day, monthStart);\r\n                const isPast = isBefore(day, today);\r\n\r\n                days.push(\r\n                    <div\r\n                        key={day.toString()}\r\n                        className={`relative aspect-square flex items-center justify-center p-1 ${!isCurrentMonth ? \"opacity-20\" : \"\"} ${isPast ? \"cursor-not-allowed opacity-20\" : \"cursor-pointer\"}`}\r\n                        onClick={() => {\r\n                            if (!isPast) {\r\n                                onSelect(format(cloneDay, \"yyyy-MM-dd\"));\r\n                                onClose();\r\n                            }\r\n                        }}\r\n                    >\r\n                        {isSelected && (\r\n                            <motion.div\r\n                                layoutId=\"activeDay\"\r\n                                className=\"absolute inset-2 bg-dark-cyan rounded-xl shadow-lg shadow-cyan-500/20\"\r\n                                transition={{ type: \"spring\", bounce: 0.2, duration: 0.6 }}\r\n                            />\r\n                        )}\r\n                        <span className={`relative text-xs font-bold transition-colors ${isSelected ? \"text-white\" : \"text-foreground group-hover:text-dark-cyan-light\"}`}>\r\n                            {formattedDate}\r\n                        </span>\r\n                        {isSameDay(day, today) && !isSelected && (\r\n                            <div className=\"absolute bottom-2 left-1/2 -translate-x-1/2 w-1 h-1 bg-dark-cyan-light rounded-full\" />\r\n                        )}\r\n                    </div>\r\n                );\r\n                day = addDays(day, 1);\r\n            }\r\n            rows.push(\r\n                <div className=\"grid grid-cols-7 px-4\" key={day.toString()}>\r\n                    {days}\r\n                </div>\r\n            );\r\n            days = [];\r\n        }\r\n        return <div className=\"pb-4\">{rows}</div>;\r\n    };\r\n\r\n    return (\r\n        <motion.div\r\n            initial={{ opacity: 0, scale: 0.95, y: 10 }}\r\n            animate={{ opacity: 1, scale: 1, y: 0 }}\r\n            exit={{ opacity: 0, scale: 0.95, y: 10 }}\r\n            onClick={(e) => e.stopPropagation()}\r\n            className=\"absolute top-full left-0 mt-3 bg-background rounded-[2.5rem] shadow-2xl z-[100] border border-foreground/10 overflow-hidden w-[320px]\"\r\n        >\r\n            {renderHeader()}\r\n            {renderDays()}\r\n            {renderCells()}\r\n            <div className=\"px-6 py-4 bg-foreground/5 flex items-center justify-between\">\r\n                <button\r\n                    onClick={() => {\r\n                        onSelect(format(today, \"yyyy-MM-dd\"));\r\n                        onClose();\r\n                    }}\r\n                    className=\"text-[10px] font-black uppercase tracking-widest text-dark-cyan-light hover:underline\"\r\n                >\r\n                    Today\r\n                </button>\r\n                <button\r\n                    onClick={onClose}\r\n                    className=\"text-[10px] font-black uppercase tracking-widest text-foreground/40 hover:text-foreground\"\r\n                >\r\n                    Close\r\n                </button>\r\n            </div>\r\n        </motion.div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\PriceGraph.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":10,"column":81,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":84,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[406,409],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[406,409],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":32,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1318,1321],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1318,1321],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":39,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":39,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1541,1544],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1541,1544],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":119,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":119,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4560,4563],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4560,4563],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":149,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":149,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5616,5619],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5616,5619],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useMemo, useState, useEffect, useRef } from \"react\";\r\nimport * as d3 from \"d3\";\r\nimport { useFlightStore } from \"@/lib/store\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { TrendingUp, BarChart2, Info, ChevronRight } from \"lucide-react\";\r\n\r\n// --- D3 Area Chart (Forecast) ---\r\nfunction D3AreaChart({ data, currency, activeMinPrice, departureDate }: { data: any[], currency: string, activeMinPrice: number, departureDate?: string }) {\r\n    const svgRef = useRef<SVGSVGElement>(null);\r\n\r\n    useEffect(() => {\r\n        if (!svgRef.current || data.length === 0) return;\r\n\r\n        const svg = d3.select(svgRef.current);\r\n        svg.selectAll(\"*\").remove();\r\n\r\n        const width = svgRef.current.clientWidth;\r\n        const height = svgRef.current.clientHeight;\r\n        const margin = { top: 20, right: 20, bottom: 30, left: 40 };\r\n\r\n        const x = d3.scaleTime()\r\n            .domain(d3.extent(data, d => new Date(d.date)) as [Date, Date])\r\n            .range([margin.left, width - margin.right]);\r\n\r\n        const y = d3.scaleLinear()\r\n            .domain([d3.min(data, d => d.price) as number * 0.9, d3.max(data, d => d.price) as number * 1.1])\r\n            .range([height - margin.bottom, margin.top]);\r\n\r\n        // Area generator\r\n        const area = d3.area<any>()\r\n            .x(d => x(new Date(d.date)))\r\n            .y0(height - margin.bottom)\r\n            .y1(d => y(d.price))\r\n            .curve(d3.curveMonotoneX);\r\n\r\n        // Line generator\r\n        const line = d3.line<any>()\r\n            .x(d => x(new Date(d.date)))\r\n            .y(d => y(d.price))\r\n            .curve(d3.curveMonotoneX);\r\n\r\n        // Gradient\r\n        const gradient = svg.append(\"defs\")\r\n            .append(\"linearGradient\")\r\n            .attr(\"id\", \"area-gradient\")\r\n            .attr(\"x1\", \"0%\").attr(\"y1\", \"0%\")\r\n            .attr(\"x2\", \"0%\").attr(\"y2\", \"100%\");\r\n\r\n        gradient.append(\"stop\").attr(\"offset\", \"0%\").attr(\"stop-color\", \"#0d9488\").attr(\"stop-opacity\", 0.4);\r\n        gradient.append(\"stop\").attr(\"offset\", \"100%\").attr(\"stop-color\", \"#0d9488\").attr(\"stop-opacity\", 0);\r\n\r\n        // Draw Area\r\n        svg.append(\"path\")\r\n            .datum(data)\r\n            .attr(\"fill\", \"url(#area-gradient)\")\r\n            .attr(\"d\", area);\r\n\r\n        // Draw Line\r\n        svg.append(\"path\")\r\n            .datum(data)\r\n            .attr(\"fill\", \"none\")\r\n            .attr(\"stroke\", \"#0d9488\")\r\n            .attr(\"stroke-width\", 3)\r\n            .attr(\"d\", line);\r\n\r\n        // Selected Date Line\r\n        if (departureDate) {\r\n            const depDateObj = new Date(departureDate);\r\n            if (!isNaN(depDateObj.getTime())) {\r\n                const xPos = x(depDateObj);\r\n                if (xPos >= margin.left && xPos <= width - margin.right) {\r\n                    svg.append(\"line\")\r\n                        .attr(\"x1\", xPos)\r\n                        .attr(\"x2\", xPos)\r\n                        .attr(\"y1\", margin.top)\r\n                        .attr(\"y2\", height - margin.bottom)\r\n                        .attr(\"stroke\", \"#0d9488\")\r\n                        .attr(\"stroke-width\", 2)\r\n                        .attr(\"stroke-dasharray\", \"4 2\")\r\n                        .attr(\"opacity\", 0.8);\r\n\r\n                    svg.append(\"circle\")\r\n                        .attr(\"cx\", xPos)\r\n                        .attr(\"cy\", margin.top)\r\n                        .attr(\"r\", 4)\r\n                        .attr(\"fill\", \"#0d9488\")\r\n                        .attr(\"filter\", \"drop-shadow(0 0 4px #0d9488)\");\r\n                }\r\n            }\r\n        }\r\n\r\n        // Reference Line (Best Entry)\r\n        if (activeMinPrice > 0) {\r\n            svg.append(\"line\")\r\n                .attr(\"x1\", margin.left)\r\n                .attr(\"x2\", width - margin.right)\r\n                .attr(\"y1\", y(activeMinPrice))\r\n                .attr(\"y2\", y(activeMinPrice))\r\n                .attr(\"stroke\", \"#0d9488\")\r\n                .attr(\"stroke-width\", 1)\r\n                .attr(\"stroke-dasharray\", \"4 4\")\r\n                .attr(\"opacity\", 0.5);\r\n\r\n            svg.append(\"text\")\r\n                .attr(\"x\", width - margin.right)\r\n                .attr(\"y\", y(activeMinPrice) - 5)\r\n                .attr(\"text-anchor\", \"end\")\r\n                .attr(\"fill\", \"#0d9488\")\r\n                .attr(\"font-size\", \"9px\")\r\n                .attr(\"font-weight\", \"900\")\r\n                .text(\"BEST ENTRY\");\r\n        }\r\n\r\n        // Axes\r\n        const xAxis = d3.axisBottom(x)\r\n            .ticks(5)\r\n            .tickFormat(d3.timeFormat(\"%b %d\") as any);\r\n\r\n        const yAxis = d3.axisLeft(y)\r\n            .ticks(5)\r\n            .tickFormat(d => `${currency === 'EUR' ? '€' : '$'}${d}`);\r\n\r\n        svg.append(\"g\")\r\n            .attr(\"transform\", `translate(0, ${height - margin.bottom})`)\r\n            .call(xAxis)\r\n            .attr(\"font-size\", \"9px\")\r\n            .attr(\"font-weight\", \"bold\")\r\n            .attr(\"color\", \"#64748b\")\r\n            .call(g => g.select(\".domain\").remove())\r\n            .call(g => g.selectAll(\".tick line\").remove());\r\n\r\n        svg.append(\"g\")\r\n            .attr(\"transform\", `translate(${margin.left}, 0)`)\r\n            .call(yAxis)\r\n            .attr(\"font-size\", \"9px\")\r\n            .attr(\"font-weight\", \"bold\")\r\n            .attr(\"color\", \"#64748b\")\r\n            .call(g => g.select(\".domain\").remove())\r\n            .call(g => g.selectAll(\".tick line\").remove());\r\n\r\n    }, [data, currency, activeMinPrice, departureDate]);\r\n\r\n    return <svg ref={svgRef} className=\"w-full h-full\" />;\r\n}\r\n\r\n// --- D3 Bar Chart (Market) ---\r\nfunction D3BarChart({ data }: { data: any[] }) {\r\n    const svgRef = useRef<SVGSVGElement>(null);\r\n\r\n    useEffect(() => {\r\n        if (!svgRef.current || data.length === 0) return;\r\n\r\n        const svg = d3.select(svgRef.current);\r\n        svg.selectAll(\"*\").remove();\r\n\r\n        const width = svgRef.current.clientWidth;\r\n        const height = svgRef.current.clientHeight;\r\n        const margin = { top: 20, right: 10, bottom: 30, left: 10 };\r\n\r\n        const x = d3.scaleBand()\r\n            .domain(data.map(d => d.bin))\r\n            .range([margin.left, width - margin.right])\r\n            .padding(0.2);\r\n\r\n        const y = d3.scaleLinear()\r\n            .domain([0, d3.max(data, d => d.count) as number])\r\n            .range([height - margin.bottom, margin.top]);\r\n\r\n        // Draw Bars\r\n        svg.selectAll(\".bar\")\r\n            .data(data)\r\n            .enter()\r\n            .append(\"rect\")\r\n            .attr(\"class\", \"bar\")\r\n            .attr(\"x\", d => x(d.bin) as number)\r\n            .attr(\"y\", d => y(d.count))\r\n            .attr(\"width\", x.bandwidth())\r\n            .attr(\"height\", d => height - margin.bottom - y(d.count))\r\n            .attr(\"fill\", (d, i) => i === 0 ? \"#0d9488\" : \"rgba(13, 148, 136, 0.2)\")\r\n            .attr(\"rx\", 6);\r\n\r\n        // X Axis\r\n        const xAxis = d3.axisBottom(x);\r\n        svg.append(\"g\")\r\n            .attr(\"transform\", `translate(0, ${height - margin.bottom})`)\r\n            .call(xAxis)\r\n            .attr(\"font-size\", \"9px\")\r\n            .attr(\"font-weight\", \"bold\")\r\n            .attr(\"color\", \"#64748b\")\r\n            .call(g => g.select(\".domain\").remove())\r\n            .call(g => g.selectAll(\".tick line\").remove());\r\n\r\n    }, [data]);\r\n\r\n    return <svg ref={svgRef} className=\"w-full h-full\" />;\r\n}\r\n\r\nexport default function PriceGraph() {\r\n    const { priceTrends, currency, flightResults, departureDate } = useFlightStore();\r\n    const [view, setView] = useState<'forecast' | 'market'>(priceTrends && priceTrends.length > 0 ? 'forecast' : 'market');\r\n\r\n    // AI Forecast Data\r\n    const forecastData = useMemo(() => {\r\n        if (!priceTrends || priceTrends.length === 0) return [];\r\n        return priceTrends;\r\n    }, [priceTrends]);\r\n\r\n    // Market Distribution Data (Histogram)\r\n    const marketData = useMemo(() => {\r\n        if (!flightResults || flightResults.length === 0) return [];\r\n\r\n        const prices = flightResults.map(f => parseFloat(f.price?.total || f.price?.amount || 0)).filter(p => !isNaN(p));\r\n        if (prices.length === 0) return [];\r\n\r\n        const min = Math.min(...prices);\r\n        const max = Math.max(...prices);\r\n        const range = max - min;\r\n        const bucketCount = 10;\r\n        const bucketSize = Math.max(range / bucketCount, 1);\r\n\r\n        const buckets = Array.from({ length: bucketCount }, (_, i) => {\r\n            const start = min + i * bucketSize;\r\n            const end = start + bucketSize;\r\n            return {\r\n                bin: `$${Math.round(start)}`,\r\n                count: prices.filter(p => p >= start && p < (i === bucketCount - 1 ? end + 0.01 : end)).length,\r\n                price: Math.round(start)\r\n            };\r\n        });\r\n\r\n        return buckets;\r\n    }, [flightResults]);\r\n\r\n    const activeMinPrice = forecastData.length > 0\r\n        ? Math.min(...forecastData.map(t => t.price))\r\n        : 0;\r\n\r\n    if (flightResults.length === 0) return null;\r\n\r\n    return (\r\n        <div className=\"p-6 glass rounded-3xl relative overflow-hidden group border border-white/5 shadow-2xl\">\r\n            {/* Header with View Toggle */}\r\n            <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8\">\r\n                <div>\r\n                    <h3 className=\"text-xl font-black font-display text-foreground flex items-center gap-2 tracking-tighter\">\r\n                        {view === 'forecast' ? <TrendingUp className=\"w-5 h-5 text-dark-cyan-light\" /> : <BarChart2 className=\"w-5 h-5 text-dark-cyan-light\" />}\r\n                        {view === 'forecast' ? 'Price Forecast' : 'Market Analysis'}\r\n                    </h3>\r\n                    <p className=\"text-[10px] text-silver font-black uppercase tracking-[0.2em] mt-1\">\r\n                        {view === 'forecast' ? 'AI-Powered 14-Day Prediction' : 'Current Search Distribution'}\r\n                    </p>\r\n                </div>\r\n\r\n                <div className=\"flex items-center bg-black/20 p-1 rounded-2xl border border-white/5 self-start md:self-center\">\r\n                    <button\r\n                        onClick={() => setView('market')}\r\n                        className={`px-4 py-1.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${view === 'market' ? 'bg-dark-cyan text-white shadow-lg' : 'text-silver hover:text-foreground'}`}\r\n                    >\r\n                        Market\r\n                    </button>\r\n                    <button\r\n                        onClick={() => setView('forecast')}\r\n                        disabled={!priceTrends || priceTrends.length === 0}\r\n                        className={`px-4 py-1.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${view === 'forecast' ? 'bg-dark-cyan text-white shadow-lg' : 'text-silver hover:text-foreground disabled:opacity-30'}`}\r\n                    >\r\n                        Forecast\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Main Chart Area */}\r\n            <div className=\"h-64 w-full relative\">\r\n                <AnimatePresence mode=\"wait\">\r\n                    {view === 'forecast' ? (\r\n                        forecastData.length > 0 ? (\r\n                            <motion.div\r\n                                key=\"forecast\"\r\n                                initial={{ opacity: 0, x: 20 }}\r\n                                animate={{ opacity: 1, x: 0 }}\r\n                                exit={{ opacity: 0, x: -20 }}\r\n                                className=\"w-full h-full\"\r\n                            >\r\n                                <D3AreaChart data={forecastData} currency={currency} activeMinPrice={activeMinPrice} departureDate={departureDate} />\r\n                            </motion.div>\r\n                        ) : (\r\n                            <motion.div\r\n                                key=\"forecast-empty\"\r\n                                initial={{ opacity: 0 }}\r\n                                animate={{ opacity: 1 }}\r\n                                className=\"w-full h-full flex flex-col items-center justify-center gap-3 border border-dashed border-white/5 rounded-2xl\"\r\n                            >\r\n                                <div className=\"p-3 bg-dark-cyan/5 rounded-full\">\r\n                                    <TrendingUp className=\"w-6 h-6 text-dark-cyan/20\" />\r\n                                </div>\r\n                                <div className=\"text-center\">\r\n                                    <p className=\"text-[11px] font-black text-foreground/60 uppercase tracking-widest\">Not Enough Forecast Data</p>\r\n                                    <p className=\"text-[9px] text-silver font-bold uppercase mt-1\">AI needs more historical context for this specific route</p>\r\n                                </div>\r\n                            </motion.div>\r\n                        )\r\n                    ) : (\r\n                        marketData.length > 0 ? (\r\n                            <motion.div\r\n                                key=\"market\"\r\n                                initial={{ opacity: 0, x: 20 }}\r\n                                animate={{ opacity: 1, x: 0 }}\r\n                                exit={{ opacity: 0, x: -20 }}\r\n                                className=\"w-full h-full\"\r\n                            >\r\n                                {(!priceTrends || priceTrends.length === 0) && flightResults.length > 0 && (\r\n                                    <div className=\"absolute inset-0 flex items-center justify-center z-10 pointer-events-none\">\r\n                                        <div className=\"flex flex-col items-center gap-2 bg-black/50 backdrop-blur-md px-6 py-3 rounded-2xl border border-white/5\">\r\n                                            <div className=\"w-4 h-4 rounded-full border-2 border-dark-cyan-light border-t-transparent animate-spin\" />\r\n                                            <span className=\"text-[10px] font-black text-white uppercase tracking-widest\">Generating AI Forecast...</span>\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n                                <D3BarChart data={marketData} />\r\n                            </motion.div>\r\n                        ) : (\r\n                            <motion.div\r\n                                key=\"market-empty\"\r\n                                initial={{ opacity: 0 }}\r\n                                animate={{ opacity: 1 }}\r\n                                className=\"w-full h-full flex flex-col items-center justify-center gap-3 border border-dashed border-white/5 rounded-2xl\"\r\n                            >\r\n                                <div className=\"p-3 bg-dark-cyan/5 rounded-full\">\r\n                                    <BarChart2 className=\"w-6 h-6 text-dark-cyan/20\" />\r\n                                </div>\r\n                                <div className=\"text-center\">\r\n                                    <p className=\"text-[11px] font-black text-foreground/60 uppercase tracking-widest\">Not Enough Market Data</p>\r\n                                    <p className=\"text-[9px] text-silver font-bold uppercase mt-1\">Try expanding your filters or search criteria</p>\r\n                                </div>\r\n                            </motion.div>\r\n                        )\r\n                    )}\r\n                </AnimatePresence>\r\n            </div>\r\n\r\n            {/* Bottom Insight Bar */}\r\n            <div className=\"mt-8 pt-6 border-t border-white/5 flex flex-col sm:flex-row items-center justify-between gap-4\">\r\n                <div className=\"flex items-center gap-3\">\r\n                    <div className=\"w-8 h-8 rounded-full bg-dark-cyan/10 flex items-center justify-center text-dark-cyan-light\">\r\n                        <Info className=\"w-4 h-4\" />\r\n                    </div>\r\n                    <div className=\"flex flex-col\">\r\n                        <span className=\"text-[10px] font-black text-foreground uppercase tracking-tight\">Market Confidence: High</span>\r\n                        <span className=\"text-[9px] text-silver font-bold uppercase\">Based on {flightResults.length} real-time search results</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-2 group/btn\">\r\n                    <span className=\"text-[9px] font-black text-dark-cyan-light uppercase tracking-widest group-hover/btn:pr-2 transition-all\">Deep Analysis</span>\r\n                    <ChevronRight className=\"w-3 h-3 text-dark-cyan-light\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\ResultsDashboard.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'SearchFiltersBar' is defined but never used.","line":5,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":24,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"SearchFiltersBar"},"fix":{"range":[117,167],"text":""},"desc":"Remove unused import declaration."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { motion } from \"framer-motion\";\r\nimport { ChevronLeft, ChevronRight } from \"lucide-react\";\r\nimport SearchFiltersBar from \"./SearchFiltersBar\";\r\nimport FlightResults from \"./FlightResults\";\r\nimport PriceGraph from \"./PriceGraph\";\r\nimport TouristPlaces from \"./TouristPlaces\";\r\nimport { useFlightStore } from \"@/lib/store\";\r\nimport { Button } from \"@/components/ui/Button\";\r\n\r\nexport default function ResultsDashboard() {\r\n    const {\r\n        flightResults,\r\n        isSearchLoading,\r\n        pagination,\r\n        getPaginatedFlights,\r\n        updatePagination\r\n    } = useFlightStore();\r\n\r\n    const paginatedResults = getPaginatedFlights ? getPaginatedFlights() : flightResults.slice(0, 10);\r\n    const totalPages = Math.ceil(flightResults.length / pagination.itemsPerPage);\r\n\r\n    if (flightResults.length === 0) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <motion.div\r\n            key=\"dashboard\"\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0 }}\r\n            transition={{ duration: 0.5 }}\r\n            className=\"w-full min-h-screen pt-8\"\r\n        >\r\n\r\n            {/* Results Grid - Featured Layout */}\r\n            <div className=\"w-full max-w-[1600px] mx-auto px-fluid py-8 grid grid-cols-1 lg:grid-cols-2 gap-8 items-start\">\r\n\r\n                {/* Results List */}\r\n                <div className=\"space-y-6\">\r\n                    <FlightResults\r\n                        results={paginatedResults}\r\n                        isLoading={isSearchLoading}\r\n                    />\r\n\r\n                    {/* EEAT Trust Marker */}\r\n                    {!isSearchLoading && (\r\n                        <div className=\"flex items-center gap-2 p-4 bg-dark-cyan/5 rounded-[2rem] border border-dark-cyan/10\">\r\n                            <div className=\"w-8 h-8 rounded-full bg-dark-cyan/10 flex items-center justify-center\">\r\n                                <span className=\"text-xs\">✨</span>\r\n                            </div>\r\n                            <p className=\"text-[10px] font-bold text-foreground/60 uppercase tracking-widest\">\r\n                                AI-Powered Insights • Verified by Amadeus Global Data Hub\r\n                            </p>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Enhanced Pagination Controls */}\r\n                    {!isSearchLoading && totalPages > 1 && (\r\n                        <div className=\"flex flex-col items-center gap-4 mt-8 py-8 border-t border-silver/10\">\r\n                            <div className=\"flex items-center gap-1\">\r\n                                <Button\r\n                                    onClick={() => updatePagination(Math.max(1, pagination.currentPage - 1))}\r\n                                    disabled={pagination.currentPage === 1}\r\n                                    variant=\"ghost\"\r\n                                    size=\"icon\"\r\n                                    className=\"bg-dark-cyan/5 text-foreground hover:bg-dark-cyan/10 rounded-xl\"\r\n                                >\r\n                                    <ChevronLeft className=\"w-5 h-5\" />\r\n                                </Button>\r\n\r\n                                {Array.from({ length: totalPages }, (_, i) => i + 1)\r\n                                    .filter(page => {\r\n                                        const cur = pagination.currentPage;\r\n                                        return page === 1 || page === totalPages || (page >= cur - 1 && page <= cur + 1);\r\n                                    })\r\n                                    .map((page, i, arr) => {\r\n                                        const showEllipsis = i > 0 && page - arr[i - 1] > 1;\r\n                                        return (\r\n                                            <div key={page} className=\"flex items-center\">\r\n                                                {showEllipsis && <span className=\"px-2 text-silver text-xs\">...</span>}\r\n                                                <Button\r\n                                                    onClick={() => updatePagination(page)}\r\n                                                    variant={pagination.currentPage === page ? \"default\" : \"ghost\"}\r\n                                                    size=\"icon\"\r\n                                                    className={`rounded-xl font-bold text-sm ${pagination.currentPage === page\r\n                                                        ? 'bg-dark-cyan text-white shadow-lg shadow-dark-cyan/20 hover:bg-dark-cyan'\r\n                                                        : 'bg-transparent text-silver hover:bg-dark-cyan/5 hover:text-dark-cyan'\r\n                                                        }`}\r\n                                                >\r\n                                                    {page}\r\n                                                </Button>\r\n                                            </div>\r\n                                        );\r\n                                    })}\r\n\r\n                                <Button\r\n                                    onClick={() => updatePagination(Math.min(totalPages, pagination.currentPage + 1))}\r\n                                    disabled={pagination.currentPage === totalPages}\r\n                                    variant=\"ghost\"\r\n                                    size=\"icon\"\r\n                                    className=\"bg-dark-cyan/5 text-foreground hover:bg-dark-cyan/10 rounded-xl\"\r\n                                >\r\n                                    <ChevronRight className=\"w-5 h-5\" />\r\n                                </Button>\r\n                            </div>\r\n                            <p className=\"text-[10px] text-silver font-bold uppercase tracking-widest\">\r\n                                Showing {(pagination.currentPage - 1) * pagination.itemsPerPage + 1} - {Math.min(pagination.currentPage * pagination.itemsPerPage, flightResults.length)} of {flightResults.length} flights\r\n                            </p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Vertical Visualizer Column */}\r\n                <div className=\"w-full\">\r\n                    <div className=\"sticky top-28 space-y-8\">\r\n                        <PriceGraph />\r\n                        <TouristPlaces />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </motion.div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\ResultsDashboardWrapper.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\SearchErrorDisplay.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'motion' is defined but never used.","line":3,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":16,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"motion"},"fix":{"range":[26,33],"text":""},"desc":"Remove unused variable \"motion\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AnimatePresence' is defined but never used.","line":3,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":33,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"AnimatePresence"},"fix":{"range":[17,73],"text":""},"desc":"Remove unused import declaration."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { AlertCircle, XCircle, Wifi, Calendar, Plane, MapPin, ArrowRight } from \"lucide-react\";\r\n\r\nexport type ErrorType =\r\n    | \"no_flights_found\"\r\n    | \"invalid_route\"\r\n    | \"api_error\"\r\n    | \"network_error\"\r\n    | \"invalid_dates\"\r\n    | \"sandbox_limitation\";\r\n\r\ninterface SearchErrorDisplayProps {\r\n    type: ErrorType;\r\n    origin?: string;\r\n    destination?: string;\r\n    departureDate?: string;\r\n    onDismiss?: () => void;\r\n    onRetry?: () => void;\r\n}\r\n\r\nconst errorConfig = {\r\n    no_flights_found: {\r\n        icon: Plane,\r\n        title: \"No Flights Available\",\r\n        color: \"text-amber-500\",\r\n        bgColor: \"bg-amber-500/[0.08]\",\r\n        borderColor: \"border-amber-500/20\",\r\n        getMessage: (origin?: string, destination?: string) =>\r\n            `No flights found from ${origin || 'origin'} to ${destination || 'destination'} for the selected dates.`,\r\n        suggestions: [\r\n            \"Try selecting different dates (±3 days)\",\r\n            \"Check nearby airports\",\r\n            \"Consider connecting flights\"\r\n        ]\r\n    },\r\n    invalid_route: {\r\n        icon: MapPin,\r\n        title: \"Route Not Available\",\r\n        color: \"text-orange-500\",\r\n        bgColor: \"bg-orange-500/[0.08]\",\r\n        borderColor: \"border-orange-500/20\",\r\n        getMessage: () => \"This route is not currently serviced by any airlines.\",\r\n        suggestions: [\r\n            \"Try a major hub airport nearby\",\r\n            \"Search for multi-city routes\",\r\n            \"Check alternative destinations\"\r\n        ]\r\n    },\r\n    api_error: {\r\n        icon: AlertCircle,\r\n        title: \"Service Temporarily Unavailable\",\r\n        color: \"text-red-500\",\r\n        bgColor: \"bg-red-500/[0.08]\",\r\n        borderColor: \"border-red-500/20\",\r\n        getMessage: () => \"We're having trouble connecting to the flight search service.\",\r\n        suggestions: [\r\n            \"Please try again in a moment\",\r\n            \"Check your internet connection\",\r\n            \"Contact support if issue persists\"\r\n        ]\r\n    },\r\n    network_error: {\r\n        icon: Wifi,\r\n        title: \"Connection Issue\",\r\n        color: \"text-purple-500\",\r\n        bgColor: \"bg-purple-500/[0.08]\",\r\n        borderColor: \"border-purple-500/20\",\r\n        getMessage: () => \"Unable to connect to the internet.\",\r\n        suggestions: [\r\n            \"Check your network connection\",\r\n            \"Try again when online\",\r\n            \"Some cached results may be available\"\r\n        ]\r\n    },\r\n    invalid_dates: {\r\n        icon: Calendar,\r\n        title: \"Invalid Date Selection\",\r\n        color: \"text-blue-500\",\r\n        bgColor: \"bg-blue-500/[0.08]\",\r\n        borderColor: \"border-blue-500/20\",\r\n        getMessage: () => \"Please select valid travel dates.\",\r\n        suggestions: [\r\n            \"Departure date must be in the future\",\r\n            \"Return date must be after departure\",\r\n            \"Dates must be within 330 days\"\r\n        ]\r\n    },\r\n    sandbox_limitation: {\r\n        icon: XCircle,\r\n        title: \"Test Mode Limitation\",\r\n        color: \"text-cyan-500\",\r\n        bgColor: \"bg-cyan-500/[0.08]\",\r\n        borderColor: \"border-cyan-500/20\",\r\n        getMessage: () => \"This route is only available in production mode.\",\r\n        suggestions: [\r\n            \"Try routes within Europe (FR, ES, GB, DE, NL)\",\r\n            \"Popular test routes: Paris ↔ Madrid, London ↔ Amsterdam\",\r\n            \"Full route coverage available in production\"\r\n        ]\r\n    }\r\n};\r\n\r\nexport default function SearchErrorDisplay({\r\n    type,\r\n    origin,\r\n    destination,\r\n    departureDate,\r\n    onDismiss,\r\n    onRetry\r\n}: SearchErrorDisplayProps) {\r\n    const config = errorConfig[type];\r\n    const Icon = config.icon;\r\n\r\n    return (\r\n        <div\r\n            className={`mt-6 rounded-3xl border ${config.borderColor} ${config.bgColor} p-6 backdrop-blur-md`}\r\n        >\r\n            <div className=\"flex items-start gap-4\">\r\n                {/* Icon */}\r\n                <div className={`flex-shrink-0 w-12 h-12 rounded-2xl ${config.bgColor} flex items-center justify-center border ${config.borderColor}`}>\r\n                    <Icon className={`w-6 h-6 ${config.color}`} />\r\n                </div>\r\n\r\n                {/* Content */}\r\n                <div className=\"flex-1 min-w-0\">\r\n                    <h3 className={`text-lg font-display font-black ${config.color} mb-1.5`}>\r\n                        {config.title}\r\n                    </h3>\r\n\r\n                    <p className=\"text-sm font-medium text-foreground/60 mb-4 max-w-2xl\">\r\n                        {config.getMessage(origin, destination)}\r\n                    </p>\r\n\r\n                    {/* Route Info */}\r\n                    {origin && destination && (\r\n                        <div className=\"flex items-center gap-2 mb-5 text-[10px] font-black uppercase tracking-widest bg-foreground/5 dark:bg-white/5 p-3 rounded-2xl border border-foreground/5 w-fit\">\r\n                            <span className=\"text-foreground/80\">{origin}</span>\r\n                            <ArrowRight className=\"w-3 h-3 text-dark-cyan-light\" />\r\n                            <span className=\"text-foreground/80\">{destination}</span>\r\n                            {departureDate && (\r\n                                <>\r\n                                    <span className=\"text-foreground/20 mx-1\">•</span>\r\n                                    <span className=\"text-foreground/40\">{departureDate}</span>\r\n                                </>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Suggestions */}\r\n                    <div className=\"space-y-3 bg-white/40 dark:bg-black/20 p-5 rounded-2xl border border-white/20 dark:border-white/5\">\r\n                        <p className=\"text-[10px] font-black text-foreground/30 uppercase tracking-[0.2em]\">\r\n                            💡 Suggestions\r\n                        </p>\r\n                        <ul className=\"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2\">\r\n                            {config.suggestions.map((suggestion, index) => (\r\n                                <li key={index} className=\"flex items-start gap-2 text-xs text-foreground/60 font-medium\">\r\n                                    <span className={`w-1 h-1 rounded-full mt-1.5 ${config.color} opacity-40`} />\r\n                                    <span>{suggestion}</span>\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n                    </div>\r\n\r\n                    {/* Actions */}\r\n                    <div className=\"flex items-center gap-3 mt-6\">\r\n                        {onRetry && (\r\n                            <button\r\n                                onClick={onRetry}\r\n                                className={`px-6 py-2.5 rounded-xl font-black text-xs uppercase tracking-widest ${config.color} bg-white dark:bg-white/10 hover:shadow-xl hover:shadow-black/5 transition-all border ${config.borderColor}`}\r\n                            >\r\n                                Try Again\r\n                            </button>\r\n                        )}\r\n                        {onDismiss && (\r\n                            <button\r\n                                onClick={onDismiss}\r\n                                className=\"px-6 py-2.5 rounded-xl font-black text-xs uppercase tracking-widest text-foreground/40 hover:text-foreground hover:bg-foreground/5 transition-all\"\r\n                            >\r\n                                Dismiss\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\SearchFiltersBar.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":145,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":145,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7321,7324],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7321,7324],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":147,"column":37,"nodeType":"JSXOpeningElement","endLine":152,"endColumn":39}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useFlightStore } from \"@/lib/store\";\r\nimport SearchForm from \"./SearchForm\";\r\nimport { Filter, X, Plane, Briefcase } from \"lucide-react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { useState } from \"react\";\r\nimport FilterDropdown from \"./search/FilterDropdown\";\r\nimport PriceRangeSelector from \"./search/PriceRangeSelector\";\r\n\r\nimport { SUPPORTED_CURRENCIES, SUPPORTED_LANGUAGES } from \"@/constants/localizationData\";\r\n\r\nexport default function SearchFiltersBar() {\r\n    const {\r\n        filters, updateFilters, topAirlines, availableCabinClasses,\r\n        flightResults, currency, setCurrency, formatPrice, fetchRates,\r\n        language, setLanguage, t\r\n    } = useFlightStore();\r\n\r\n    const [activeDropdown, setActiveDropdown] = useState<string | null>(null);\r\n\r\n    const toggleDropdown = (key: string) => {\r\n        if (key === 'currency' && Object.keys(useFlightStore.getState().exchangeRates).length <= 1) {\r\n            fetchRates();\r\n        }\r\n        setActiveDropdown(activeDropdown === key ? null : key);\r\n    };\r\n\r\n    // Derived Statistics\r\n    const totalFlights = flightResults.length;\r\n    const cheapestPrice = totalFlights > 0\r\n        ? Math.min(...flightResults.map(f => parseFloat(f.price?.total || f.price?.amount || \"0\")))\r\n        : 0;\r\n\r\n    const stopOptions = [0, 1, 2].map(s => ({ id: s.toString(), label: s === 0 ? t(\"Non-stop\") : `${s} ${t(\"Stop\")}${s > 1 ? 's' : ''}` }));\r\n    const cabinOptions = availableCabinClasses.map(c => ({ id: c, label: t(c) }));\r\n    const airlineOptions = topAirlines.map(a => ({ id: a.code, label: a.name }));\r\n\r\n    const currencyOptions = SUPPORTED_CURRENCIES.map(curr => ({\r\n        id: curr.code,\r\n        label: curr.code,\r\n        icon: <span className=\"text-[10px] font-bold text-dark-cyan/50\">{curr.symbol}</span>\r\n    }));\r\n\r\n    const languageOptions = SUPPORTED_LANGUAGES.map(lang => ({\r\n        id: lang.code,\r\n        label: lang.label.toUpperCase(),\r\n        native: lang.nativeLabel\r\n    }));\r\n\r\n    return (\r\n        <div className=\"sticky top-[64px] md:top-20 z-50 w-full bg-background/95 backdrop-blur-3xl border-b border-silver/10 shadow-sm transition-all pb-4 pt-4 px-fluid flex flex-col gap-4\">\r\n\r\n            <div className=\"w-full\">\r\n                <SearchForm compact />\r\n            </div>\r\n\r\n            <AnimatePresence>\r\n                {flightResults.length > 0 && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0, height: 0, y: -10 }}\r\n                        animate={{ opacity: 1, height: 'auto', y: 0 }}\r\n                        exit={{ opacity: 0, height: 0, y: -10 }}\r\n                        className=\"flex items-center gap-2 flex-wrap pb-2\"\r\n                    >\r\n                        {/* Status Pills */}\r\n                        <div className=\"flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-dark-cyan/5 border border-dark-cyan/10 mr-2\">\r\n                            <Plane className=\"w-3 h-3 text-dark-cyan\" />\r\n                            <span className=\"text-[10px] font-black uppercase tracking-widest text-dark-cyan\">\r\n                                {totalFlights} {t(\"Flights Found\")}\r\n                            </span>\r\n                        </div>\r\n                        {cheapestPrice > 0 && (\r\n                            <div className=\"flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-emerald-500/5 border border-emerald-500/10 mr-4\">\r\n                                <span className=\"text-[10px] font-black uppercase tracking-widest text-emerald-600\">\r\n                                    {t(\"From\")} {formatPrice(cheapestPrice)}\r\n                                </span>\r\n                            </div>\r\n                        )}\r\n\r\n                        <div className=\"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-foreground/40 mr-4\">\r\n                            <Filter className=\"w-3.5 h-3.5\" />\r\n                            <span>{t(\"Quick Filters\")}</span>\r\n                        </div>\r\n\r\n                        {/* Currency Dropdown */}\r\n                        <FilterDropdown\r\n                            label={currency}\r\n                            icon={<Filter className=\"w-3 h-3\" />}\r\n                            options={currencyOptions}\r\n                            selectedIds={[currency]}\r\n                            isOpen={activeDropdown === 'currency'}\r\n                            onToggle={() => toggleDropdown('currency')}\r\n                            onSelect={(id: string) => { setCurrency(id); setActiveDropdown(null); }}\r\n                        />\r\n\r\n                        {/* Language Dropdown */}\r\n                        <FilterDropdown\r\n                            label={language.toUpperCase()}\r\n                            icon={<Filter className=\"w-3 h-3\" />}\r\n                            options={languageOptions}\r\n                            selectedIds={[language]}\r\n                            isOpen={activeDropdown === 'language'}\r\n                            onToggle={() => toggleDropdown('language')}\r\n                            onSelect={(id: string) => { setLanguage(id); setActiveDropdown(null); }}\r\n                        />\r\n\r\n                        {/* Price Filter */}\r\n                        <PriceRangeSelector\r\n                            isOpen={activeDropdown === 'price'}\r\n                            onToggle={() => toggleDropdown('price')}\r\n                        />\r\n\r\n                        {/* Stops Dropdown */}\r\n                        <FilterDropdown\r\n                            label=\"Stops\"\r\n                            icon={<Filter className=\"w-3 h-3\" />}\r\n                            options={stopOptions}\r\n                            selectedIds={filters.stops.map(String)}\r\n                            isOpen={activeDropdown === 'stops'}\r\n                            onToggle={() => toggleDropdown('stops')}\r\n                            onSelect={(id: string) => {\r\n                                const stop = parseInt(id);\r\n                                const updated = filters.stops.includes(stop)\r\n                                    ? filters.stops.filter(s => s !== stop)\r\n                                    : [...filters.stops, stop];\r\n                                updateFilters({ stops: updated });\r\n                            }}\r\n                        />\r\n\r\n                        {/* Airlines Dropdown */}\r\n                        <FilterDropdown\r\n                            label=\"Airlines\"\r\n                            icon={<Plane className=\"w-3 h-3\" />}\r\n                            options={airlineOptions}\r\n                            selectedIds={filters.airlines}\r\n                            isOpen={activeDropdown === 'airlines'}\r\n                            onToggle={() => toggleDropdown('airlines')}\r\n                            onSelect={(id: string) => {\r\n                                const updated = filters.airlines.includes(id)\r\n                                    ? filters.airlines.filter(a => a !== id)\r\n                                    : [...filters.airlines, id];\r\n                                updateFilters({ airlines: updated });\r\n                            }}\r\n                            renderOption={(option: any, isSelected: boolean) => (\r\n                                <div className=\"flex items-center gap-3 w-full\">\r\n                                    <img\r\n                                        src={`https://www.gstatic.com/flights/airline_logos/70px/${option.id}.png`}\r\n                                        alt={option.label}\r\n                                        className=\"w-4 h-4 object-contain brightness-110\"\r\n                                        onError={(e) => { (e.target as HTMLImageElement).style.display = 'none'; }}\r\n                                    />\r\n                                    <span className={`text-xs font-bold transition-colors ${isSelected ? 'text-dark-cyan' : 'text-foreground'}`}>\r\n                                        {option.label}\r\n                                    </span>\r\n                                </div>\r\n                            )}\r\n                        />\r\n\r\n                        {/* Cabin Dropdown */}\r\n                        <FilterDropdown\r\n                            label={filters.cabinClass}\r\n                            icon={<Briefcase className=\"w-3 h-3\" />}\r\n                            options={cabinOptions}\r\n                            selectedIds={[filters.cabinClass]}\r\n                            isOpen={activeDropdown === 'cabin'}\r\n                            onToggle={() => toggleDropdown('cabin')}\r\n                            onSelect={(id: string) => { updateFilters({ cabinClass: id }); setActiveDropdown(null); }}\r\n                        />\r\n\r\n                        {/* Clear Button */}\r\n                        {(filters.stops.length > 0 || filters.maxPrice < 5000 || filters.airlines.length > 0 || filters.cabinClass !== 'Economy') && (\r\n                            <motion.button\r\n                                initial={{ opacity: 0, scale: 0.8 }}\r\n                                animate={{ opacity: 1, scale: 1 }}\r\n                                onClick={() => updateFilters({ stops: [], maxPrice: 5000, airlines: [], cabinClass: 'Economy' })}\r\n                                className=\"w-9 h-9 flex items-center justify-center rounded-full bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white transition-all shadow-lg\"\r\n                            >\r\n                                <X className=\"w-4 h-4\" />\r\n                            </motion.button>\r\n                        )}\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\SearchForm.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":91,"column":69,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":91,"endColumn":72,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4351,4354],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4351,4354],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'searchFlights'. Either include it or remove the dependency array.","line":150,"column":8,"nodeType":"ArrayExpression","endLine":150,"endColumn":72,"suggestions":[{"desc":"Update the dependencies array to be: [originCode, destinationCode, departureDate, returnDate, origin, searchFlights]","fix":{"range":[6956,7020],"text":"[originCode, destinationCode, departureDate, returnDate, origin, searchFlights]"}}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect, useRef } from \"react\";\r\nimport { searchLocationsAction } from \"@/app/actions/flight\";\r\nimport { format } from \"date-fns\";\r\nimport { Calendar } from \"lucide-react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\nimport { useFlightStore } from \"@/lib/store\";\r\nimport PremiumCalendar from \"./PremiumCalendar\";\r\nimport { locationCache } from \"@/lib/locationCache\";\r\nimport SearchErrorDisplay from \"./SearchErrorDisplay\";\r\nimport { smartSearch } from \"@/lib/smartSearch\";\r\nimport { Skeleton } from \"@/components/ui/Skeleton\";\r\nimport LocationInput from \"./search/LocationInput\";\r\nimport { type SearchLocation } from \"@/types/location\";\r\nimport SearchLoadingBar from \"./search/SearchLoadingBar\";\r\nimport LocationPermissionDialog from \"./LocationPermissionDialog\";\r\nimport { useAuth } from \"@/lib/firebase\";\r\n\r\ninterface SearchFormProps {\r\n    compact?: boolean;\r\n}\r\n\r\nexport default function SearchForm({ compact }: SearchFormProps) {\r\n    const {\r\n        origin, originCode, destination, destinationCode, departureDate, returnDate,\r\n        searchFlights, isSearchLoading, updateSearchParam, retrievedLocations,\r\n        setRetrievedLocations, detectUserLocation, searchError, clearError,\r\n        fetchDiscoveryDeals, fetchOriginInsights\r\n    } = useFlightStore();\r\n\r\n    const { isAuthenticated } = useAuth();\r\n    const [isMounted, setIsMounted] = useState(false);\r\n    const [detectingLocation, setDetectingLocation] = useState(false);\r\n    const [activeCalendar, setActiveCalendar] = useState<'departure' | 'return' | null>(null);\r\n    const [focusedField, setFocusedField] = useState<'origin' | 'destination' | null>(null);\r\n    const [showPermissionDialog, setShowPermissionDialog] = useState(false);\r\n\r\n    const calendarRef = useRef<HTMLDivElement>(null);\r\n    const returnCalendarRef = useRef<HTMLDivElement>(null);\r\n    const originRef = useRef<HTMLDivElement>(null);\r\n    const destRef = useRef<HTMLDivElement>(null);\r\n    const searchTimeoutRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n    useEffect(() => {\r\n        setIsMounted(true);\r\n    }, []);\r\n\r\n    // Close overlays on outside click\r\n    useEffect(() => {\r\n        function handleClickOutside(event: MouseEvent) {\r\n            if (calendarRef.current && !calendarRef.current.contains(event.target as Node)) {\r\n                if (activeCalendar === 'departure') setActiveCalendar(null);\r\n            }\r\n            if (returnCalendarRef.current && !returnCalendarRef.current.contains(event.target as Node)) {\r\n                if (activeCalendar === 'return') setActiveCalendar(null);\r\n            }\r\n            if (originRef.current && !originRef.current.contains(event.target as Node)) {\r\n                if (focusedField === 'origin') setFocusedField(null);\r\n            }\r\n            if (destRef.current && !destRef.current.contains(event.target as Node)) {\r\n                if (focusedField === 'destination') setFocusedField(null);\r\n            }\r\n        }\r\n        document.addEventListener(\"mousedown\", handleClickOutside);\r\n        return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    }, [focusedField, activeCalendar]);\r\n\r\n    // Handle Location Search with Cache-First Strategy + Debounce\r\n    const handleLocationSearch = async (val: string, type: 'origin' | 'destination') => {\r\n        updateSearchParam(type, val);\r\n        updateSearchParam(type === 'origin' ? 'originCode' : 'destinationCode', \"\");\r\n        clearError();\r\n\r\n        const cachedResults = locationCache.search(val).map(loc => ({\r\n            id: loc.id, iataCode: loc.iataCode, name: loc.name, subType: loc.subType,\r\n            address: { cityName: loc.cityName, countryCode: loc.countryCode }\r\n        }));\r\n        setRetrievedLocations(cachedResults);\r\n\r\n        if (searchTimeoutRef.current) clearTimeout(searchTimeoutRef.current);\r\n\r\n        if (val.length >= 2) {\r\n            setDetectingLocation(true);\r\n            searchTimeoutRef.current = setTimeout(async () => {\r\n                try {\r\n                    const apiResults = await searchLocationsAction(val);\r\n                    if (apiResults && apiResults.length > 0) {\r\n                        apiResults.forEach((loc: SearchLocation) => locationCache.addToCache(loc));\r\n                        const apiCodes = new Set(apiResults.map((r: any) => r.iataCode));\r\n                        const merged = [...apiResults, ...cachedResults.filter(c => !apiCodes.has(c.iataCode))];\r\n                        setRetrievedLocations(merged);\r\n                    }\r\n                } finally {\r\n                    setDetectingLocation(false);\r\n                }\r\n            }, 400);\r\n        }\r\n    };\r\n\r\n    const handleSelect = (loc: SearchLocation, type: 'origin' | 'destination') => {\r\n        const cityRaw = loc.address?.cityName || loc.cityName || \"\";\r\n        const city = cityRaw.toLowerCase().split(' ').map((word: string) => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');\r\n        const displayName = city || loc.name;\r\n\r\n        updateSearchParam(type, displayName);\r\n        updateSearchParam(type === 'origin' ? 'originCode' : 'destinationCode', loc.iataCode);\r\n\r\n        console.info(`[SearchForm] 📍 Selected ${type}: ${displayName} (${loc.iataCode}) - ${loc.name}`);\r\n\r\n        if (type === 'origin') {\r\n            fetchDiscoveryDeals(loc.iataCode);\r\n            fetchOriginInsights(displayName, loc.iataCode);\r\n        }\r\n\r\n        locationCache.addToRecent({\r\n            id: loc.id, iataCode: loc.iataCode, name: loc.name, subType: loc.subType,\r\n            cityName: loc.address?.cityName || '', countryCode: loc.address?.countryCode || ''\r\n        });\r\n\r\n        setFocusedField(null);\r\n    };\r\n\r\n    const handleFocus = async (field: 'origin' | 'destination') => {\r\n        setFocusedField(field);\r\n        clearError();\r\n        const val = field === 'origin' ? origin : destination;\r\n        const cachedResults = locationCache.search(val || '').map(loc => ({\r\n            id: loc.id, iataCode: loc.iataCode, name: loc.name, subType: loc.subType,\r\n            address: { cityName: loc.cityName, countryCode: loc.countryCode }\r\n        }));\r\n        setRetrievedLocations(cachedResults);\r\n    };\r\n\r\n    // Auto-search logic\r\n    useEffect(() => {\r\n        const triggerSearch = async () => {\r\n            const iataRegex = /^[A-Z]{3}$/;\r\n            if (originCode && iataRegex.test(originCode)) smartSearch.predictAndCacheDestinations(origin);\r\n            if (iataRegex.test(originCode) && iataRegex.test(destinationCode) && departureDate) {\r\n                await searchFlights({\r\n                    originLocationCode: originCode, destinationLocationCode: destinationCode,\r\n                    departureDate, returnDate: returnDate || undefined, adults: \"1\",\r\n                });\r\n            }\r\n        };\r\n        const timer = setTimeout(triggerSearch, 500);\r\n        return () => clearTimeout(timer);\r\n    }, [originCode, destinationCode, departureDate, returnDate, origin]);\r\n\r\n    if (!isMounted) return (\r\n        <div className={`w-full max-w-7xl mx-auto -mt-20 px-4 relative z-40`}>\r\n            <Skeleton className=\"h-24 w-full rounded-[2.5rem] bg-white/10 backdrop-blur-md\" />\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <motion.div\r\n            initial={{ opacity: 0, y: compact ? 0 : 40 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className={`w-full relative z-40 transition-all duration-500 ${compact ? 'px-0' : 'max-w-7xl mx-auto -mt-20 px-4'}`}\r\n        >\r\n            <div className={`glass-card relative overflow-visible shadow-2xl backdrop-blur-3xl border border-white/10 ${compact ? 'p-1.5 rounded-2xl' : 'p-2 md:p-4 rounded-[2.5rem]'}`}>\r\n                <div className=\"absolute inset-x-0 bottom-0 h-[2px] overflow-hidden rounded-b-2xl pointer-events-none z-20\">\r\n                    <SearchLoadingBar isLoading={isSearchLoading || detectingLocation} layoutId=\"loading-bar\" />\r\n                </div>\r\n\r\n                <div className=\"flex flex-col lg:flex-row items-stretch gap-1\">\r\n                    <div ref={originRef} className=\"flex-[1.5]\">\r\n                        <LocationInput\r\n                            type=\"origin\" value={origin} iataCode={originCode}\r\n                            isFocused={focusedField === 'origin'} isLoading={detectingLocation} compact={compact}\r\n                            locations={retrievedLocations} onFocus={() => handleFocus('origin')}\r\n                            onChange={(val) => handleLocationSearch(val, 'origin')}\r\n                            onClear={() => { updateSearchParam('origin', ''); updateSearchParam('originCode', ''); }}\r\n                            onSelect={(loc) => handleSelect(loc, 'origin')}\r\n                            isAuthenticated={isAuthenticated}\r\n                            onDetectLocation={isAuthenticated ? async () => {\r\n                                setShowPermissionDialog(true);\r\n                            } : undefined}\r\n                        />\r\n                    </div>\r\n\r\n                    <div ref={destRef} className=\"flex-[1.5]\">\r\n                        <LocationInput\r\n                            type=\"destination\" value={destination} iataCode={destinationCode}\r\n                            isFocused={focusedField === 'destination'} isLoading={detectingLocation} compact={compact}\r\n                            locations={retrievedLocations} onFocus={() => handleFocus('destination')}\r\n                            onChange={(val) => handleLocationSearch(val, 'destination')}\r\n                            onClear={() => { updateSearchParam('destination', ''); updateSearchParam('destinationCode', ''); }}\r\n                            onSelect={(loc) => handleSelect(loc, 'destination')}\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Departure Date */}\r\n                    <div className=\"flex-1 min-w-[180px] relative\" ref={calendarRef}>\r\n                        <div className=\"absolute left-5 top-1/2 -translate-y-1/2 text-dark-cyan-light pointer-events-none\">\r\n                            <Calendar className=\"w-4 h-4\" />\r\n                        </div>\r\n                        <div\r\n                            aria-label=\"Departure Date\"\r\n                            onClick={() => setActiveCalendar(activeCalendar === 'departure' ? null : 'departure')}\r\n                            className={`w-full pl-12 pr-4 ${compact ? 'py-3.5' : 'py-5'} bg-foreground/5 dark:bg-white/5 hover:bg-foreground/10 border-none rounded-2xl text-xs font-black uppercase tracking-widest text-foreground transition-all cursor-pointer flex flex-col justify-center`}\r\n                        >\r\n                            <span className={departureDate ? \"text-foreground\" : \"text-foreground/20\"}>\r\n                                {departureDate ? format(new Date(departureDate), \"MMM dd\") : \"Departure\"}\r\n                            </span>\r\n                            <span className=\"text-[9px] text-foreground/30 tracking-tighter\">Outbound</span>\r\n                        </div>\r\n                        <AnimatePresence>\r\n                            {activeCalendar === 'departure' && (\r\n                                <PremiumCalendar\r\n                                    selectedDate={departureDate}\r\n                                    onSelect={(date) => {\r\n                                        updateSearchParam('departureDate', date);\r\n                                        setActiveCalendar(null);\r\n                                    }}\r\n                                    onClose={() => setActiveCalendar(null)}\r\n                                />\r\n                            )}\r\n                        </AnimatePresence>\r\n                    </div>\r\n\r\n                    {/* Arriving (Return) Date */}\r\n                    <div className=\"flex-1 min-w-[180px] relative\" ref={returnCalendarRef}>\r\n                        <div className=\"absolute left-5 top-1/2 -translate-y-1/2 text-dark-cyan-light pointer-events-none\">\r\n                            <Calendar className=\"w-4 h-4 opacity-50\" />\r\n                        </div>\r\n                        <div\r\n                            aria-label=\"Return Date\"\r\n                            onClick={() => setActiveCalendar(activeCalendar === 'return' ? null : 'return')}\r\n                            className={`w-full pl-12 pr-4 ${compact ? 'py-3.5' : 'py-5'} bg-foreground/5 dark:bg-white/5 hover:bg-foreground/10 border-none rounded-2xl text-xs font-black uppercase tracking-widest text-foreground transition-all cursor-pointer flex flex-col justify-center`}\r\n                        >\r\n                            <span className={returnDate ? \"text-foreground\" : \"text-foreground/20\"}>\r\n                                {returnDate ? format(new Date(returnDate), \"MMM dd\") : \"Arriving\"}\r\n                            </span>\r\n                            <span className=\"text-[9px] text-foreground/30 tracking-tighter\">Inbound (Optional)</span>\r\n                        </div>\r\n                        <AnimatePresence>\r\n                            {activeCalendar === 'return' && (\r\n                                <PremiumCalendar\r\n                                    selectedDate={returnDate}\r\n                                    onSelect={(date) => {\r\n                                        updateSearchParam('returnDate', date);\r\n                                        setActiveCalendar(null);\r\n                                    }}\r\n                                    onClose={() => setActiveCalendar(null)}\r\n                                />\r\n                            )}\r\n                        </AnimatePresence>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                {/* Animated Loading Bar - Attached to bottom of card */}\r\n                <AnimatePresence>\r\n                    {isSearchLoading && (\r\n                        <motion.div\r\n                            initial={{ opacity: 0, height: 0 }}\r\n                            animate={{ opacity: 1, height: 4 }}\r\n                            exit={{ opacity: 0, height: 0 }}\r\n                            className=\"absolute bottom-0 left-0 right-0 h-1 bg-background overflow-hidden\"\r\n                        >\r\n                            <motion.div\r\n                                className=\"h-full bg-gradient-to-r from-transparent via-dark-cyan-light to-transparent\"\r\n                                initial={{ x: \"-100%\" }}\r\n                                animate={{ x: \"100%\" }}\r\n                                transition={{\r\n                                    repeat: Infinity,\r\n                                    duration: 1.5,\r\n                                    ease: \"linear\"\r\n                                }}\r\n                            />\r\n                        </motion.div>\r\n                    )}\r\n                </AnimatePresence>\r\n            </div>\r\n\r\n            {/* Error Display Area */}\r\n            <div className=\"relative\">\r\n                <AnimatePresence mode=\"wait\">\r\n                    {searchError && (\r\n                        <motion.div\r\n                            key=\"search-error\"\r\n                            initial={{ opacity: 0, height: 0, y: -20 }}\r\n                            animate={{ opacity: 1, height: \"auto\", y: 0 }}\r\n                            exit={{ opacity: 0, height: 0, y: -20 }}\r\n                            transition={{ duration: 0.4, ease: \"circOut\" }}\r\n                            className=\"overflow-hidden\"\r\n                        >\r\n                            <SearchErrorDisplay\r\n                                type={searchError}\r\n                                origin={origin}\r\n                                destination={destination}\r\n                                departureDate={departureDate}\r\n                                onDismiss={clearError}\r\n                                onRetry={() => {\r\n                                    clearError();\r\n                                    if (originCode && destinationCode && departureDate) {\r\n                                        searchFlights({\r\n                                            originLocationCode: originCode,\r\n                                            destinationLocationCode: destinationCode,\r\n                                            departureDate,\r\n                                            returnDate: returnDate || undefined,\r\n                                            adults: \"1\",\r\n                                        });\r\n                                    }\r\n                                }}\r\n                            />\r\n                        </motion.div>\r\n                    )}\r\n                </AnimatePresence>\r\n            </div>\r\n\r\n            {/* Location Permission Dialog */}\r\n            <LocationPermissionDialog\r\n                isOpen={showPermissionDialog}\r\n                onClose={() => setShowPermissionDialog(false)}\r\n                onAllow={async () => {\r\n                    setShowPermissionDialog(false);\r\n                    setDetectingLocation(true);\r\n                    await detectUserLocation();\r\n                    setDetectingLocation(false);\r\n                }}\r\n            />\r\n        </motion.div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\SearchGuide.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\SearchSection.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'SearchForm' is defined but never used.","line":5,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":18,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"SearchForm"},"fix":{"range":[112,150],"text":""},"desc":"Remove unused import declaration."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport dynamic from \"next/dynamic\";\r\nimport SearchForm from \"./SearchForm\";\r\nimport SearchGuide from \"./SearchGuide\";\r\nimport { useFlightStore } from \"@/lib/store\";\r\nimport { Skeleton } from \"@/components/ui/Skeleton\";\r\n\r\n// Lazy load components that appear after user interaction\r\nconst TouristPlaces = dynamic(() => import(\"./TouristPlaces\"), {\r\n    loading: () => <Skeleton className=\"h-64 w-full rounded-2xl\" />,\r\n    ssr: false\r\n});\r\n\r\nconst FlightDeals = dynamic(() => import(\"./FlightDeals\"), {\r\n    loading: () => <Skeleton className=\"h-64 w-full rounded-2xl\" />,\r\n    ssr: false\r\n});\r\n\r\nexport default function SearchSection() {\r\n    const { origin, destination, isSearchLoading, flightResults } = useFlightStore();\r\n\r\n    // Hide this main search section if we have results (as ResultsDashboard has its own sticky search bar)\r\n    if (flightResults.length > 0) {\r\n        return null;\r\n    }\r\n\r\n    // Investigation mode when user has entered some info but not searched yet\r\n    const isExploring = (origin || destination);\r\n\r\n    return (\r\n        <section className=\"w-full py-12 px-4\">\r\n            <div className=\"max-w-5xl mx-auto\">\r\n\r\n                {/* Contextual Sections Under Search Form */}\r\n                <AnimatePresence mode=\"wait\">\r\n                    {!isExploring && !isSearchLoading && (\r\n                        <motion.div\r\n                            key=\"guide\"\r\n                            initial={{ opacity: 0, y: 20 }}\r\n                            animate={{ opacity: 1, y: 0 }}\r\n                            exit={{ opacity: 0, y: -20 }}\r\n                            transition={{ duration: 0.4 }}\r\n                        >\r\n                            <SearchGuide />\r\n                        </motion.div>\r\n                    )}\r\n\r\n                    {isExploring && (\r\n                        <motion.div\r\n                            key=\"exploring\"\r\n                            initial={{ opacity: 0, y: 20 }}\r\n                            animate={{ opacity: 1, y: 0 }}\r\n                            exit={{ opacity: 0, y: -20 }}\r\n                            transition={{ duration: 0.4 }}\r\n                            className=\"mt-8 space-y-8\"\r\n                        >\r\n                            {/* Lazy loaded - only when user is exploring */}\r\n                            <TouristPlaces />\r\n                            <FlightDeals />\r\n                        </motion.div>\r\n                    )}\r\n                </AnimatePresence>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\Skeleton.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'motion' is defined but never used.","line":3,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":16,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"motion"},"fix":{"range":[17,56],"text":""},"desc":"Remove unused import declaration."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { motion } from \"framer-motion\";\r\n\r\nexport function Skeleton({ className }: { className?: string }) {\r\n    return (\r\n        <div className={`bg-slate-100 dark:bg-white/5 animate-pulse rounded-lg ${className}`} />\r\n    );\r\n}\r\n\r\nexport function FlightSkeleton() {\r\n    return (\r\n        <div className=\"bg-white dark:bg-[#1e1e1e] border border-slate-200 dark:border-white/10 p-4 flex items-center gap-8 rounded-lg\">\r\n            <Skeleton className=\"w-10 h-10 rounded-full\" />\r\n            <div className=\"flex-1 grid grid-cols-2 md:grid-cols-3 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                    <Skeleton className=\"w-32 h-6\" />\r\n                    <Skeleton className=\"w-20 h-3\" />\r\n                </div>\r\n                <div className=\"hidden md:flex flex-col items-center justify-center space-y-2\">\r\n                    <Skeleton className=\"w-20 h-4\" />\r\n                    <Skeleton className=\"w-24 h-[1px]\" />\r\n                </div>\r\n                <div className=\"flex flex-col md:items-end space-y-2\">\r\n                    <Skeleton className=\"w-16 h-4\" />\r\n                    <Skeleton className=\"w-12 h-3\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"flex items-center gap-4\">\r\n                <Skeleton className=\"w-16 h-8\" />\r\n                <Skeleton className=\"w-8 h-8 rounded-full\" />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function PriceChartSkeleton() {\r\n    return (\r\n        <div className=\"w-full bg-white dark:bg-[#1e1e1e] border border-slate-200 dark:border-white/10 p-6 rounded-xl shadow-lg\">\r\n            <div className=\"space-y-2 mb-6\">\r\n                <Skeleton className=\"w-32 h-6\" />\r\n                <Skeleton className=\"w-48 h-3\" />\r\n            </div>\r\n            <Skeleton className=\"w-full h-[200px]\" />\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\TouristPlaces.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":29,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1254,1257],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1254,1257],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":41,"column":21,"nodeType":"JSXOpeningElement","endLine":48,"endColumn":23},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":72,"column":25,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[4166,4193],"text":"\r\n                        &quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[4166,4193],"text":"\r\n                        &ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[4166,4193],"text":"\r\n                        &#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[4166,4193],"text":"\r\n                        &rdquo;"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":72,"column":37,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[4204,4227],"text":"&quot;\r\n                    "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[4204,4227],"text":"&ldquo;\r\n                    "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[4204,4227],"text":"&#34;\r\n                    "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[4204,4227],"text":"&rdquo;\r\n                    "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":105,"column":68,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":105,"endColumn":71,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6039,6042],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6039,6042],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { MapPin, Star, Sparkles, Navigation } from \"lucide-react\";\r\nimport { useFlightStore } from \"@/lib/store\";\r\n\r\nexport default function TouristPlaces() {\r\n    const {\r\n        destination,\r\n        destinationCode,\r\n        destinationPOIs,\r\n        isPOILoading\r\n    } = useFlightStore();\r\n\r\n    // Only show if we have a destination selected or it's loading\r\n    if (!destinationCode && !isPOILoading) return null;\r\n\r\n    const renderSkeleton = (index: number) => (\r\n        <div key={`skeleton-${index}`} className=\"group relative rounded-[2rem] overflow-hidden bg-foreground/5 dark:bg-white/5 border border-foreground/5 p-4 space-y-4\">\r\n            <div className=\"aspect-[16/10] bg-foreground/10 dark:bg-white/10 rounded-2xl animate-pulse\" />\r\n            <div className=\"space-y-3\">\r\n                <div className=\"h-2 w-20 bg-foreground/10 dark:bg-white/10 rounded animate-pulse\" />\r\n                <div className=\"h-5 w-3/4 bg-foreground/10 dark:bg-white/10 rounded animate-pulse\" />\r\n                <div className=\"h-8 w-full bg-foreground/10 dark:bg-white/10 rounded animate-pulse\" />\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const renderCard = (poi: any, index: number) => {\r\n        const searchTerm = encodeURIComponent(`${poi.name} ${destination?.split(' - ')[0] || ''}`);\r\n        return (\r\n            <motion.div\r\n                key={poi.id || index}\r\n                initial={{ opacity: 0, y: 20, scale: 0.95 }}\r\n                animate={{ opacity: 1, y: 0, scale: 1 }}\r\n                exit={{ opacity: 0, scale: 0.95 }}\r\n                transition={{ duration: 0.4, delay: index * 0.05 }}\r\n                className=\"group relative bg-foreground/[0.03] dark:bg-white/[0.03] border border-foreground/10 dark:border-white/10 rounded-[2rem] overflow-hidden p-3 hover:bg-foreground/[0.05] dark:hover:bg-white/[0.05] transition-all duration-500\"\r\n            >\r\n                <div className=\"relative aspect-[16/10] overflow-hidden rounded-2xl mb-4\">\r\n                    <img\r\n                        src={`https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?auto=format&fit=crop&w=800&q=80&sig=${poi.id || index}&q=${searchTerm}`}\r\n                        alt={poi.name}\r\n                        className=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110\"\r\n                        onError={(e) => {\r\n                            (e.target as HTMLImageElement).src = `https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?auto=format&fit=crop&w=800&q=80`;\r\n                        }}\r\n                    />\r\n                    {/* Shadow Overlay */}\r\n                    <div className=\"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-60 group-hover:opacity-100 transition-opacity duration-500\" />\r\n\r\n                    <div className=\"absolute top-3 right-3 px-3 py-1 bg-black/50 backdrop-blur-md rounded-full flex items-center gap-1.5 border border-white/10\">\r\n                        <Star className=\"w-3 h-3 text-amber-400 fill-amber-400\" />\r\n                        <span className=\"text-[10px] font-black text-white\">{poi.rank || \"4.8\"}</span>\r\n                    </div>\r\n\r\n                    <div className=\"absolute bottom-3 left-3 right-3\">\r\n                        <h4 className=\"text-sm font-display font-black text-white line-clamp-1 drop-shadow-lg\">\r\n                            {poi.name}\r\n                        </h4>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"px-2 pb-2\">\r\n                    <div className=\"flex items-center justify-between gap-2 mb-2\">\r\n                        <span className=\"px-2 py-0.5 bg-dark-cyan-light/10 text-dark-cyan-light text-[9px] font-black uppercase tracking-widest rounded-md border border-dark-cyan-light/20\">\r\n                            {poi.category?.replace(/_/g, \" \") || \"Attraction\"}\r\n                        </span>\r\n                    </div>\r\n\r\n                    <p className=\"text-[11px] text-foreground/50 leading-relaxed font-medium line-clamp-2 italic\">\r\n                        \"{poi.intro}\"\r\n                    </p>\r\n                </div>\r\n            </motion.div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <section className=\"relative w-full py-8\">\r\n            <div className=\"w-full max-w-7xl mx-auto px-4 space-y-8\">\r\n                {/* Section Header */}\r\n                <div className=\"flex items-center justify-between border-b border-foreground/5 pb-6\">\r\n                    <div className=\"space-y-1\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <Sparkles className=\"w-4 h-4 text-dark-cyan-light\" />\r\n                            <span className=\"text-xs font-black text-dark-cyan uppercase tracking-widest\">Local Insights</span>\r\n                        </div>\r\n                        <h3 className=\"text-2xl font-display font-black text-foreground tracking-tight\">\r\n                            Must-See in {destination?.split(\" - \")[0] || \"Destination\"}\r\n                        </h3>\r\n                    </div>\r\n                    <div className=\"hidden md:flex items-center gap-2 px-4 py-2 bg-foreground/5 dark:bg-white/5 rounded-2xl border border-foreground/5\">\r\n                        <Navigation className=\"w-3.5 h-3.5 text-foreground/40\" />\r\n                        <span className=\"text-[10px] font-bold text-foreground/40 uppercase tracking-tighter\">AI Curated Content</span>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Content Grid */}\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n                    <AnimatePresence mode=\"popLayout\">\r\n                        {isPOILoading ? (\r\n                            Array.from({ length: 4 }).map((_, i) => renderSkeleton(i))\r\n                        ) : (\r\n                            destinationPOIs?.slice(0, 8).map((poi: any, i: number) => renderCard(poi, i))\r\n                        )}\r\n                    </AnimatePresence>\r\n                </div>\r\n\r\n                {!isPOILoading && (!destinationPOIs || destinationPOIs.length === 0) && (\r\n                    <div className=\"py-20 flex flex-col items-center justify-center text-center space-y-4 bg-foreground/[0.02] dark:bg-white/[0.02] rounded-[3rem] border-2 border-dashed border-foreground/10\">\r\n                        <MapPin className=\"w-12 h-12 text-foreground/10\" />\r\n                        <div className=\"space-y-1\">\r\n                            <h4 className=\"text-lg font-bold text-foreground/40\">No insights found yet</h4>\r\n                            <p className=\"text-xs text-foreground/20 font-medium\">Try selecting a different major city or airport</p>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\layout\\Auth.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":42,"column":21,"nodeType":"JSXOpeningElement","endLine":46,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { auth, googleProvider } from \"@/lib/firebase\";\r\nimport { signInWithPopup, signOut, onAuthStateChanged, User } from \"firebase/auth\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { LogIn, LogOut, User as UserIcon } from \"lucide-react\";\r\n\r\nexport default function Auth() {\r\n    const [user, setUser] = useState<User | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = onAuthStateChanged(auth, (currentUser) => {\r\n            setUser(currentUser);\r\n            setLoading(false);\r\n        });\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    const handleSignIn = async () => {\r\n        try {\r\n            await signInWithPopup(auth, googleProvider);\r\n        } catch (error) {\r\n            console.error(\"Error signing in:\", error);\r\n        }\r\n    };\r\n\r\n    const handleSignOut = async () => {\r\n        try {\r\n            await signOut(auth);\r\n        } catch (error) {\r\n            console.error(\"Error signing out:\", error);\r\n        }\r\n    };\r\n\r\n    if (loading) return null;\r\n\r\n    if (user) {\r\n        return (\r\n            <div className=\"flex items-center gap-2 bg-foreground/5 backdrop-blur-md border border-foreground/10 p-1 pr-3 rounded-full shadow-sm transition-all hover:bg-foreground/10\">\r\n                {user.photoURL ? (\r\n                    <img\r\n                        src={user.photoURL}\r\n                        alt={user.displayName || \"User\"}\r\n                        className=\"w-8 h-8 rounded-full border border-foreground/10\"\r\n                    />\r\n                ) : (\r\n                    <div className=\"w-8 h-8 rounded-full bg-dark-cyan flex items-center justify-center\">\r\n                        <UserIcon className=\"w-4 h-4 text-white\" />\r\n                    </div>\r\n                )}\r\n                <span className=\"text-foreground text-sm font-medium hidden sm:block font-sans\">\r\n                    {user.displayName?.split(\" \")[0]}\r\n                </span>\r\n                <button\r\n                    onClick={handleSignOut}\r\n                    className=\"p-1 hover:bg-red-500/10 rounded-full transition-colors group ml-1\"\r\n                    title=\"Sign Out\"\r\n                >\r\n                    <LogOut className=\"w-4 h-4 text-foreground/40 group-hover:text-red-500 transition-colors\" />\r\n                </button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <button\r\n            onClick={handleSignIn}\r\n            className=\"flex items-center gap-2 px-6 py-2 bg-dark-cyan hover:bg-dark-cyan-light text-white rounded-full transition-all font-semibold text-sm shadow-md shadow-dark-cyan/20 font-sans\"\r\n        >\r\n            <LogIn className=\"w-4 h-4\" />\r\n            <span className=\"hidden sm:inline\">Sign In</span>\r\n        </button>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\layout\\Footer.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'FOOTER_LINKS' is defined but never used.","line":3,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":22,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"FOOTER_LINKS"},"fix":{"range":[26,39],"text":""},"desc":"Remove unused variable \"FOOTER_LINKS\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'MapPin' is defined but never used.","line":4,"column":16,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":22,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"MapPin"},"fix":{"range":[94,102],"text":""},"desc":"Remove unused variable \"MapPin\"."}]},{"ruleId":"@next/next/no-html-link-for-pages","severity":2,"message":"Do not use an `<a>` element to navigate to `/`. Use `<Link />` from `next/link` instead. See: https://nextjs.org/docs/messages/no-html-link-for-pages","line":32,"column":29,"nodeType":"JSXOpeningElement","endLine":32,"endColumn":135}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { FOOTER_LINKS, Plane } from \"@/constants/landingData\";\r\nimport { Mail, MapPin, Phone, Globe, Coins } from \"lucide-react\";\r\nimport { useFlightStore } from \"@/lib/store\";\r\n\r\nexport default function Footer() {\r\n    return (\r\n        <footer className=\"relative mt-0 border-t border-slate-200 dark:border-white/5 py-fluid bg-white/30 dark:bg-black/20 backdrop-blur-md\">\r\n            <div className=\"max-w-7xl mx-auto px-fluid grid grid-cols-1 md:grid-cols-12 gap-fluid\">\r\n\r\n                {/* Brand Section */}\r\n                <div className=\"md:col-span-4\">\r\n                    <div className=\"flex items-center gap-3 mb-6\">\r\n                        <div className=\"w-10 h-10 bg-dark-cyan rounded-xl flex items-center justify-center shadow-lg shadow-dark-cyan/20\">\r\n                            <Plane className=\"w-5 h-5 text-white rotate-45\" />\r\n                        </div>\r\n                        <span className=\"text-2xl font-display font-black tracking-tighter text-foreground\">\r\n                            Flight <span className=\"text-dark-cyan-light\">Spotter</span>\r\n                        </span>\r\n                    </div>\r\n                    <p className=\"text-foreground/40 text-sm leading-relaxed max-w-xs\">\r\n                        Elevating the art of discovery. We combine global data intelligence with a premium aesthetic to provide the ultimate flight spotting experience.\r\n                    </p>\r\n                </div>\r\n\r\n                {/* Platform Links */}\r\n                <div className=\"md:col-span-2 flex flex-col items-center md:items-start\">\r\n                    <h5 className=\"text-[10px] font-black uppercase tracking-widest text-foreground/30 mb-6 uppercase\">Navigation</h5>\r\n                    <ul className=\"space-y-4\">\r\n                        <li>\r\n                            <a href=\"/\" className=\"text-sm font-bold text-foreground/60 hover:text-dark-cyan-light transition-colors\">Home</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href=\"/flights\" className=\"text-sm font-bold text-foreground/60 hover:text-dark-cyan-light transition-colors\">Search Flights</a>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n\r\n                {/* Company Links */}\r\n                <div className=\"md:col-span-2 flex flex-col items-center md:items-start\">\r\n                    <h5 className=\"text-[10px] font-black uppercase tracking-widest text-foreground/30 mb-6 uppercase\">Legal</h5>\r\n                    <ul className=\"space-y-4\">\r\n                        <li>\r\n                            <a href=\"/privacy\" className=\"text-sm font-bold text-foreground/60 hover:text-dark-cyan-light transition-colors\">Privacy Policy</a>\r\n                        </li>\r\n                        <li>\r\n                            <a href=\"/terms\" className=\"text-sm font-bold text-foreground/60 hover:text-dark-cyan-light transition-colors\">Terms of Service</a>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n\r\n                {/* Support Links */}\r\n                <div className=\"md:col-span-2 flex flex-col items-center md:items-start\" />\r\n\r\n                {/* Contact Section */}\r\n                <div className=\"md:col-span-2\">\r\n                    <h5 className=\"text-[10px] font-black uppercase tracking-widest text-foreground/30 mb-6 font-dynamic\">Contact</h5>\r\n                    <div className=\"space-y-4\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <Mail className=\"w-4 h-4 text-dark-cyan-light shrink-0\" />\r\n                            <a href=\"mailto:hello@flightspotter.com\" className=\"text-xs font-bold text-foreground hover:underline\">hello@flightspotter.com</a>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <Phone className=\"w-4 h-4 text-dark-cyan-light shrink-0\" />\r\n                            <span className=\"text-xs font-bold text-foreground\">+1 (888) SKY-LINE</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div className=\"max-w-7xl mx-auto px-fluid mt-20 pt-8 border-t border-slate-200 dark:border-white/5 flex flex-col md:flex-row justify-between items-center gap-6\">\r\n                <div className=\"flex flex-col items-center md:items-start gap-2\">\r\n                    <p className=\"text-[10px] font-bold text-foreground/20 uppercase tracking-widest\">\r\n                        © 2026 Flight Spotter Aero Intelligence. All Rights Reserved.\r\n                    </p>\r\n                    {useFlightStore.getState().contextHub && (\r\n                        <div className=\"flex items-center gap-4 text-[9px] font-black uppercase tracking-tighter text-dark-cyan-light/60 bg-dark-cyan/5 px-4 py-1.5 rounded-full border border-dark-cyan/10\">\r\n                            <div className=\"flex items-center gap-1.5\">\r\n                                <Globe className=\"w-3 h-3\" />\r\n                                <span>Global Data Hub: {useFlightStore.getState().contextHub}</span>\r\n                            </div>\r\n                            <div className=\"w-[1px] h-3 bg-dark-cyan/20\" />\r\n                            <div className=\"flex items-center gap-1.5\">\r\n                                <Coins className=\"w-3 h-3\" />\r\n                                <span>Currency: {useFlightStore.getState().currency}</span>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                <div className=\"flex gap-8\">\r\n                    <a href=\"/terms\" className=\"text-[10px] font-bold text-foreground/30 uppercase tracking-widest hover:text-dark-cyan-light transition-colors\">Terms</a>\r\n                    <a href=\"/privacy\" className=\"text-[10px] font-bold text-foreground/30 uppercase tracking-widest hover:text-dark-cyan-light transition-colors\">Privacy</a>\r\n                    <a href=\"#\" className=\"text-[10px] font-bold text-foreground/30 uppercase tracking-widest hover:text-dark-cyan-light transition-colors\">Cookies</a>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\layout\\Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\layout\\ThemeToggle.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\Projects\\flight-spotter\\src\\components\\layout\\ThemeToggle.tsx:13:13\n  11 |         const savedTheme = localStorage.getItem(\"theme\") as \"light\" | \"dark\" | null;\n  12 |         if (savedTheme) {\n> 13 |             setTheme(savedTheme);\n     |             ^^^^^^^^ Avoid calling setState() directly within an effect\n  14 |             document.documentElement.classList.toggle(\"dark\", savedTheme === \"dark\");\n  15 |             document.documentElement.setAttribute(\"data-theme\", savedTheme);\n  16 |         } else if (window.matchMedia(\"(prefers-color-scheme: dark)\").matches) {","line":13,"column":13,"nodeType":null,"endLine":13,"endColumn":21}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { Sun, Moon } from \"lucide-react\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nexport default function ThemeToggle() {\r\n    const [theme, setTheme] = useState<\"light\" | \"dark\">(\"light\");\r\n\r\n    useEffect(() => {\r\n        const savedTheme = localStorage.getItem(\"theme\") as \"light\" | \"dark\" | null;\r\n        if (savedTheme) {\r\n            setTheme(savedTheme);\r\n            document.documentElement.classList.toggle(\"dark\", savedTheme === \"dark\");\r\n            document.documentElement.setAttribute(\"data-theme\", savedTheme);\r\n        } else if (window.matchMedia(\"(prefers-color-scheme: dark)\").matches) {\r\n            setTheme(\"dark\");\r\n            document.documentElement.classList.add(\"dark\");\r\n            document.documentElement.setAttribute(\"data-theme\", \"dark\");\r\n        }\r\n    }, []);\r\n\r\n    const toggleTheme = () => {\r\n        const newTheme = theme === \"light\" ? \"dark\" : \"light\";\r\n        setTheme(newTheme);\r\n        localStorage.setItem(\"theme\", newTheme);\r\n        document.documentElement.classList.toggle(\"dark\", newTheme === \"dark\");\r\n        document.documentElement.setAttribute(\"data-theme\", newTheme);\r\n    };\r\n\r\n    return (\r\n        <button\r\n            onClick={toggleTheme}\r\n            className=\"p-2 rounded-full bg-foreground/10 hover:bg-foreground/20 transition-colors backdrop-blur-md border border-foreground/10\"\r\n            aria-label=\"Toggle Theme\"\r\n        >\r\n            <motion.div\r\n                initial={false}\r\n                animate={{ rotate: theme === \"light\" ? 0 : 180, scale: [1, 1.2, 1] }}\r\n                transition={{ duration: 0.5, ease: \"easeInOut\" }}\r\n            >\r\n                {theme === \"light\" ? (\r\n                    <Sun className=\"w-5 h-5 text-yellow-500\" />\r\n                ) : (\r\n                    <Moon className=\"w-5 h-5 text-blue-400\" />\r\n                )}\r\n            </motion.div>\r\n        </button>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\search\\FilterDropdown.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\search\\LocationInput.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Skeleton' is defined but never used.","line":5,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":18,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Skeleton"},"fix":{"range":[139,191],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'iataCode' is defined but never used.","line":26,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":26,"endColumn":26}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { MapPin, Navigation, Loader2, X } from \"lucide-react\";\r\nimport { Skeleton } from \"@/components/ui/Skeleton\";\r\n\r\nimport { SearchLocation } from \"@/types/location\";\r\n\r\ninterface LocationInputProps {\r\n    type: 'origin' | 'destination';\r\n    value: string;\r\n    iataCode: string;\r\n    isFocused: boolean;\r\n    isLoading: boolean;\r\n    compact?: boolean;\r\n    locations: SearchLocation[];\r\n    onFocus: () => void;\r\n    onChange: (val: string) => void;\r\n    onClear: () => void;\r\n    onSelect: (loc: SearchLocation) => void;\r\n    onDetectLocation?: () => Promise<void>;\r\n    isAuthenticated?: boolean;\r\n}\r\n\r\nexport default function LocationInput({\r\n    type, value, iataCode, isFocused, isLoading, compact, locations,\r\n    onFocus, onChange, onClear, onSelect, onDetectLocation, isAuthenticated\r\n}: LocationInputProps) {\r\n\r\n    // Helper for formatting location names\r\n    const formatName = (name: string) => {\r\n        return name.toLowerCase().split(' ').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex-1 min-w-[220px] relative group\">\r\n            {/* Icon/Action */}\r\n            <div\r\n                onClick={isAuthenticated && onDetectLocation ? onDetectLocation : undefined}\r\n                title={!isAuthenticated && type === 'origin' ? \"Sign in to use location detection\" : undefined}\r\n                className={`absolute left-3 top-1/2 -translate-y-1/2 text-foreground/40 hover:text-dark-cyan-light z-10 p-2 ${isAuthenticated && onDetectLocation ? 'cursor-pointer' : 'pointer-events-none opacity-30'\r\n                    }`}\r\n            >\r\n                {isLoading && type === 'origin' ? (\r\n                    <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                ) : (\r\n                    type === 'origin' ? <Navigation className=\"w-4 h-4\" /> : <MapPin className=\"w-4 h-4\" />\r\n                )}\r\n            </div>\r\n\r\n            {/* Input Field */}\r\n            <input\r\n                type=\"text\"\r\n                placeholder={type === 'origin' ? \"From where?\" : \"To where?\"}\r\n                value={value}\r\n                onFocus={onFocus}\r\n                onChange={(e) => onChange(e.target.value)}\r\n                className={`w-full pl-12 pr-10 ${compact ? 'py-3.5 text-sm' : 'py-5 text-base'} bg-foreground/5 dark:bg-white/5 hover:bg-foreground/10 focus:dark:bg-black/40 border-none rounded-2xl font-bold text-foreground transition-all outline-none placeholder:text-foreground/20`}\r\n            />\r\n\r\n            {/* Clear Button */}\r\n            {value && (\r\n                <button\r\n                    onClick={onClear}\r\n                    className=\"absolute right-3 top-1/2 -translate-y-1/2 text-foreground/20 hover:text-red-500 transition-colors p-1\"\r\n                >\r\n                    <X className=\"w-3.5 h-3.5\" />\r\n                </button>\r\n            )}\r\n\r\n            {/* Dropdown Results */}\r\n            <AnimatePresence>\r\n                {isFocused && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0, y: 10, scale: 0.98 }}\r\n                        animate={{ opacity: 1, y: 0, scale: 1 }}\r\n                        exit={{ opacity: 0, y: 10, scale: 0.98 }}\r\n                        className=\"absolute top-full left-0 right-0 mt-2 p-2 bg-background rounded-2xl shadow-2xl z-[60] border border-foreground/10 max-h-[350px] overflow-y-auto min-w-[300px]\"\r\n                    >\r\n                        {(!locations || locations.length === 0) ? (\r\n                            <div className=\"p-4 text-center text-foreground/40 text-sm font-medium flex flex-col items-center gap-2\">\r\n                                {isLoading ? (\r\n                                    <>\r\n                                        <Loader2 className=\"w-4 h-4 animate-spin text-dark-cyan-light\" />\r\n                                        <span>Finding locations...</span>\r\n                                    </>\r\n                                ) : (\r\n                                    <span>Type a city or airport...</span>\r\n                                )}\r\n                            </div>\r\n                        ) : (\r\n                            locations.map((loc) => (\r\n                                <div\r\n                                    key={loc.id}\r\n                                    onClick={() => onSelect(loc)}\r\n                                    className=\"p-3 hover:bg-dark-cyan/10 rounded-xl cursor-pointer transition-colors flex items-center gap-3\"\r\n                                >\r\n                                    <div className=\"w-9 h-9 rounded-lg bg-dark-cyan/10 flex items-center justify-center text-dark-cyan-light font-bold text-[10px]\">\r\n                                        {loc.iataCode}\r\n                                    </div>\r\n                                    <div className=\"flex-1 min-w-0\">\r\n                                        <div className=\"font-bold text-sm truncate\">{formatName(loc.name)}</div>\r\n                                        <div className=\"text-[10px] text-foreground/40 uppercase font-black truncate\">\r\n                                            {loc.address?.cityName || loc.cityName}, {loc.address?.countryCode || loc.countryCode} • {loc.subType}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            ))\r\n                        )}\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\search\\PriceRangeSelector.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\Projects\\flight-spotter\\src\\components\\search\\PriceRangeSelector.tsx:19:9\n  17 |     // Sync with global store if changed externally (e.g. clear filters)\n  18 |     useEffect(() => {\n> 19 |         setLocalPrice(filters.maxPrice);\n     |         ^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  20 |     }, [filters.maxPrice]);\n  21 |\n  22 |     const handlePriceChange = (e: React.ChangeEvent<HTMLInputElement>) => {","line":19,"column":9,"nodeType":null,"endLine":19,"endColumn":22}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { DollarSign, ChevronDown } from \"lucide-react\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useFlightStore } from \"@/lib/store\";\r\n\r\ninterface PriceRangeSelectorProps {\r\n    isOpen: boolean;\r\n    onToggle: () => void;\r\n}\r\n\r\nexport default function PriceRangeSelector({ isOpen, onToggle }: PriceRangeSelectorProps) {\r\n    const { filters, updateFilters, formatPrice, t } = useFlightStore();\r\n    const [localPrice, setLocalPrice] = useState(filters.maxPrice);\r\n\r\n    // Sync with global store if changed externally (e.g. clear filters)\r\n    useEffect(() => {\r\n        setLocalPrice(filters.maxPrice);\r\n    }, [filters.maxPrice]);\r\n\r\n    const handlePriceChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const value = parseInt(e.target.value);\r\n        setLocalPrice(value);\r\n    };\r\n\r\n    const handleCommit = () => {\r\n        updateFilters({ maxPrice: localPrice });\r\n    };\r\n\r\n    return (\r\n        <div className=\"relative\">\r\n            <button\r\n                onClick={onToggle}\r\n                className={`flex items-center gap-2 px-4 py-2 rounded-xl border transition-all ${isOpen || filters.maxPrice < 5000\r\n                        ? \"bg-dark-cyan/10 border-dark-cyan/30 text-dark-cyan\"\r\n                        : \"bg-foreground/5 border-transparent text-foreground/60 hover:bg-foreground/10\"\r\n                    }`}\r\n            >\r\n                <DollarSign className=\"w-3.5 h-3.5\" />\r\n                <span className=\"text-xs font-bold whitespace-nowrap\">\r\n                    {filters.maxPrice < 5000 ? `${t(\"Max\")}: ${formatPrice(filters.maxPrice)}` : t(\"Price\")}\r\n                </span>\r\n                <ChevronDown className={`w-3.5 h-3.5 transition-transform duration-300 ${isOpen ? \"rotate-180\" : \"\"}`} />\r\n            </button>\r\n\r\n            <AnimatePresence>\r\n                {isOpen && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0, y: 10, scale: 0.95 }}\r\n                        animate={{ opacity: 1, y: 0, scale: 1 }}\r\n                        exit={{ opacity: 0, y: 10, scale: 0.95 }}\r\n                        className=\"absolute top-full left-0 mt-2 p-6 bg-background rounded-2xl shadow-2xl z-[70] border border-foreground/10 min-w-[280px]\"\r\n                    >\r\n                        <div className=\"space-y-6\">\r\n                            <div className=\"flex justify-between items-end\">\r\n                                <h4 className=\"text-[10px] font-black uppercase tracking-widest text-foreground/40\">{t(\"Max Budget\")}</h4>\r\n                                <span className=\"text-sm font-black text-dark-cyan\">{formatPrice(localPrice)}</span>\r\n                            </div>\r\n\r\n                            <div className=\"relative h-6 flex items-center\">\r\n                                <input\r\n                                    type=\"range\"\r\n                                    min=\"100\"\r\n                                    max=\"5000\"\r\n                                    step=\"50\"\r\n                                    value={localPrice}\r\n                                    onChange={handlePriceChange}\r\n                                    onMouseUp={handleCommit}\r\n                                    onTouchEnd={handleCommit}\r\n                                    className=\"w-full h-1.5 bg-foreground/10 rounded-lg appearance-none cursor-pointer accent-dark-cyan\"\r\n                                />\r\n                                <div\r\n                                    className=\"absolute top-1/2 -translate-y-1/2 left-0 h-1.5 bg-dark-cyan rounded-lg pointer-events-none\"\r\n                                    style={{ width: `${((localPrice - 100) / 4900) * 100}%` }}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"flex justify-between text-[10px] font-bold text-foreground/30\">\r\n                                <span>{formatPrice(100)}</span>\r\n                                <span>{formatPrice(5000)}+</span>\r\n                            </div>\r\n\r\n                            <div className=\"pt-2 flex gap-2\">\r\n                                <button\r\n                                    onClick={() => { updateFilters({ maxPrice: 5000 }); onToggle(); }}\r\n                                    className=\"flex-1 py-2 text-[10px] font-black uppercase tracking-widest text-foreground/40 hover:text-foreground transition-colors\"\r\n                                >\r\n                                    {t(\"Reset\")}\r\n                                </button>\r\n                                <button\r\n                                    onClick={onToggle}\r\n                                    className=\"flex-1 py-2 bg-dark-cyan text-white rounded-lg text-[10px] font-black uppercase tracking-widest shadow-lg shadow-dark-cyan/20\"\r\n                                >\r\n                                    {t(\"Apply\")}\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\search\\SearchLoadingBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\ui\\Button.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'asChild' is assigned a value but never used.","line":43,"column":34,"nodeType":"Identifier","messageId":"unusedVar","endLine":43,"endColumn":41}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n    \"inline-flex items-center justify-center whitespace-nowrap rounded-2xl text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 cursor-pointer\",\r\n    {\r\n        variants: {\r\n            variant: {\r\n                default:\r\n                    \"bg-dark-cyan text-white shadow hover:bg-dark-cyan/90 hover:shadow-dark-cyan/20\",\r\n                destructive:\r\n                    \"bg-red-500 text-white shadow-sm hover:bg-red-500/90\",\r\n                outline:\r\n                    \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\r\n                secondary:\r\n                    \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\r\n                ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n                link: \"text-primary underline-offset-4 hover:underline\",\r\n                glass: \"bg-white/10 backdrop-blur-md border border-white/20 text-white hover:bg-white/20 shadow-lg\",\r\n            },\r\n            size: {\r\n                default: \"h-11 px-6 py-2\",\r\n                sm: \"h-9 rounded-xl px-3 text-xs\",\r\n                lg: \"h-14 rounded-2xl px-10 text-base\",\r\n                icon: \"h-10 w-10\",\r\n            },\r\n        },\r\n        defaultVariants: {\r\n            variant: \"default\",\r\n            size: \"default\",\r\n        },\r\n    }\r\n)\r\n\r\nexport interface ButtonProps\r\n    extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n    asChild?: boolean\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n    ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n        // If we're using Radix Slot (for polymorphism), we need that package.\r\n        // For now, I'll assume standard button usage to avoid extra deps if Radix isn't installed.\r\n        // Actually, I'll remove Slot usage for simplicity as strictly requested \"avoid redundant codes\" \r\n        // and I don't see radix-ui in package.json.\r\n\r\n        // const Comp = asChild ? Slot : \"button\"\r\n        const Comp = \"button\"\r\n        return (\r\n            <Comp\r\n                className={cn(buttonVariants({ variant, size, className }))}\r\n                ref={ref}\r\n                {...props}\r\n            />\r\n        )\r\n    }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\ui\\LoadingSpinner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\components\\ui\\Skeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\constants\\landingData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\constants\\localizationData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\lib\\amadeus.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\lib\\firebase.ts","messages":[{"ruleId":"react-hooks/rules-of-hooks","severity":2,"message":"React Hook \"useState\" is called conditionally. React Hooks must be called in the exact same order in every component render. Did you accidentally call a React Hook after an early return?","line":33,"column":29,"nodeType":"Identifier","endLine":33,"endColumn":37},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":33,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1229,1232],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1229,1232],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/rules-of-hooks","severity":2,"message":"React Hook \"useState\" is called conditionally. React Hooks must be called in the exact same order in every component render. Did you accidentally call a React Hook after an early return?","line":34,"column":35,"nodeType":"Identifier","endLine":34,"endColumn":43},{"ruleId":"react-hooks/rules-of-hooks","severity":2,"message":"React Hook \"useEffect\" is called conditionally. React Hooks must be called in the exact same order in every component render. Did you accidentally call a React Hook after an early return?","line":36,"column":5,"nodeType":"Identifier","endLine":36,"endColumn":14},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":37,"column":40,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":37,"endColumn":64},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":38,"column":68,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":38,"endColumn":71,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1451,1454],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1451,1454],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { initializeApp, getApps } from \"firebase/app\";\r\nimport { getAuth, GoogleAuthProvider } from \"firebase/auth\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: process.env.NEXT_PUBLIC_apiKey,\r\n    authDomain: process.env.NEXT_PUBLIC_authDomain,\r\n    projectId: process.env.NEXT_PUBLIC_projectId,\r\n    storageBucket: process.env.NEXT_PUBLIC_storageBucket,\r\n    messagingSenderId: process.env.NEXT_PUBLIC_messagingSenderId,\r\n    appId: process.env.NEXT_PUBLIC_appId,\r\n};\r\n\r\n// Check if environment variables are loaded\r\nconst isConfigValid = !!firebaseConfig.apiKey && !!firebaseConfig.authDomain;\r\n\r\nif (!isConfigValid && typeof window !== 'undefined') {\r\n    console.warn(\"Firebase configuration is missing! Check your .env file and restart the dev server.\");\r\n}\r\n\r\nconst app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApps()[0];\r\nconst auth = getAuth(app);\r\nconst googleProvider = new GoogleAuthProvider();\r\n\r\nexport { auth, googleProvider };\r\n\r\n// Custom hook for auth state\r\nexport function useAuth() {\r\n    if (typeof window === 'undefined') {\r\n        return { user: null, loading: true, isAuthenticated: false };\r\n    }\r\n\r\n    const [user, setUser] = useState<any>(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const { onAuthStateChanged } = require('firebase/auth');\r\n        const unsubscribe = onAuthStateChanged(auth, (currentUser: any) => {\r\n            setUser(currentUser);\r\n            setLoading(false);\r\n        });\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    return { user, loading, isAuthenticated: !!user };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\lib\\locationCache.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":130,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":130,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4344,4347],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4344,4347],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { CachedLocation } from \"@/types/location\";\r\n\r\nconst CACHE_KEY = 'flight_spotter_location_cache';\r\nconst RECENT_SEARCHES_KEY = 'flight_spotter_recent_searches';\r\nconst MAX_RECENT = 10;\r\nconst CACHE_TTL = 7 * 24 * 60 * 60 * 1000; // 7 days\r\n\r\n/**\r\n * Location Cache Manager\r\n * Provides instant autocomplete suggestions using localStorage\r\n */\r\nclass LocationCache {\r\n    private cache: CachedLocation[] = [];\r\n    private recentSearches: CachedLocation[] = [];\r\n\r\n    constructor() {\r\n        this.initializeCache();\r\n    }\r\n\r\n    /**\r\n     * Initialize cache with popular airports and user's recent searches\r\n     */\r\n    private initializeCache(): void {\r\n        if (typeof window === 'undefined') return;\r\n\r\n        try {\r\n            // Load from localStorage\r\n            const cachedData = localStorage.getItem(CACHE_KEY);\r\n            const recentData = localStorage.getItem(RECENT_SEARCHES_KEY);\r\n\r\n            if (cachedData) {\r\n                const parsed = JSON.parse(cachedData);\r\n                // Check if cache is still valid\r\n                if (parsed.timestamp && Date.now() - parsed.timestamp < CACHE_TTL) {\r\n                    this.cache = parsed.locations;\r\n                } else {\r\n                    // Cache expired, start clean\r\n                    this.resetCache();\r\n                }\r\n            } else {\r\n                this.resetCache();\r\n            }\r\n\r\n            if (recentData) {\r\n                this.recentSearches = JSON.parse(recentData);\r\n            }\r\n        } catch (error) {\r\n            console.error('[LocationCache] Initialization error:', error);\r\n            this.resetCache();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Reset cache to empty (Pure Amadeus logic)\r\n     */\r\n    private resetCache(): void {\r\n        this.cache = [];\r\n        this.saveCache();\r\n    }\r\n\r\n    /**\r\n     * Save cache to localStorage\r\n     */\r\n    private saveCache(): void {\r\n        try {\r\n            localStorage.setItem(CACHE_KEY, JSON.stringify({\r\n                timestamp: Date.now(),\r\n                locations: this.cache\r\n            }));\r\n        } catch (error) {\r\n            console.error('[LocationCache] Save error:', error);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Save recent searches to localStorage\r\n     */\r\n    private saveRecentSearches(): void {\r\n        try {\r\n            localStorage.setItem(RECENT_SEARCHES_KEY, JSON.stringify(this.recentSearches));\r\n        } catch (error) {\r\n            console.error('[LocationCache] Save recent searches error:', error);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Search cached locations with fuzzy matching\r\n     */\r\n    search(query: string): CachedLocation[] {\r\n        if (!query || query.length === 0) {\r\n            // Return recent searches + popular airports\r\n            const combined = [...this.recentSearches];\r\n            const popularNotInRecent = this.cache\r\n                .filter(loc => !this.recentSearches.some(r => r.iataCode === loc.iataCode))\r\n                .slice(0, 10);\r\n            return [...combined, ...popularNotInRecent];\r\n        }\r\n\r\n        const normalizedQuery = query.toLowerCase().trim();\r\n\r\n        // Search in cache\r\n        const results = this.cache.filter(loc => {\r\n            const searchableText = `${loc.name} ${loc.cityName} ${loc.iataCode} ${loc.countryCode}`.toLowerCase();\r\n            return searchableText.includes(normalizedQuery);\r\n        });\r\n\r\n        // Sort by relevance\r\n        return results.sort((a, b) => {\r\n            // Prioritize IATA code matches\r\n            const aCodeMatch = a.iataCode.toLowerCase().startsWith(normalizedQuery);\r\n            const bCodeMatch = b.iataCode.toLowerCase().startsWith(normalizedQuery);\r\n            if (aCodeMatch && !bCodeMatch) return -1;\r\n            if (!aCodeMatch && bCodeMatch) return 1;\r\n\r\n            // Then by city name matches\r\n            const aCityMatch = a.cityName.toLowerCase().startsWith(normalizedQuery);\r\n            const bCityMatch = b.cityName.toLowerCase().startsWith(normalizedQuery);\r\n            if (aCityMatch && !bCityMatch) return -1;\r\n            if (!aCityMatch && bCityMatch) return 1;\r\n\r\n            // Finally by popularity\r\n            return (b.popularity || 0) - (a.popularity || 0);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Add location to cache (from API results)\r\n     */\r\n    addToCache(location: any): void {\r\n        const cached: CachedLocation = {\r\n            id: location.id,\r\n            iataCode: location.iataCode,\r\n            name: location.name,\r\n            cityName: location.address?.cityName || location.cityName || '',\r\n            countryCode: location.address?.countryCode || location.countryCode || '',\r\n            subType: location.subType,\r\n            popularity: 0,\r\n            lastUsed: Date.now()\r\n        };\r\n\r\n        // Check if already exists\r\n        const existingIndex = this.cache.findIndex(loc => loc.iataCode === cached.iataCode);\r\n        if (existingIndex === -1) {\r\n            this.cache.push(cached);\r\n            this.saveCache();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Add location to recent searches\r\n     */\r\n    addToRecent(location: CachedLocation): void {\r\n        // Remove if already exists\r\n        this.recentSearches = this.recentSearches.filter(\r\n            loc => loc.iataCode !== location.iataCode\r\n        );\r\n\r\n        // Add to front\r\n        this.recentSearches.unshift({\r\n            ...location,\r\n            lastUsed: Date.now()\r\n        });\r\n\r\n        // Keep only MAX_RECENT\r\n        this.recentSearches = this.recentSearches.slice(0, MAX_RECENT);\r\n        this.saveRecentSearches();\r\n    }\r\n\r\n    /**\r\n     * Get recent searches\r\n     */\r\n    getRecentSearches(): CachedLocation[] {\r\n        return this.recentSearches;\r\n    }\r\n\r\n    /**\r\n     * Clear cache\r\n     */\r\n    clearCache(): void {\r\n        this.resetCache();\r\n        this.recentSearches = [];\r\n        this.saveRecentSearches();\r\n    }\r\n\r\n    /**\r\n     * Get cache statistics\r\n     */\r\n    getStats() {\r\n        return {\r\n            totalCached: this.cache.length,\r\n            recentSearches: this.recentSearches.length,\r\n            cacheSize: new Blob([JSON.stringify(this.cache)]).size\r\n        };\r\n    }\r\n}\r\n\r\n// Singleton instance\r\nexport const locationCache = new LocationCache();\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\lib\\smartSearch.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":11,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[511,514],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[511,514],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":12,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[565,568],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[565,568],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":17,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[774,777],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[774,777],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":105,"column":66,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":105,"endColumn":69,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4372,4375],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4372,4375],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":129,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":129,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5281,5284],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5281,5284],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { predictDestinationsAction } from \"@/app/actions/predict\";\r\nimport { searchLocationsAction, searchFlightsAction } from \"@/app/actions/flight\";\r\nimport { locationCache } from \"./locationCache\";\r\n\r\nimport { FlightSearchParams, CachedFlightResult } from \"@/types/search\";\r\n\r\nconst FLIGHT_CACHE_TTL = 15 * 60 * 1000; // 15 minutes for flight results\r\n\r\nclass SmartSearchManager {\r\n    private flightCache = new Map<string, CachedFlightResult>();\r\n    private pendingFlightSearches = new Map<string, Promise<any[]>>();\r\n    private onResultsCallback: ((results: any[], params: FlightSearchParams) => void) | null = null;\r\n\r\n    /**\r\n     * Register a callback to be notified when flights are fetched (e.g. to update the store)\r\n     */\r\n    onResults(callback: (results: any[], params: FlightSearchParams) => void) {\r\n        this.onResultsCallback = callback;\r\n    }\r\n\r\n    /**\r\n     * PREDICT DESTINATIONS\r\n     * 1. Uses Gemini to predict likely destinations based on origin\r\n     * 2. Pre-fetches their details from Amadeus API\r\n     * 3. Updating location cache silently\r\n     */\r\n    async predictAndCacheDestinations(origin: string): Promise<void> {\r\n        if (!origin || origin.length < 3) return;\r\n\r\n        console.log(`[SmartSearch] 🔮 Predicting destinations for origin: ${origin}`);\r\n\r\n        try {\r\n            // 1. Get predictions from Gemini\r\n            const predictedCodes = await predictDestinationsAction({\r\n                origin: origin,\r\n                month: new Date().toLocaleString('default', { month: 'long' }),\r\n                dayOfWeek: new Date().toLocaleString('default', { weekday: 'long' })\r\n            });\r\n\r\n            if (predictedCodes.length === 0) {\r\n                console.log(`[SmartSearch] ℹ️ No predictive suggestions from AI for ${origin}`);\r\n                return;\r\n            }\r\n\r\n            console.log(`[SmartSearch] 🎯 Predictions: ${predictedCodes.join(', ')}`);\r\n\r\n            // 2. Pre-fetch location details from Amadeus for each prediction\r\n            // We do this in parallel but detached so it doesn't block UI\r\n            predictedCodes.forEach(async (code) => {\r\n                // Check if already in cache\r\n                const cached = locationCache.search(code);\r\n                const exists = cached.some(c => c.iataCode === code);\r\n\r\n                if (!exists) {\r\n                    // Fetch from Amadeus\r\n                    const results = await searchLocationsAction(code);\r\n                    if (results && results.length > 0) {\r\n                        // Add to location cache\r\n                        locationCache.addToCache(results[0]);\r\n                        console.log(`[SmartSearch] 📥 Cached predicted location: ${code}`);\r\n                    }\r\n                }\r\n            });\r\n\r\n        } catch (error) {\r\n            console.error('[SmartSearch] Prediction error:', error);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * PRE-FETCH FLIGHTS\r\n     * Called when user has selected Origin + Dest + Date\r\n     * Fetches flights in background so they are ready when user clicks Search\r\n     */\r\n    async prefetchFlights(params: FlightSearchParams): Promise<void> {\r\n        const key = this.getFlightCacheKey(params);\r\n\r\n        // Return if already cached or pending\r\n        if (this.flightCache.has(key) || this.pendingFlightSearches.has(key)) {\r\n            return;\r\n        }\r\n\r\n        console.log(`[SmartSearch] ⚡ Pre-fetching flights: ${params.originLocationCode} -> ${params.destinationLocationCode}`);\r\n\r\n        const searchPromise = searchFlightsAction(params).then(results => {\r\n            console.log(`[SmartSearch] ✅ Pre-fetch complete for ${params.originLocationCode}->${params.destinationLocationCode}: ${results?.length || 0} flights`);\r\n            this.handleFlightResults(key, results);\r\n\r\n            // Push to UI instantly if callback registered\r\n            if (this.onResultsCallback && results && results.length > 0) {\r\n                this.onResultsCallback(results, params);\r\n            }\r\n\r\n            return results;\r\n        });\r\n\r\n        this.pendingFlightSearches.set(key, searchPromise);\r\n    }\r\n\r\n    /**\r\n     * GET PRE-FETCHED FLIGHTS\r\n     * Called when user actually clicks Search\r\n     * Returns instant results if available, or waits for pending search\r\n     */\r\n    async getOrFetchFlights(params: FlightSearchParams): Promise<any[]> {\r\n        const key = this.getFlightCacheKey(params);\r\n\r\n        // 1. Check valid cache\r\n        const cached = this.flightCache.get(key);\r\n        if (cached && (Date.now() - cached.timestamp < FLIGHT_CACHE_TTL)) {\r\n            console.log(`[SmartSearch] ✨ Cache HIT for flight search`);\r\n            return cached.results;\r\n        }\r\n\r\n        // 2. Check pending pre-fetch\r\n        const pending = this.pendingFlightSearches.get(key);\r\n        if (pending) {\r\n            console.log(`[SmartSearch] ⏳ Waiting for pending pre-fetch`);\r\n            return await pending;\r\n        }\r\n\r\n        // 3. Fresh search (cache miss)\r\n        console.log(`[SmartSearch] 💨 Fresh flight search (Cache Miss)`);\r\n        const results = await searchFlightsAction(params);\r\n        this.handleFlightResults(key, results);\r\n        return results;\r\n    }\r\n\r\n    private handleFlightResults(key: string, results: any[]) {\r\n        this.flightCache.set(key, {\r\n            params: key,\r\n            results,\r\n            timestamp: Date.now()\r\n        });\r\n        this.pendingFlightSearches.delete(key);\r\n    }\r\n\r\n    private getFlightCacheKey(params: FlightSearchParams): string {\r\n        return `${params.originLocationCode}-${params.destinationLocationCode}-${params.departureDate}-${params.returnDate || ''}-${params.adults}`;\r\n    }\r\n}\r\n\r\nexport const smartSearch = new SmartSearchManager();\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\lib\\store.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":38,"column":10,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":38,"endColumn":13,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1433,1436],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1433,1436],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { create } from 'zustand';\r\nimport { FlightStore } from '@/types/store';\r\nimport { smartSearch } from './smartSearch';\r\n\r\nimport { createUISlice } from './store/slices/uiSlice';\r\nimport { createLocalizationSlice } from './store/slices/localizationSlice';\r\nimport { createSearchSlice } from './store/slices/searchSlice';\r\nimport { createResultsSlice } from './store/slices/resultsSlice';\r\nimport { createDiscoverySlice } from './store/slices/discoverySlice';\r\n\r\n/**\r\n * Global Flight Store\r\n * Assembled from modular slices for better maintainability and code partitioning.\r\n */\r\nexport const useFlightStore = create<FlightStore>((...a) => ({\r\n    ...createUISlice(...a),\r\n    ...createLocalizationSlice(...a),\r\n    ...createSearchSlice(...a),\r\n    ...createResultsSlice(...a),\r\n    ...createDiscoverySlice(...a),\r\n}));\r\n\r\n// Register SmartSearch listener to push background results instantly to the UI\r\nsmartSearch.onResults((results, params) => {\r\n    console.log(`[Store] 📥 Auto-populating store with ${results.length} pre-fetched flights`);\r\n\r\n    const store = useFlightStore.getState();\r\n\r\n    // Explicitly update search params and results\r\n    store.setFlightResults(results);\r\n    store.setSearchParams(params);\r\n\r\n    // Update loading and error states\r\n    useFlightStore.setState({\r\n        isSearchLoading: false,\r\n        searchError: null,\r\n        pagination: { ...store.pagination, currentPage: 1 }\r\n    } as any);\r\n\r\n    // Run the consolidated post-processing\r\n    store.processFlightResults(results, {\r\n        originLocationCode: params.originLocationCode,\r\n        destinationLocationCode: params.destinationLocationCode\r\n    });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\lib\\store\\slices\\discoverySlice.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":7,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[318,321],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[318,321],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":8,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[346,349],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[346,349],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":9,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[370,373],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[370,373],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":10,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[399,402],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[399,402],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":53,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":53,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2200,2203],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2200,2203],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":58,"column":65,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":58,"endColumn":68,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2494,2497],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2494,2497],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":63,"column":96,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":63,"endColumn":99,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2815,2818],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2815,2818],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":91,"column":76,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":91,"endColumn":79,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3965,3968],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3965,3968],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":139,"column":10,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":139,"endColumn":13,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5670,5673],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5670,5673],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":9,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { StateCreator } from 'zustand';\r\nimport { FlightStore } from '@/types/store';\r\nimport { getFlightInspirationAction, getNearbyAirportsAction, getAirlinesAction } from '@/app/actions/flight';\r\nimport { getAIInsightsAction } from '@/app/actions/predict';\r\n\r\nexport interface DiscoverySlice {\r\n    discoveryDeals: any[];\r\n    nearbyAirports: any[];\r\n    originPOIs: any[];\r\n    destinationPOIs: any[];\r\n    contextHub: string | null;\r\n    lastFetchedDiscovery: number | null;\r\n    fetchDiscoveryDeals: (origin: string, force?: boolean) => Promise<void>;\r\n    fetchNearbyAirports: (lat: number, lon: number) => Promise<void>;\r\n    fetchOriginInsights: (locationName: string, iataCode?: string) => Promise<void>;\r\n    fetchDestinationInsights: (locationName: string, iataCode?: string) => Promise<void>;\r\n    resetSearch: () => void;\r\n}\r\n\r\nexport const createDiscoverySlice: StateCreator<FlightStore, [], [], DiscoverySlice> = (set, get) => ({\r\n    discoveryDeals: [],\r\n    nearbyAirports: [],\r\n    originPOIs: [],\r\n    destinationPOIs: [],\r\n    contextHub: null,\r\n    lastFetchedDiscovery: null,\r\n\r\n    fetchDiscoveryDeals: async (origin, force = false) => {\r\n        if (!origin) return;\r\n        const now = Date.now();\r\n        const lastFetched = get().lastFetchedDiscovery;\r\n        const CACHE_DURATION = 5 * 60 * 1000;\r\n\r\n        if (!force && lastFetched && now - lastFetched < CACHE_DURATION) return;\r\n\r\n        set({ isDiscoveryLoading: true });\r\n        try {\r\n            const iataCode = origin.includes(\" - \") ? origin.split(\" - \")[0] : origin.trim().toUpperCase();\r\n            if (iataCode.length !== 3) {\r\n                set({ isDiscoveryLoading: false });\r\n                return;\r\n            }\r\n\r\n            let deals = await getFlightInspirationAction(iataCode);\r\n            if ((!deals || deals.length === 0) && iataCode !== 'PAR') {\r\n                deals = await getFlightInspirationAction('PAR');\r\n                set({ contextHub: 'PAR', currency: 'EUR' });\r\n            } else {\r\n                set({ contextHub: null, currency: 'USD' });\r\n            }\r\n\r\n            if (deals && deals.length > 0) {\r\n                const codes = Array.from(new Set(deals.map((d: any) => d.airline).filter(Boolean)));\r\n                if (codes.length > 0) {\r\n                    try {\r\n                        const details = await getAirlinesAction(codes.join(','));\r\n                        if (details) {\r\n                            const newAirlines = details.map((a: any) => ({\r\n                                code: a.iataCode,\r\n                                name: a.commonName || a.businessName || a.iataCode\r\n                            }));\r\n                            set(state => ({\r\n                                topAirlines: [...state.topAirlines, ...newAirlines.filter((na: any) => !state.topAirlines.some(ea => ea.code === na.code))]\r\n                            }));\r\n                        }\r\n                    } catch (e) { console.error(\"[Store] Discovery Airline Resolution Error:\", e); }\r\n                }\r\n            }\r\n\r\n            set({\r\n                discoveryDeals: deals?.slice(0, 8) || [],\r\n                isDiscoveryLoading: false,\r\n                lastFetchedDiscovery: now\r\n            });\r\n        } catch (error) {\r\n            console.error(\"[Store] Discovery Fetch Critical Error:\", error);\r\n            set({ isDiscoveryLoading: false });\r\n        }\r\n    },\r\n\r\n    fetchNearbyAirports: async (lat, lon) => {\r\n        try {\r\n            const data = await getNearbyAirportsAction(lat, lon);\r\n            const airports = data.slice(0, 5);\r\n            set({ nearbyAirports: airports });\r\n\r\n            const currentOrigin = get().origin;\r\n            if (!currentOrigin && airports.length > 0) {\r\n                const airport = airports[0];\r\n                const originStr = `${airport.iataCode} - ${airport.name}`;\r\n                set({ origin: originStr, originCode: airport.iataCode } as any);\r\n                get().fetchDiscoveryDeals(airport.iataCode);\r\n                get().fetchOriginInsights(airport.name || airport.iataCode, airport.iataCode);\r\n            }\r\n        } catch (error) { console.error(\"[Store] Nearby Airports Error:\", error); }\r\n    },\r\n\r\n    fetchOriginInsights: async (locationName, iataCode) => {\r\n        if (!locationName) return;\r\n        set({ isPOILoading: true, originPOIs: [] });\r\n        try {\r\n            const pois = await getAIInsightsAction(locationName, iataCode);\r\n            set({ originPOIs: pois || [], isPOILoading: false });\r\n        } catch (error) {\r\n            console.error(\"[Store] Origin Insights Error:\", error);\r\n            set({ isPOILoading: false });\r\n        }\r\n    },\r\n\r\n    fetchDestinationInsights: async (locationName, iataCode) => {\r\n        if (!locationName) return;\r\n        set({ isPOILoading: true, destinationPOIs: [] });\r\n        try {\r\n            const pois = await getAIInsightsAction(locationName, iataCode);\r\n            set({ destinationPOIs: pois || [], isPOILoading: false });\r\n        } catch (error) {\r\n            console.error(\"[Store] Destination Insights Error:\", error);\r\n            set({ isPOILoading: false });\r\n        }\r\n    },\r\n\r\n    resetSearch: () => set({\r\n        origin: \"\",\r\n        originCode: \"\",\r\n        destination: \"\",\r\n        destinationCode: \"\",\r\n        departureDate: \"\",\r\n        returnDate: \"\",\r\n        passengers: 1,\r\n        flightResults: [],\r\n        searchParams: null,\r\n        filters: {\r\n            stops: [],\r\n            maxPrice: 5000,\r\n            airlines: [],\r\n            cabinClass: 'Economy',\r\n        },\r\n        availableCabinClasses: [\"Economy\"],\r\n    } as any),\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\lib\\store\\slices\\localizationSlice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\lib\\store\\slices\\resultsSlice.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'getAIInsightsAction' is defined but never used.","line":4,"column":36,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":55,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"getAIInsightsAction"},"fix":{"range":[213,234],"text":""},"desc":"Remove unused variable \"getAIInsightsAction\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":8,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[381,384],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[381,384],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":9,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[407,410],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[407,410],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":10,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[437,440],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[437,440],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":18,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[687,690],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[687,690],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":19,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[734,737],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[734,737],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":20,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[777,780],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[777,780],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":24,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1032,1035],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1032,1035],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":25,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1071,1074],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1071,1074],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":27,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1218,1221],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1218,1221],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":27,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1233,1236],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1233,1236],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":95,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":95,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3604,3607],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3604,3607],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":103,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":103,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3986,3989],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3986,3989],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":155,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":155,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6174,6177],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6174,6177],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":200,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":200,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8157,8160],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8157,8160],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":203,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":203,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8372,8375],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8372,8375],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":204,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":204,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8426,8429],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8426,8429],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":211,"column":79,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":211,"endColumn":82,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8728,8731],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8728,8731],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":212,"column":70,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":212,"endColumn":73,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8806,8809],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8806,8809],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":225,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":225,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9375,9378],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9375,9378],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":232,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":232,"endColumn":23},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":237,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":237,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9836,9839],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9836,9839],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":20,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { StateCreator } from 'zustand';\r\nimport { FlightStore, FilterState, PaginationState, AirlineInfo } from '@/types/store';\r\nimport { smartSearch } from '../../smartSearch';\r\nimport { predictPriceTrendsAction, getAIInsightsAction } from '@/app/actions/predict';\r\nimport { getAirlinesAction } from '@/app/actions/flight';\r\n\r\nexport interface ResultsSlice {\r\n    flightResults: any[];\r\n    searchParams: any | null;\r\n    priceTrends: any[];\r\n    topAirlines: AirlineInfo[];\r\n    availableCabinClasses: string[];\r\n    sortBy: 'price' | 'duration' | 'best';\r\n    sortOrder: 'asc' | 'desc';\r\n    pagination: PaginationState;\r\n    filters: FilterState;\r\n\r\n    setFlightResults: (results: any[]) => void;\r\n    setSearchParams: (params: any) => void;\r\n    searchFlights: (params: any) => Promise<void>;\r\n    updateFilters: (filters: Partial<FilterState>) => void;\r\n    updateSort: (sortBy: 'price' | 'duration' | 'best', sortOrder: 'asc' | 'desc') => void;\r\n    updatePagination: (page: number) => void;\r\n    getFilteredFlights: () => any[];\r\n    getPaginatedFlights: () => any[];\r\n    fetchAIPriceTrends: (origin: string, destination: string, currentPrice: number) => Promise<void>;\r\n    processFlightResults: (results: any[], params: any) => Promise<void>;\r\n    fetchTopAirlines: (origin: string, destination?: string) => Promise<void>;\r\n}\r\n\r\nexport const createResultsSlice: StateCreator<FlightStore, [], [], ResultsSlice> = (set, get) => ({\r\n    flightResults: [],\r\n    searchParams: null,\r\n    priceTrends: [],\r\n    topAirlines: [],\r\n    availableCabinClasses: [\"Economy\"],\r\n    sortBy: 'price',\r\n    sortOrder: 'asc',\r\n    pagination: {\r\n        currentPage: 1,\r\n        itemsPerPage: 10\r\n    },\r\n    filters: {\r\n        stops: [],\r\n        maxPrice: 5000,\r\n        airlines: [],\r\n        cabinClass: 'Economy',\r\n    },\r\n\r\n    setFlightResults: (results) => set({ flightResults: results }),\r\n    setSearchParams: (params) => set({ searchParams: params }),\r\n\r\n    searchFlights: async (params) => {\r\n        set({\r\n            isSearchLoading: true,\r\n            searchParams: params,\r\n            searchError: null,\r\n            errorMessage: null,\r\n            flightResults: [],\r\n            priceTrends: []\r\n        });\r\n        console.info(`%c[Store] 🛫 Executing Smart Search: ${params.originLocationCode} ➝ ${params.destinationLocationCode}`, \"color: #38bdf8; font-weight: bold;\");\r\n\r\n        try {\r\n            const results = await smartSearch.getOrFetchFlights({\r\n                originLocationCode: params.originLocationCode,\r\n                destinationLocationCode: params.destinationLocationCode,\r\n                departureDate: params.departureDate,\r\n                adults: params.adults,\r\n                returnDate: params.returnDate\r\n            });\r\n\r\n            if (!results || results.length === 0) {\r\n                set({\r\n                    searchError: 'no_flights_found',\r\n                    errorMessage: 'No flights available for this route and dates',\r\n                    flightResults: [],\r\n                    isSearchLoading: false\r\n                });\r\n                return;\r\n            }\r\n\r\n            set({\r\n                flightResults: results || [],\r\n                isSearchLoading: false,\r\n                pagination: { ...get().pagination, currentPage: 1 },\r\n                searchError: null\r\n            });\r\n\r\n            await get().processFlightResults(results, {\r\n                originLocationCode: params.originLocationCode,\r\n                destinationLocationCode: params.destinationLocationCode\r\n            });\r\n\r\n        } catch (error: any) {\r\n            console.error(\"[Store] Flight Search Critical Error:\", error);\r\n            let errorType = 'api_error';\r\n            if (error?.message?.includes('network') || error?.message?.includes('fetch')) {\r\n                errorType = 'network_error';\r\n            }\r\n            set({\r\n                isSearchLoading: false,\r\n                searchError: errorType as any,\r\n                errorMessage: error?.message || 'An error occurred while searching for flights'\r\n            });\r\n        }\r\n    },\r\n\r\n    updateFilters: (newFilters) => set((state) => ({\r\n        filters: { ...state.filters, ...newFilters }\r\n    })),\r\n\r\n    updateSort: (sortBy, sortOrder) => set({ sortBy, sortOrder }),\r\n\r\n    updatePagination: (page) => set((state) => ({\r\n        pagination: { ...state.pagination, currentPage: page }\r\n    })),\r\n\r\n    getFilteredFlights: () => {\r\n        const { flightResults, filters, sortBy, sortOrder } = get();\r\n        if (!flightResults) return [];\r\n\r\n        return flightResults.filter((flight) => {\r\n            const price = parseFloat(flight.price?.total || flight.price?.amount || flight.price || \"0\");\r\n            if (price > filters.maxPrice) return false;\r\n\r\n            const isSearchRes = !!flight.itineraries;\r\n            if (isSearchRes && filters.stops.length > 0) {\r\n                const stops = (flight.itineraries[0]?.segments?.length || 1) - 1;\r\n                if (!filters.stops.includes(stops)) return false;\r\n            }\r\n\r\n            if (filters.airlines.length > 0) {\r\n                const validating = flight.validatingAirlineCodes?.[0];\r\n                const operating = flight.itineraries?.[0]?.segments?.[0]?.carrierCode;\r\n                if (!filters.airlines.includes(validating) && !filters.airlines.includes(operating)) {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            if (filters.cabinClass !== 'Economy') {\r\n                const cabin = flight.travelerPricings?.[0]?.fareDetailsBySegment?.[0]?.cabin;\r\n                if (cabin !== filters.cabinClass) return false;\r\n            }\r\n\r\n            return true;\r\n        }).sort((a, b) => {\r\n            const factor = sortOrder === 'asc' ? 1 : -1;\r\n            if (sortBy === 'price') {\r\n                const priceA = parseFloat(a.price?.total || a.price?.amount || \"0\");\r\n                const priceB = parseFloat(b.price?.total || b.price?.amount || \"0\");\r\n                return (priceA - priceB) * factor;\r\n            }\r\n            if (sortBy === 'duration') {\r\n                const getDuration = (f: any) => f.itineraries?.[0]?.duration || \"\";\r\n                return (getDuration(a).localeCompare(getDuration(b))) * factor;\r\n            }\r\n            return 0;\r\n        });\r\n    },\r\n\r\n    getPaginatedFlights: () => {\r\n        const filtered = get().getFilteredFlights();\r\n        const { currentPage, itemsPerPage } = get().pagination;\r\n        const startIndex = (currentPage - 1) * itemsPerPage;\r\n        return filtered.slice(startIndex, startIndex + itemsPerPage);\r\n    },\r\n\r\n    fetchAIPriceTrends: async (origin, destination, currentPrice) => {\r\n        try {\r\n            console.log(`[Store] Fetching AI Price Trends for: ${origin} -> ${destination} (Base: ${currentPrice})`);\r\n            const trends = await predictPriceTrendsAction(origin, destination, currentPrice);\r\n\r\n            if (trends && trends.length > 0) {\r\n                set({ priceTrends: trends });\r\n            } else {\r\n                const failSafeTrends = Array.from({ length: 14 }, (_, i) => {\r\n                    const date = new Date();\r\n                    date.setDate(date.getDate() + i);\r\n                    const variation = 1 + (Math.random() * 0.3 - 0.1);\r\n                    return {\r\n                        date: date.toISOString().split('T')[0],\r\n                        price: Math.round(currentPrice * variation)\r\n                    };\r\n                });\r\n                set({ priceTrends: failSafeTrends });\r\n            }\r\n        } catch (error) {\r\n            console.error(\"[Store] AI Price Trend Error:\", error);\r\n            const date = new Date();\r\n            set({ priceTrends: [{ date: date.toISOString().split('T')[0], price: currentPrice }] });\r\n        }\r\n    },\r\n\r\n    processFlightResults: async (results, params) => {\r\n        if (!results || results.length === 0) return;\r\n        console.log(`[Store] ⚙️ Processing ${results.length} results for filters & trends...`);\r\n\r\n        const uniqueCarrierCodes = new Set<string>();\r\n        results.forEach((f: any) => {\r\n            if (f.validatingAirlineCodes?.[0]) uniqueCarrierCodes.add(f.validatingAirlineCodes[0]);\r\n            if (f.airline) uniqueCarrierCodes.add(f.airline);\r\n            f.itineraries?.forEach((it: any) => {\r\n                it.segments?.forEach((seg: any) => {\r\n                    if (seg.carrierCode) uniqueCarrierCodes.add(seg.carrierCode);\r\n                });\r\n            });\r\n        });\r\n\r\n        const carrierList = Array.from(uniqueCarrierCodes).filter(Boolean);\r\n        const resultsCabinClasses: string[] = [...new Set(results.flatMap((f: any) =>\r\n            f.travelerPricings?.[0]?.fareDetailsBySegment?.map((seg: any) => seg.cabin) || []\r\n        ))].filter(Boolean) as string[];\r\n\r\n        set({\r\n            availableCabinClasses: resultsCabinClasses.length > 0 ? resultsCabinClasses : [\"Economy\"]\r\n        });\r\n\r\n        if (carrierList.length > 0) {\r\n            const carrierStr = carrierList.join(',');\r\n            try {\r\n                const airlineData = await getAirlinesAction(carrierStr);\r\n                const existingAirlines = airlineData || [];\r\n                const mapped = carrierList.map(code => {\r\n                    const match = existingAirlines.find((a: any) => a.iataCode === code);\r\n                    return {\r\n                        code,\r\n                        name: match ? (match.commonName || match.businessName || code) : code\r\n                    };\r\n                });\r\n                set({ topAirlines: mapped });\r\n            } catch (e) {\r\n                set({ topAirlines: carrierList.map(code => ({ code, name: code })) });\r\n            }\r\n        }\r\n\r\n        const prices = results.map((f: any) => parseFloat(f.price?.total || f.price?.amount || 0));\r\n        const cheapest = prices.length > 0 ? Math.min(...prices) : 0;\r\n        if (cheapest > 0 && params.originLocationCode && params.destinationLocationCode) {\r\n            get().fetchAIPriceTrends(params.originLocationCode, params.destinationLocationCode, cheapest);\r\n        }\r\n    },\r\n\r\n    fetchTopAirlines: async (origin, destination) => {\r\n        console.log(`[Store] Fetching Carriers for ${origin} -> ${destination || 'Anywhere'}`);\r\n    },\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\lib\\store\\slices\\searchSlice.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'smartSearch' is defined but never used.","line":3,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":21,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"smartSearch"},"fix":{"range":[87,135],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":13,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[375,378],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[375,378],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":14,"column":146,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":149,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[528,531],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[528,531],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":15,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[582,585],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[582,585],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":30,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":30,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1005,1008],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1005,1008],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":79,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":79,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3274,3277],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3274,3277],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { StateCreator } from 'zustand';\r\nimport { FlightStore } from '@/types/store';\r\nimport { smartSearch } from '../../smartSearch';\r\n\r\nexport interface SearchSlice {\r\n    origin: string;\r\n    originCode: string;\r\n    destination: string;\r\n    destinationCode: string;\r\n    departureDate: string;\r\n    returnDate: string;\r\n    passengers: number;\r\n    retrievedLocations: any[];\r\n    updateSearchParam: (key: 'origin' | 'destination' | 'departureDate' | 'returnDate' | 'passengers' | 'originCode' | 'destinationCode', value: any) => void;\r\n    setRetrievedLocations: (locations: any[]) => void;\r\n    detectUserLocation: () => Promise<void>;\r\n}\r\n\r\nexport const createSearchSlice: StateCreator<FlightStore, [], [], SearchSlice> = (set, get) => ({\r\n    origin: \"\",\r\n    originCode: \"\",\r\n    destination: \"\",\r\n    destinationCode: \"\",\r\n    departureDate: \"\",\r\n    returnDate: \"\",\r\n    passengers: 1,\r\n    retrievedLocations: [],\r\n\r\n    updateSearchParam: (key, value) => {\r\n        set({ [key]: value } as any);\r\n        if (key === 'destination' && value && value.length > 2) {\r\n            const cityName = value.split(' - ')[0] || value;\r\n            get().fetchDestinationInsights(cityName, get().destinationCode);\r\n        } else if (key === 'destinationCode' && value && value.length === 3) {\r\n            const cityName = get().destination.split(' - ')[0] || get().destination;\r\n            get().fetchDestinationInsights(cityName || value, value);\r\n        }\r\n    },\r\n\r\n    setRetrievedLocations: (locations) => set({ retrievedLocations: locations }),\r\n\r\n    detectUserLocation: async () => {\r\n        if (!navigator.geolocation) return;\r\n\r\n        // Auth guard - defensive programming\r\n        if (typeof window !== 'undefined') {\r\n            const { auth } = await import('@/lib/firebase');\r\n            const { onAuthStateChanged } = await import('firebase/auth');\r\n\r\n            const isAuthenticated = await new Promise<boolean>((resolve) => {\r\n                const unsubscribe = onAuthStateChanged(auth, (user) => {\r\n                    unsubscribe();\r\n                    resolve(!!user);\r\n                });\r\n            });\r\n\r\n            if (!isAuthenticated) {\r\n                console.warn('[Store] Location detection requires authentication. User must sign in first.');\r\n                return;\r\n            }\r\n        }\r\n\r\n        try {\r\n            const { getNearbyAirportsAction } = await import('@/app/actions/flight');\r\n            const pos = await new Promise<GeolocationPosition>((resolve, reject) => {\r\n                navigator.geolocation.getCurrentPosition(resolve, reject);\r\n            });\r\n            const airports = await getNearbyAirportsAction(pos.coords.latitude, pos.coords.longitude);\r\n            console.log(`%c[GEOLOCATION] OS Coordinates: ${pos.coords.latitude}, ${pos.coords.longitude}`, \"color: #fbbf24; font-weight: bold;\");\r\n\r\n            if (airports && airports.length > 0) {\r\n                const airport = airports[0];\r\n                const originStr = `${airport.iataCode} - ${airport.name}`;\r\n                console.info(`[STORE] Nearest airport detected: ${originStr}`);\r\n\r\n                set({\r\n                    origin: originStr,\r\n                    originCode: airport.iataCode\r\n                } as any);\r\n\r\n                const cityName = airport.name || originStr.split(' - ')[1] || originStr;\r\n                await get().fetchOriginInsights(cityName, airport.iataCode);\r\n                await get().fetchDiscoveryDeals(airport.iataCode);\r\n            }\r\n        } catch (error) {\r\n            console.error(\"[Store] Location detection error:\", error);\r\n        }\r\n    },\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\lib\\store\\slices\\uiSlice.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":9,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[279,282],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[279,282],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":12,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[418,421],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[418,421],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { StateCreator } from 'zustand';\r\nimport { FlightStore } from '@/types/store';\r\n\r\nexport interface UISlice {\r\n    viewMode: 'landing' | 'searching' | 'results';\r\n    isDiscoveryLoading: boolean;\r\n    isSearchLoading: boolean;\r\n    isPOILoading: boolean;\r\n    searchError: any;\r\n    errorMessage: string | null;\r\n    setViewMode: (mode: 'landing' | 'searching' | 'results') => void;\r\n    setSearchError: (error: any, message?: string) => void;\r\n    clearError: () => void;\r\n}\r\n\r\nexport const createUISlice: StateCreator<FlightStore, [], [], UISlice> = (set) => ({\r\n    viewMode: 'landing',\r\n    isDiscoveryLoading: false,\r\n    isSearchLoading: false,\r\n    isPOILoading: false,\r\n    searchError: null,\r\n    errorMessage: null,\r\n\r\n    setViewMode: (mode) => set({ viewMode: mode }),\r\n    setSearchError: (error, message) => set({ searchError: error, errorMessage: message || null }),\r\n    clearError: () => set({ searchError: null, errorMessage: null }),\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\types\\amadeus.d.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[47,50],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[47,50],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"declare module 'amadeus' {\r\n    const Amadeus: any;\r\n    export default Amadeus;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\types\\components.ts","messages":[{"ruleId":"@typescript-eslint/no-empty-object-type","severity":2,"message":"An empty interface declaration allows any non-nullish value, including literals like `0` and `\"\"`.\n- If that's what you want, disable this lint rule with an inline comment or configure the 'allowInterfaces' rule option.\n- If you want a type meaning \"any object\", you probably want `object` instead.\n- If you want a type meaning \"any value\", you probably want `unknown` instead.","line":11,"column":18,"nodeType":"Identifier","messageId":"noEmptyInterface","endLine":11,"endColumn":29,"suggestions":[{"messageId":"replaceEmptyInterface","data":{"replacement":"object"},"fix":{"range":[192,262],"text":"type FooterProps = object"},"desc":"Replace empty interface with `object`."},{"messageId":"replaceEmptyInterface","data":{"replacement":"unknown"},"fix":{"range":[192,262],"text":"type FooterProps = unknown"},"desc":"Replace empty interface with `unknown`."}]},{"ruleId":"@typescript-eslint/no-empty-object-type","severity":2,"message":"An empty interface declaration allows any non-nullish value, including literals like `0` and `\"\"`.\n- If that's what you want, disable this lint rule with an inline comment or configure the 'allowInterfaces' rule option.\n- If you want a type meaning \"any object\", you probably want `object` instead.\n- If you want a type meaning \"any value\", you probably want `unknown` instead.","line":23,"column":18,"nodeType":"Identifier","messageId":"noEmptyInterface","endLine":23,"endColumn":33,"suggestions":[{"messageId":"replaceEmptyInterface","data":{"replacement":"object"},"fix":{"range":[425,504],"text":"type SearchFormProps = object"},"desc":"Replace empty interface with `object`."},{"messageId":"replaceEmptyInterface","data":{"replacement":"unknown"},"fix":{"range":[425,504],"text":"type SearchFormProps = unknown"},"desc":"Replace empty interface with `unknown`."}]},{"ruleId":"@typescript-eslint/no-empty-object-type","severity":2,"message":"An empty interface declaration allows any non-nullish value, including literals like `0` and `\"\"`.\n- If that's what you want, disable this lint rule with an inline comment or configure the 'allowInterfaces' rule option.\n- If you want a type meaning \"any object\", you probably want `object` instead.\n- If you want a type meaning \"any value\", you probably want `unknown` instead.","line":27,"column":18,"nodeType":"Identifier","messageId":"noEmptyInterface","endLine":27,"endColumn":36,"suggestions":[{"messageId":"replaceEmptyInterface","data":{"replacement":"object"},"fix":{"range":[515,600],"text":"type SearchSectionProps = object"},"desc":"Replace empty interface with `object`."},{"messageId":"replaceEmptyInterface","data":{"replacement":"unknown"},"fix":{"range":[515,600],"text":"type SearchSectionProps = unknown"},"desc":"Replace empty interface with `unknown`."}]},{"ruleId":"@typescript-eslint/no-empty-object-type","severity":2,"message":"An empty interface declaration allows any non-nullish value, including literals like `0` and `\"\"`.\n- If that's what you want, disable this lint rule with an inline comment or configure the 'allowInterfaces' rule option.\n- If you want a type meaning \"any object\", you probably want `object` instead.\n- If you want a type meaning \"any value\", you probably want `unknown` instead.","line":31,"column":18,"nodeType":"Identifier","messageId":"noEmptyInterface","endLine":31,"endColumn":34,"suggestions":[{"messageId":"replaceEmptyInterface","data":{"replacement":"object"},"fix":{"range":[611,692],"text":"type SearchGuideProps = object"},"desc":"Replace empty interface with `object`."},{"messageId":"replaceEmptyInterface","data":{"replacement":"unknown"},"fix":{"range":[611,692],"text":"type SearchGuideProps = unknown"},"desc":"Replace empty interface with `unknown`."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":37,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":37,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[771,774],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[771,774],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-empty-object-type","severity":2,"message":"An empty interface declaration allows any non-nullish value, including literals like `0` and `\"\"`.\n- If that's what you want, disable this lint rule with an inline comment or configure the 'allowInterfaces' rule option.\n- If you want a type meaning \"any object\", you probably want `object` instead.\n- If you want a type meaning \"any value\", you probably want `unknown` instead.","line":41,"column":18,"nodeType":"Identifier","messageId":"noEmptyInterface","endLine":41,"endColumn":39,"suggestions":[{"messageId":"replaceEmptyInterface","data":{"replacement":"object"},"fix":{"range":[857,940],"text":"type ResultsDashboardProps = object"},"desc":"Replace empty interface with `object`."},{"messageId":"replaceEmptyInterface","data":{"replacement":"unknown"},"fix":{"range":[857,940],"text":"type ResultsDashboardProps = unknown"},"desc":"Replace empty interface with `unknown`."}]},{"ruleId":"@typescript-eslint/no-empty-object-type","severity":2,"message":"An empty interface declaration allows any non-nullish value, including literals like `0` and `\"\"`.\n- If that's what you want, disable this lint rule with an inline comment or configure the 'allowInterfaces' rule option.\n- If you want a type meaning \"any object\", you probably want `object` instead.\n- If you want a type meaning \"any value\", you probably want `unknown` instead.","line":45,"column":18,"nodeType":"Identifier","messageId":"noEmptyInterface","endLine":45,"endColumn":46,"suggestions":[{"messageId":"replaceEmptyInterface","data":{"replacement":"object"},"fix":{"range":[951,1039],"text":"type ResultsDashboardWrapperProps = object"},"desc":"Replace empty interface with `object`."},{"messageId":"replaceEmptyInterface","data":{"replacement":"unknown"},"fix":{"range":[951,1039],"text":"type ResultsDashboardWrapperProps = unknown"},"desc":"Replace empty interface with `unknown`."}]},{"ruleId":"@typescript-eslint/no-empty-object-type","severity":2,"message":"An empty interface declaration allows any non-nullish value, including literals like `0` and `\"\"`.\n- If that's what you want, disable this lint rule with an inline comment or configure the 'allowInterfaces' rule option.\n- If you want a type meaning \"any object\", you probably want `object` instead.\n- If you want a type meaning \"any value\", you probably want `unknown` instead.","line":50,"column":18,"nodeType":"Identifier","messageId":"noEmptyInterface","endLine":50,"endColumn":36,"suggestions":[{"messageId":"replaceEmptyInterface","data":{"replacement":"object"},"fix":{"range":[1073,1158],"text":"type TouristPlacesProps = object"},"desc":"Replace empty interface with `object`."},{"messageId":"replaceEmptyInterface","data":{"replacement":"unknown"},"fix":{"range":[1073,1158],"text":"type TouristPlacesProps = unknown"},"desc":"Replace empty interface with `unknown`."}]},{"ruleId":"@typescript-eslint/no-empty-object-type","severity":2,"message":"An empty interface declaration allows any non-nullish value, including literals like `0` and `\"\"`.\n- If that's what you want, disable this lint rule with an inline comment or configure the 'allowInterfaces' rule option.\n- If you want a type meaning \"any object\", you probably want `object` instead.\n- If you want a type meaning \"any value\", you probably want `unknown` instead.","line":54,"column":18,"nodeType":"Identifier","messageId":"noEmptyInterface","endLine":54,"endColumn":34,"suggestions":[{"messageId":"replaceEmptyInterface","data":{"replacement":"object"},"fix":{"range":[1169,1250],"text":"type FlightDealsProps = object"},"desc":"Replace empty interface with `object`."},{"messageId":"replaceEmptyInterface","data":{"replacement":"unknown"},"fix":{"range":[1169,1250],"text":"type FlightDealsProps = unknown"},"desc":"Replace empty interface with `unknown`."}]},{"ruleId":"@typescript-eslint/no-empty-object-type","severity":2,"message":"An empty interface declaration allows any non-nullish value, including literals like `0` and `\"\"`.\n- If that's what you want, disable this lint rule with an inline comment or configure the 'allowInterfaces' rule option.\n- If you want a type meaning \"any object\", you probably want `object` instead.\n- If you want a type meaning \"any value\", you probably want `unknown` instead.","line":58,"column":18,"nodeType":"Identifier","messageId":"noEmptyInterface","endLine":58,"endColumn":33,"suggestions":[{"messageId":"replaceEmptyInterface","data":{"replacement":"object"},"fix":{"range":[1261,1340],"text":"type PriceGraphProps = object"},"desc":"Replace empty interface with `object`."},{"messageId":"replaceEmptyInterface","data":{"replacement":"unknown"},"fix":{"range":[1261,1340],"text":"type PriceGraphProps = unknown"},"desc":"Replace empty interface with `unknown`."}]},{"ruleId":"@typescript-eslint/no-empty-object-type","severity":2,"message":"An empty interface declaration allows any non-nullish value, including literals like `0` and `\"\"`.\n- If that's what you want, disable this lint rule with an inline comment or configure the 'allowInterfaces' rule option.\n- If you want a type meaning \"any object\", you probably want `object` instead.\n- If you want a type meaning \"any value\", you probably want `unknown` instead.","line":62,"column":18,"nodeType":"Identifier","messageId":"noEmptyInterface","endLine":62,"endColumn":39,"suggestions":[{"messageId":"replaceEmptyInterface","data":{"replacement":"object"},"fix":{"range":[1351,1436],"text":"type SearchFiltersBarProps = object"},"desc":"Replace empty interface with `object`."},{"messageId":"replaceEmptyInterface","data":{"replacement":"unknown"},"fix":{"range":[1351,1436],"text":"type SearchFiltersBarProps = unknown"},"desc":"Replace empty interface with `unknown`."}]},{"ruleId":"@typescript-eslint/no-empty-object-type","severity":2,"message":"An empty interface declaration allows any non-nullish value, including literals like `0` and `\"\"`.\n- If that's what you want, disable this lint rule with an inline comment or configure the 'allowInterfaces' rule option.\n- If you want a type meaning \"any object\", you probably want `object` instead.\n- If you want a type meaning \"any value\", you probably want `unknown` instead.","line":67,"column":18,"nodeType":"Identifier","messageId":"noEmptyInterface","endLine":67,"endColumn":34,"suggestions":[{"messageId":"replaceEmptyInterface","data":{"replacement":"object"},"fix":{"range":[1465,1546],"text":"type ThemeToggleProps = object"},"desc":"Replace empty interface with `object`."},{"messageId":"replaceEmptyInterface","data":{"replacement":"unknown"},"fix":{"range":[1465,1546],"text":"type ThemeToggleProps = unknown"},"desc":"Replace empty interface with `unknown`."}]},{"ruleId":"@typescript-eslint/no-empty-object-type","severity":2,"message":"An empty interface declaration allows any non-nullish value, including literals like `0` and `\"\"`.\n- If that's what you want, disable this lint rule with an inline comment or configure the 'allowInterfaces' rule option.\n- If you want a type meaning \"any object\", you probably want `object` instead.\n- If you want a type meaning \"any value\", you probably want `unknown` instead.","line":71,"column":18,"nodeType":"Identifier","messageId":"noEmptyInterface","endLine":71,"endColumn":27,"suggestions":[{"messageId":"replaceEmptyInterface","data":{"replacement":"object"},"fix":{"range":[1557,1623],"text":"type AuthProps = object"},"desc":"Replace empty interface with `object`."},{"messageId":"replaceEmptyInterface","data":{"replacement":"unknown"},"fix":{"range":[1557,1623],"text":"type AuthProps = unknown"},"desc":"Replace empty interface with `unknown`."}]},{"ruleId":"@typescript-eslint/no-empty-object-type","severity":2,"message":"An empty interface declaration allows any non-nullish value, including literals like `0` and `\"\"`.\n- If that's what you want, disable this lint rule with an inline comment or configure the 'allowInterfaces' rule option.\n- If you want a type meaning \"any object\", you probably want `object` instead.\n- If you want a type meaning \"any value\", you probably want `unknown` instead.","line":75,"column":18,"nodeType":"Identifier","messageId":"noEmptyInterface","endLine":75,"endColumn":38,"suggestions":[{"messageId":"replaceEmptyInterface","data":{"replacement":"object"},"fix":{"range":[1634,1723],"text":"type AirlinesMarqueeProps = object"},"desc":"Replace empty interface with `object`."},{"messageId":"replaceEmptyInterface","data":{"replacement":"unknown"},"fix":{"range":[1634,1723],"text":"type AirlinesMarqueeProps = unknown"},"desc":"Replace empty interface with `unknown`."}]},{"ruleId":"@typescript-eslint/no-empty-object-type","severity":2,"message":"An empty interface declaration allows any non-nullish value, including literals like `0` and `\"\"`.\n- If that's what you want, disable this lint rule with an inline comment or configure the 'allowInterfaces' rule option.\n- If you want a type meaning \"any object\", you probably want `object` instead.\n- If you want a type meaning \"any value\", you probably want `unknown` instead.","line":79,"column":18,"nodeType":"Identifier","messageId":"noEmptyInterface","endLine":79,"endColumn":27,"suggestions":[{"messageId":"replaceEmptyInterface","data":{"replacement":"object"},"fix":{"range":[1734,1800],"text":"type HeroProps = object"},"desc":"Replace empty interface with `object`."},{"messageId":"replaceEmptyInterface","data":{"replacement":"unknown"},"fix":{"range":[1734,1800],"text":"type HeroProps = unknown"},"desc":"Replace empty interface with `unknown`."}]}],"suppressedMessages":[],"errorCount":15,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Component Props Types\r\n * Centralized type definitions for all component props\r\n */\r\n\r\n// Layout Components\r\nexport interface HeaderProps {\r\n    onLogoClick?: () => void;\r\n}\r\n\r\nexport interface FooterProps {\r\n    // Add footer-specific props if needed\r\n}\r\n\r\n// Error Handling\r\nexport interface ErrorBoundaryProps {\r\n    children: React.ReactNode;\r\n    fallback?: React.ReactNode;\r\n}\r\n\r\n\r\n// Search Components\r\nexport interface SearchFormProps {\r\n    // Add search form specific props if needed\r\n}\r\n\r\nexport interface SearchSectionProps {\r\n    // Add search section specific props if needed\r\n}\r\n\r\nexport interface SearchGuideProps {\r\n    // Add search guide specific props if needed\r\n}\r\n\r\n// Results Components\r\nexport interface FlightResultsProps {\r\n    results: any[]; // TODO: Replace with proper Flight type\r\n    isLoading: boolean;\r\n}\r\n\r\nexport interface ResultsDashboardProps {\r\n    // Add dashboard specific props if needed\r\n}\r\n\r\nexport interface ResultsDashboardWrapperProps {\r\n    // Add wrapper specific props if needed\r\n}\r\n\r\n// Feature Components\r\nexport interface TouristPlacesProps {\r\n    // Add tourist places specific props if needed\r\n}\r\n\r\nexport interface FlightDealsProps {\r\n    // Add flight deals specific props if needed\r\n}\r\n\r\nexport interface PriceGraphProps {\r\n    // Add price graph specific props if needed\r\n}\r\n\r\nexport interface SearchFiltersBarProps {\r\n    // Add filters bar specific props if needed\r\n}\r\n\r\n// UI Components\r\nexport interface ThemeToggleProps {\r\n    // Add theme toggle specific props if needed\r\n}\r\n\r\nexport interface AuthProps {\r\n    // Add auth specific props if needed\r\n}\r\n\r\nexport interface AirlinesMarqueeProps {\r\n    // Add airlines marquee specific props if needed\r\n}\r\n\r\nexport interface HeroProps {\r\n    // Add hero specific props if needed\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\types\\flight.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\types\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\types\\location.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\types\\search.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":15,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[308,311],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[308,311],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Search and Result Data Types\r\n */\r\n\r\nexport interface FlightSearchParams {\r\n    originLocationCode: string;\r\n    destinationLocationCode: string;\r\n    departureDate: string;\r\n    adults: string;\r\n    returnDate?: string;\r\n}\r\n\r\nexport interface CachedFlightResult {\r\n    params: string;\r\n    results: any[];\r\n    timestamp: number;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Projects\\flight-spotter\\src\\types\\store.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CachedLocation' is defined but never used.","line":2,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":24,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"CachedLocation"},"fix":{"range":[67,111],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":32,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[708,711],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[708,711],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":33,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[736,739],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[736,739],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":35,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":35,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[794,797],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[794,797],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":36,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":36,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[818,821],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[818,821],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":37,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":37,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[847,850],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[847,850],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":38,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":38,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[873,876],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[873,876],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":39,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":39,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[905,908],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[905,908],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":53,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":53,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1350,1353],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1350,1353],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":65,"column":146,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":65,"endColumn":149,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1776,1779],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1776,1779],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":67,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":67,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1882,1885],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1882,1885],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":68,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":68,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1929,1932],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1929,1932],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":75,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":75,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2426,2429],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2426,2429],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":77,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":77,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2583,2586],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2583,2586],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":84,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":84,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2884,2887],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2884,2887],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":87,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":87,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3084,3087],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3084,3087],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":91,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":91,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3295,3298],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3295,3298],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":91,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":91,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3310,3313],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3310,3313],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":17,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { ErrorType } from '@/components/SearchErrorDisplay';\r\nimport { CachedLocation } from './location';\r\n\r\nexport interface PaginationState {\r\n    currentPage: number;\r\n    itemsPerPage: number;\r\n}\r\n\r\nexport interface FilterState {\r\n    stops: number[];\r\n    maxPrice: number;\r\n    airlines: string[];\r\n    cabinClass: string;\r\n}\r\n\r\nexport interface AirlineInfo {\r\n    name: string;\r\n    code: string;\r\n}\r\n\r\nexport interface FlightStoreState {\r\n    // Search Parameters\r\n    origin: string;\r\n    originCode: string;\r\n    destination: string;\r\n    destinationCode: string;\r\n    departureDate: string;\r\n    returnDate: string;\r\n    passengers: number;\r\n\r\n    // Results & Entities\r\n    discoveryDeals: any[];\r\n    nearbyAirports: any[];\r\n    topAirlines: AirlineInfo[];\r\n    priceTrends: any[];\r\n    originPOIs: any[];\r\n    destinationPOIs: any[];\r\n    searchParams: any | null;\r\n    flightResults: any[];\r\n    contextHub: string | null;\r\n    currency: string;\r\n    language: string;\r\n    exchangeRates: Record<string, number>;\r\n    translations: Record<string, string>;\r\n    viewMode: 'landing' | 'searching' | 'results';\r\n\r\n    // UI & Loading\r\n    isDiscoveryLoading: boolean;\r\n    isSearchLoading: boolean;\r\n    isPOILoading: boolean;\r\n    availableCabinClasses: string[];\r\n    lastFetchedDiscovery: number | null;\r\n    retrievedLocations: any[];\r\n    searchError: ErrorType | null;\r\n    errorMessage: string | null;\r\n\r\n    // Logic State\r\n    sortBy: 'price' | 'duration' | 'best';\r\n    sortOrder: 'asc' | 'desc';\r\n    pagination: PaginationState;\r\n    filters: FilterState;\r\n}\r\n\r\nexport interface FlightStoreActions {\r\n    updateSearchParam: (key: 'origin' | 'destination' | 'departureDate' | 'returnDate' | 'passengers' | 'originCode' | 'destinationCode', value: any) => void;\r\n    updateFilters: (filters: Partial<FilterState>) => void;\r\n    setSearchParams: (params: any) => void;\r\n    setFlightResults: (results: any[]) => void;\r\n    fetchDiscoveryDeals: (origin: string, force?: boolean) => Promise<void>;\r\n    fetchNearbyAirports: (lat: number, lon: number) => Promise<void>;\r\n    fetchTopAirlines: (origin: string, destination?: string) => Promise<void>;\r\n    fetchOriginInsights: (locationName: string, iataCode?: string) => Promise<void>;\r\n    fetchDestinationInsights: (locationName: string, iataCode?: string) => Promise<void>;\r\n    detectUserLocation: () => Promise<void>;\r\n    searchFlights: (params: any) => Promise<void>;\r\n    fetchAIPriceTrends: (origin: string, destination: string, currentPrice: number) => Promise<void>;\r\n    getFilteredFlights: () => any[];\r\n    resetSearch: () => void;\r\n    setCurrency: (currency: string) => void;\r\n    setLanguage: (lang: string) => Promise<void>;\r\n    fetchRates: () => Promise<void>;\r\n    t: (text: string) => string;\r\n    formatPrice: (amount: number | string) => string;\r\n    setRetrievedLocations: (locations: any[]) => void;\r\n    updateSort: (sortBy: FlightStoreState['sortBy'], sortOrder: FlightStoreState['sortOrder']) => void;\r\n    updatePagination: (page: number) => void;\r\n    getPaginatedFlights: () => any[];\r\n    setSearchError: (error: ErrorType | null, message?: string) => void;\r\n    clearError: () => void;\r\n    setViewMode: (mode: FlightStoreState['viewMode']) => void;\r\n    processFlightResults: (results: any[], params: any) => Promise<void>;\r\n}\r\n\r\nexport type FlightStore = FlightStoreState & FlightStoreActions;\r\n","usedDeprecatedRules":[]}]